
Analiza metrologiczna algorytmów dyskretnej transformacji falkowej
mgr inż. Łukasz Dróżdż



Streszczenie
W pracy przedstawiono metodę wyznaczania wartości niepewności rozszerzonych wielkości wyjściowych torów pomiarowych zawierających w swojej strukturze algorytmy transformacji falkowej. Przedstawiona metoda jest uniwersalna dla dowolnych algorytmów transformacji falkowej, które przetwarzają dane z dziedziny liczb rzeczywistych, niezależnie od stosowanych parametrów algorytmu. Przedstawiony w pracy model błędów, opisujący właściwości metrologiczne toru pomiarowego, umożliwia opis deterministycznych i niedeterministycznych sygnałów błędów oraz uwzględnia widmo przetwarzanego przez tor pomiarowy sygnału w ocenie jego właściwości. Na potrzeby pracy wprowadzono podział na statyczne, dynamiczne i losowe sygnały błędów oraz podział rozważający genezę analizowanego sygnału, wyróżniający sygnały błędów własnych i propagowanych. W pracy przedstawiono, w jaki sposób algorytmy transformacji falkowej przetwarzają obecne w sygnale wejściowym sygnały błędów oraz przedstawiono ich rolę we wprowadzaniu sygnałów błędów własnych. Aplikacja zaproponowanej metody wyznaczania wartości wypadkowej niepewności rozszerzonej jest możliwa w czasie rzeczywistym, również w przypadku zmiany parametrów związanych z modelem błędów analizowanego toru pomiarowego i nie wymaga w tym celu stosowania metody Monte-Carlo. Poza rozważaniami teoretycznymi, praca przedstawia przykład aplikacji zaproponowanej metody analizy, odpowiedni dla przypadku gdy projektant toru pomiarowego stosuje gotową implementację algorytmu transformacji falkowej i nie posiada eksperckiej wiedzy na temat działania tych algorytmów. Wszystkie przedstawione w pracy zależności zostały zweryfikowane symulacyjnie, za pomocą metody Monte-Carlo, oraz pomiarowo, stosując w tym celu zbudowany na potrzeby pracy tor pomiarowy. Praca poświęca najwięcej uwagi algorytmom dyskretnej transformacji falkowej, natomiast stosowanie zaproponowanej metody analizy jest możliwe również w przypadku pozostałych odmian algorytmu.


Wykaz oznaczeń
[l] l @  -   p 
                        & pulsacja sygnału, gdzie  

                             & częstotliwość sygnału, gdzie  

                         & okres próbkowania sygnału, gdzie  

                    & pulsacja próbkowania sygnału, gdzie  

                         & częstotliwość próbkowania sygnału, gdzie  

                    & pulsacja znormalizowana, gdzie  

                         & częstotliwość znormalizowana, gdzie  

                             & zmienna reprezentująca czas 

                             & zmienna reprezentująca numer próbki 

                        & przyjęty poziom ufności wyrażony w procentach 

                          & funkcja opisująca okno pomiarowe dla -tej wielkości wejściowej 

                          & zmienna w czasie fizyczna wielkość mierzona 

                          & zmienna w czasie wielkość wyjściowa obiektu 

                          & dyskretny przebieg wielkości wejściowej obiektu 

                          & dyskretny przebieg wielkości wyjściowej obiektu 

                       & równanie falki-matki określone w dziedzinie czasu 

                       & równanie falki-ojca określone w dziedzinie czasu 

                    & idealny przebieg wielkości  w funkcji parametru  

                  & rzeczywisty przebieg wielkości  w funkcji parametru  

                    & wartość realizacji wielkości  dla wartości parametru  

                      & funkcja przetwarzania statycznego obiektu  

                & transmitancja obiektu  w dziedzinie  

                      & transmitancja obiektu  w dziedzinie  

                 & amplituda harmonicznej sygnału  o pulsacji  

                 & wzmocnienie harmonicznej sygnału  o pulsacji  

           & przesunięcie w fazie harmonicznej sygnału  o pulsacji  

                         & liczba wielkości wejściowych obiektu  

                         & liczba wielkości wyjściowych obiektu  

                       & aproksymacje -tej wielkości wyjściowej dla -tego poziomu dekompozycji 

                       & detale -tej wielkości wyjściowej dla -tego poziomu dekompozycji 

                         & rozdzielczość przetwornika analogowo-cyfrowego 

                         & liczba niezerowych współczynników skalujących 

                         & wartość -tego współczynnika skalującego 

                    & odchylenie standardowe wielkości  

                & wariancja wielkości  

                         & niepewność rozszerzona związana z wielkością  

                       & współczynnik korelacji wielkości  oraz  

                       & współczynnik koherencji wielkości  oraz  

                       & współczynnik kształtu dla rozkładu realizacji sumy wielkości  oraz  

                       & korekta współczynnika kształtu  wynikająca z rozbieżności wartości niepewności rozszerzonej wielkości  oraz  

                       & korekta współczynnika kształtu  wynikająca z założeń centralnego twierdzenia granicznego 

                       & parametr  wielkości , gdzie symbol indeksu  oznacza między innymi:                                    *3l @ -  l 
                                   & statyczny   &       & dynamiczny &       & losowy     

                                   & kwantowania &       & zaokrągleń &       & szumów     

                                   & propagowany &       & własny     &  & wypadkowy
                                   

                         & współczynnik rozszerzenia rozkładu , gdzie  to rozkład:                                    *3l @ -  l 
                                   & normalny    &       & jednostajny &       & trójkątny  

                                   & studenta    &       & dwumodalny  &  & wypadkowy
                                   


Wstęp do pracy

Ze względu na dynamiczny rozwój mikrokontrolerów, zwiększenie stopnia integracji oraz możliwości obliczeniowych tych układów, coraz częściej w systemach pomiarowo-sterujących stosowane są rozwiązania typu SoC (ang. System on Chip) . Opisywane podejście jest korzystne ze względu na niższy koszt projektowanego systemu, a także ze względu na łatwiejszy proces jego projektowania, zmniejszenie potrzebnej przestrzeni (miniaturyzacje układu), jak również eliminacje konieczności uwzględniania w projekcie wielu dodatkowych urządzeń. Dostępne na rynku mikrokontrolery integrują w sobie niemal wszystkie potrzebne układy peryferyjne: pamięć RAM, pamięć FLASH oraz interfejsy komunikacyjne (USART, I2C, I2S, SPI, CAN, USB, SDIO, Ethernet). Dodatkowo omawiane układy są często wyposażone w zestaw instrukcji oferujący funkcje DSP, które w połączeniu ze zintegrowanym układem FPU zapewniają bardzo dobrą wydajność podczas obliczeń zmiennoprzecinkowych . W powyższych okolicznościach mikrokontrolery te spełniają oczekiwania stawiane systemom pomiarowo-sterującym, w których implementuje się różnego rodzaju algorytmy przetwarzania danych . Schemat blokowy toru pomiarowego wykorzystującego omawiane rozwiązanie przedstawiono na rysunku , przy czym symbolem  oznaczono zmienną w czasie fizyczną wielkość mierzoną,  wielkość wyjściową przetwornika pomiarowego,  wielkość wejściową algorytmu przetwarzania danych, natomiast  kolejne wektory wielkości wyjściowych toru pomiarowego wyznaczone na podstawie pozyskanych próbek wielkości .



fig:chain_demoSchemat blokowy przykładowego toru pomiarowego, w którym wykorzystano rozwiązanie typu System on Chip

Pierwsze informacje na temat falek pojawiły się około 1909 roku i zostały opublikowane przez Alfréda Haara, węgierskiego matematyka . Falka Hara posiadała jednak kilka istotnych wad: ze względu na swoją nieciągłość była nieróżniczkowalna, co dyskwalifikowało jej użycie w pewnych okolicznościach. Podobne badania prowadził połowie XX wieku brytyjsko-węgierski naukowiec Dennis Gabor. Analiza falkowa została po raz pierwszy opisana przez francuskiego geofizyka Jeana Morleta, przy czym algorytm transformacji falkowej został opisany w 1988 roku przez francuskiego naukowca Stéphane Mallata. We wczesnych latach 90. XX wieku transformacja falkowa oraz rozwój falek były zagadnieniem bardzo popularnym. Tematy związane z transformacją falkową są dyskutowane i rozwijane do dzisiaj, a obszar zastosowań tych algorytmów stale się powiększa .

Ze względu na fakt, że algorytmy transformacji falkowej stanowią istotną część toru pomiarowego, ich analiza nie może zostać pominięta w ocenie właściwości metrologicznych tego toru. Każdy element toru pomiarowego musi być poddany analizie metrologicznej, aby można było ilościowo określić niedokładność wyznaczania wartości wielkości wyjściowych tego toru. Ze względu na mnogość dostępnych falek, należy przedstawić jednolitą i uniwersalną metodę pozwalającą na oszacowanie wartości niepewności wielkości wyjściowych tych algorytmów przy założeniu, że znane są parametry sygnałów błędów wielkości wejściowych algorytmu. Duży stopień integracji rozwiązań SoC powoduje jednak, że w większości przypadków dokładny model toru pomiarowego nie jest znany. Wskazane okoliczności sprawiają, że analiza metrologiczna torów pomiarowych wykorzystujących algorytmy transformacji falkowej jest często pomijana, jak to miało miejsce w pracach .

Najbardziej uniwersalną metodą, która może być stosowana w celu oszacowania miary niedokładności wyznaczania wartości wielkości wyjściowych toru pomiarowego, jest metoda Monte-Carlo . Metoda ta wymaga jednak wykonania czasochłonnego eksperymentu, co stanowi problem w przypadku zmiany parametrów modelu błędów. Należy zauważyć, że parametry eksperymentu zmieniają się również w przypadku zmiany widma przetwarzanego przez tor pomiarowy sygnału wejściowego, czy warunków otoczenia. Dodatkowo do przeprowadzenia eksperymentu konieczna jest implementacja stosowanego algorytmu transformacji falkowej o wybranych parametrach.

Powszechnie używaną miarą niedokładności wyniku pomiaru jest niepewność standardowa . W kontekście analizy parametrów sygnału błędu posługiwać się można również miarą wariancji tego sygnału, gdzie w przypadku sygnałów błędów o zerowej wartości oczekiwanej, wariancję tych sygnałów utożsamiać można z ich mocą . W przypadku miary niepewności standardowej, której wartość wynika z parametrów analizowanego sygnału błędu, nie zawsze istnieje możliwość wskazania prawdopodobieństwa wystąpienia wybranej wartości realizacji tego sygnału, stąd znacznie częściej stosowana jest miara niepewności rozszerzonej. Zakłada się, że proces pomiaru jest powtarzany wielokrotnie podczas pracy systemu pomiarowego.

Przedstawione rozważania podkreślają potrzebę sporządzenia jednolitego modelu błędów, który uwzględniając właściwości toru pomiarowego opisze relacje pomiędzy istniejącymi w nim sygnałami błędów oraz umożliwi ilościowy opis parametrów wypadkowego sygnału błędu na wyjściu tego toru. Zaproponowany model błędów musi być odpowiedni dla torów pomiarowych, w których występują algorytmy transformacji falkowej. Ponadto istnieje potrzeba przedstawienia metody szacowania wypadkowej wartości niepewności rozszerzonej, która cechować się będzie niską złożonością obliczeniową, zapewniającą możliwość stosowania tej metody w czasie rzeczywistym, w przypadku zmiany parametrów modelu błędów. Aplikacja modelu błędów oraz zaproponowanej metody analizy powinna być możliwa również w przypadku, gdy projektant toru pomiarowego nie jest ekspertem z dziedziny algorytmów transformacji falkowej. Uwzględniając wymienione dotychczas argumenty, stanowiące motywacje pracy, proponuje się następującą tezę:
[font = bfseries]
Stosując przedstawiony w pracy model błędów oraz zaproponowaną metodę szacowania wypadkowej wartości niepewności rozszerzonej istnieje możliwość oszacowania wartości niepewności rozszerzonych dla wielkości wyjściowych toru pomiarowego wykorzystującego algorytm dyskretnej transformacji falkowej. Oszacowanie wartości niepewności rozszerzonych dla omawianych wielkości jest możliwe w trakcie działania systemu pomiarowego, również w przypadku zmiany parametrów pracy tego systemu oraz zmiany parametrów modelu błędów.

Wymagania stawiane zaproponowanej w pracy metodzie szacowania wypadkowej wartości niepewności rozszerzonej powodują, że metoda ta musi cechować się niską złożonością obliczeniową oraz musi dopuszczać możliwość zmiany parametrów zastosowanego modelu błędów. Wymaganie to zostało wprowadzone z uwagi na fakt, że wypadkowa wartość niepewności rozszerzonej zależeć może nie tylko od właściwości analizowanego toru pomiarowego, ale i od parametrów przetwarzanego sygnału oraz zmiennych warunków otoczenia. Proponowana metoda powinna zatem zapewniać wyniki zbliżone do tych uzyskiwanych metodą Monte-Carlo, a jednocześnie być możliwa do realizacji w czasie rzeczywistym w analizowanym systemie pomiarowym. W dalszej części pracy przyjęto, że dopuszczalna rozbieżność oszacowania wypadkowej wartości niepewności rozszerzonej nie powinna przekraczać 5 w odniesieniu do wartości uzyskanej metodą Monte-Carlo.

Praca została podzielona na chapter rozdziałów. Rozdział pierwszy stanowi wstęp do pracy, zawiera jej tezę oraz najważniejsze założenia. W rozdziale drugim opisany został zaproponowany model błędów dla kolejnych fragmentów toru pomiarowego oraz przedstawione zostały związki zachodzące pomiędzy zdefiniowanymi sygnałami błędów. Rozdział trzeci stanowi przegląd literatury, przy czym zestawiono w nim najważniejsze informacje dotyczące algorytmów transformacji falkowej, istotne z punktu widzenia właściwości metrologicznych tych algorytmów oraz stosowania zaproponowanego modelu błędów. W rozdziale czwartym przedstawione zostały wyniki badań symulacyjnych, weryfikujące skuteczność zaproponowanej metody szacowania wartości niepewności rozszerzonych wielkości wyjściowych algorytmów dyskretnej transformacji falkowej. Rozdział piąty stanowi weryfikacje pomiarową przedstawionej tezy wraz z przykładem identyfikacji właściwości analizowanego toru pomiarowego, przy czym wyniki uzyskane na drodze eksperymentu pomiarowego porównano z wynikami otrzymanymi przy zastosowaniu zaproponowanej w pracy metody analizy. W ostatnim rozdziale zawarto podsumowanie pracy i sformułowano najważniejsze wnioski płynące z jej treści. Zakres pracy obejmuje zatem:

definicję modelu błędów opisującego właściwości metrologiczne toru pomiarowego,
opis metody wyznaczania wypadkowej wartości niepewności rozszerzonej,
wskazanie właściwości metrologicznych algorytmów transformacji falkowej,
przedstawienie przykładu aplikacji opisanej w pracy metody analizy,
symulacyjną i pomiarową weryfikację skuteczności przedstawionej metody.

Motyw przewodni pracy stanowią właściwości metrologiczne analizowanych algorytmów transformacji falkowej, ich rola podczas przetwarzania i wprowadzania sygnałów błędów, opis zaproponowanego modelu błędów oraz weryfikacja założeń wynikających z przedstawionej tezy. Zawarte w pracy informacje na temat algorytmów transformacji falkowej, konieczne do analizy ich właściwości metrologicznych, stanowią podsumowanie i zestawienie najważniejszych zależności zawartych w literaturze i nie stanowią dorobku autora pracy. W ujęciu pracy algorytm transformacji falkowej jest zatem narzędziem, którego analiza właściwości metrologicznych jest przeprowadzana w celu oceny stopnia realizacji określonego zadania pomiarowego przez tor pomiarowy wykorzystujący to narzędzie. Wobec powyższego, w pracy nie rozważano właściwości tych algorytmów dla konkretnych ich aplikacji, a jedynie przedstawiono, w jaki sposób analizować metrologiczne właściwości tych algorytmów, istotne z punktu widzenia liściowej oceny niedokładności wyznaczania wartości realizacji wielkości wyjściowych torów pomiarowych stosujących te algorytmy. W pracy przyjęto założenie, że projektant toru pomiarowego nie jest ekspertem z zakresu algorytmów transformacji falkowej, a jedynie stosuje te algorytmy do realizacji wybranego zadania pomiarowego.

Algorytmy transformacji falkowej mogą przetwarzać jedno lub dwuwymiarowe dane wejściowe, natomiast praca skupia się na algorytmach przetwarzających jednowymiarowe ciągi danych wejściowych. Jako, że dyskretna odmiana algorytmu transformacji falkowej jest stosowana w torach pomiarowo-sterujących częściej, niż pozostałe wersje tego algorytmu , praca poświęca najwięcej uwagi tej wersji algorytmu, natomiast przedstawiona metodologia analizy może być stosowana również w pozostałych przypadkach. Praca ogranicza się do rodzin falek o rzeczywistych wartościach współczynników oraz torów pomiarowych o wielkościach wejściowych z dziedziny liczb rzeczywistych.

Jako główną miarę dla określania niedokładności, z jaką wyznaczane są wartości realizacji analizowanej wielkości, przyjęto w pracy niepewność rozszerzoną , przy czym równolegle przedstawiany jest opis wykorzystujący miarę wariancji sygnału błędu związanego z tą wielkością. Zawarte w pracy przykłady ograniczają się do przypadków mieszczących się w zakresie klasycznej definicji niepewności rozszerzonej, a zatem dotyczą sygnałów błędów o zerowej wartości oczekiwanej, których funkcja gęstości prawdopodobieństwa uzyskania zadanej wartości realizacji jest symetryczna względem osi rzędnych . W przypadku analizy sygnałów błędów o niezerowej wartości oczekiwanej proponuje się zastosowanie korekty wyniku pomiaru o wartość oczekiwaną realizacji analizowanego sygnału błędu. W przypadku sygnałów błędów o niesymetrycznym kształcie funkcji gęstości prawdopodobieństwa proponuje się osobną analizę przedziału dla ujemnych i dodatnich wartości realizacji tego sygnału, co zostało opisane między innymi w pracach .

Parametry zaproponowanego w pracy modelu błędów pozyskać można na drodze identyfikacji właściwości toru pomiarowego w sposób eksperymentalny, lub jeśli to możliwe, pozyskać je na podstawie dokumentacji kolejnych elementów tego toru. Dokładność identyfikacji parametrów modelu błędów ma kluczowy wpływ na dokładność oszacowania wartości niepewności rozszerzonych wielkości wyjściowych toru pomiarowego, wobec czego rolą projektanta toru pomiarowego będzie przyjęcie odpowiednich założeń odnośnie wprowadzonych uproszczeń. W przypadku pominięcia istotnych właściwości tego toru podczas określania parametrów modelu błędów uzyskane wyniki mogą być niedokładne.

Model błędów wyniku pomiaru

Aby określić, w jakim stopniu analizowany tor pomiarowy spełnia powierzone mu zadanie pomiarowe, poza wyznaczeniem wartości wielkości wyjściowych, należy przedstawić przedziały, w których z określonym prawdopodobieństwem będą znajdowały się prawidłowe wartości tych wielkości . Należy zatem zdefiniować, w jaki sposób rozumiana jest idealna wartość wielkości wyjściowej, a następnie określić różnicę pomiędzy rzeczywistą i idealną wartością tej wielkości, nazywaną w dalszej części pracy błędem wielkości wyjściowej. Zakładając, że proces uzyskiwania wartości realizacji wielkości wyjściowej będzie powtarzany wielokrotnie, opisaną różnicę można analizować probabilistycznie, przedstawiając jej parametry za pomocą odpowiedniej funkcji gęstości prawdopodobieństwa. W przypadku, gdy analizowany tor pomiarowy dostarcza wiele wielkości wyjściowych, właściwości każdej z nich należy analizować osobno. Istnieją jednak przypadki, w których analiza może odbywać się zbiorczo dla pewnej grupy wielkości wyjściowych, wykazującej identyczne właściwości metrologiczne .

Analizując tor pomiarowy przedstawiony na rysunku  zauważyć można, że proces wyznaczania wartości kolejnych wielkości wyjściowych tego toru obejmuje trzy najistotniejsze etapy: przetwarzanie analogowe, konwersję analogowo-cyfrową oraz przetwarzanie cyfrowe. Ze względu na możliwą zależność właściwości kolejnych części toru pomiarowego od widma przetwarzanego sygnału , analizę omawianych procesów należy rozpatrywać w dziedzinie częstotliwości . Dla każdej wielkości wyjściowej właściwości zależne od widma przetwarzanego sygnału mogą być zatem opisane w przypadku części analogowej za pomocą transmitancji  oraz w przypadku części cyfrowej za pomocą transmitancji . Każda z omawianych części, poza odpowiednio wyrażoną transmitancją, charakteryzuje się związaną z nią funkcją przetwarzania, oznaczoną w przypadku części analogowej symbolem  oraz symbolem  w przypadku cześć cyfrowej. Funkcje te opisują, w jaki sposób wyznaczana jest wartość wielkości wyjściowej fragmentu obiektu na podstawie wartości wielkości wejściowej, przy czym ich właściwości nie zależą od widma przetwarzanego sygnału. Pomiędzy częściami analogową i cyfrową znajduje się przetwornik analogowo-cyfrowy, którego zadaniem jest konwersja sygnału  na jego dyskretną reprezentację, oznaczoną symbolem . Schemat blokowy omawianego modelu toru pomiarowego dla pojedynczej wielkości wyjściowej  przedstawiono na rysunku .



fig:chain_transSchemat blokowy toru pomiarowego dla pojedynczej wielkości wyjściowej

Dla przedstawionej na rysunku  koncepcji przyjęto założenie, że przetwarzanie analogowo-cyfrowe przebiega w sposób idealny, tj. nie wprowadza do przetwarzanego sygnału żadnych błędów. Założenie to będzie oczywiście nieprawidłowe w rzeczywistym torze pomiarowym, dlatego sam przetwornik analogowo-cyfrowy również należy opisać za pomocą przedstawionego na rysunku  modelu o parametrach odpowiednich dla zastosowanego przetwornika. Rzeczywisty tor pomiarowy składać się może z wielu elementów połączonych ze sobą kaskadowo, które odpowiednio przetwarzać będą sygnał ciągły w czasie lub przetwarzać będą jego dyskretną reprezentację. Należy zatem przedstawiać analizowany tor pomiarowy w postaci kaskadowego połączenia kolejnych elementów o odpowiednich dla nich parametrach lub za pomocą modelu opisującego wypadkowe parametry wszystkich analizowanych części tego toru. W przypadku, gdy dla analizowanego fragmentu toru pomiarowego jego właściwości nie są istotne z punktu analizy metrologicznej, właściwości te można pominąć podczas rozważań .

Rozważając właściwości metrologiczne elementów toru pomiarowego należy dokonać podziału ich cech ze względu na rolę w przetwarzaniu przez nie sygnału wejściowego. Część cech będzie bowiem użyteczna z punktu widzenia roli toru pomiarowego (np. wzmocnienie sygnału, filtracja sygnału), przy czym te same cechy mogą okazać się problematyczne i wprowadzać będą one do wielkości wyjściowej niepożądane z punktu widzenia realizowanego zadania efekty (np. filtracja sygnału, gdy nie jest pożądana, będzie ten sygnał tłumić i przesuwać w fazie). Każdy z fragmentów toru pomiarowego, zgodnie ze swoimi właściwościami, wprowadzać będzie do sygnału wyjściowego błędy własne oraz przenosić będzie na wyjście obecne w sygnale wejściowym błędy. Jak wcześniej wspomniano, nie wszystkie właściwości analizowanego elementu toru pomiarowego będą odpowiedzialne za wprowadzanie do wielkości wyjściowych błędów - jeśli ich działanie jest pożądane, to przyjmuje się że realizują powierzone im zadanie przetwarzania sygnału. Dla przykładu, jeśli elementem toru pomiarowego jest wzmacniacz, to jego zadaniem jest wprowadzenie stałego wzmocnienia wielkości wejściowych, niezależnie od widma sygnału wejściowego. Jeśli zatem element ten wprowadzi inne wzmocnienie, niż oczekiwane, lub też wpłynie on na fazę przetwarzanego sygnału, działanie to zostanie rozpatrzone jako niepożądane, a jego skutki zostaną opisane jako wprowadzenie błędu własnego do wielkości wyjściowej. Z drugiej strony, jeśli analizowanym elementem byłby filtr, to wprowadzenie tłumienia byłoby działaniem pożądanym i nie zostałoby opisane jako wprowadzenie błędu własnego do przetwarzanego sygnału - chyba, że wprowadzone tłumienie posiadałoby parametry inne, niż oczekiwane. Należy zatem analizować właściwości kolejnych fragmentów toru pomiarowego w taki sposób, aby ocenić ich działanie pod kątem powierzonego im zadania przetworzenia wielkości wejściowych, a następnie określić, które ich cechy są pożądane, a które nie.

Ze względu na charakter, właściwości każdego z fragmentów toru pomiarowego podzielić można na dwie najważniejsze grupy:

[Właściwości statyczne] w przypadku, gdy właściwości te nie są związane z widmem przetwarzanego sygnału wejściowego.
[Właściwości dynamiczne] w przypadku gdy właściwości te są bezpośrednio związane z widmem przetwarzanego sygnału.

Jako, że wybrane właściwości kolejnych fragmentów toru pomiarowego będą zależały od widma przetwarzanego sygnału, w dalszej cześć rozdziału przyjmuje się założenie, że niezakłócony błędami przetwarzany sygnał wejściowy  opisać można w postaci sumy kolejnych harmonicznych tego sygnału równaniem:

gdzie  jest pulsacją -tej harmonicznej tego sygnału,  amplitudą oraz  przesunięciem w fazie wybranej harmonicznej tego sygnału o pulsacji . W przypadku rzeczywistym zakłada się natomiast, że zaburzony wypadkowym sygnałem błędu  sygnał  przedstawić można jako:

gdzie  jest amplitudą oraz  przesunięciem w fazie wybranej harmonicznej sygnału błędu, natomiast  sygnałem związanym z błędem o charakterze losowym. Przyjmuje się, że w równaniach eq:in_cont_sum_ideal oraz eq:in_cont_sum_real składowa stała opisywanych sygnałów stanowi harmoniczną o indeksie , gdzie  oraz .

Na podstawie równania eq:in_cont_sum_real wyróżnić można trzy grupy błędów, przy czym zaproponowany podział wynika z charakteru ich realizacji i obejmuje:

[Błędy statyczne] dla których kolejne realizacje w obrębie pojedynczego okna pomiarowego nie zmieniają się lub zmieniają się nieznacznie.
[Błędy dynamiczne] dla których kolejne realizacje można opisać w sposób deterministyczny, jako sumę kolejnych harmonicznych tego błędu.
[Błędy losowe] dla których kolejne realizacje będą wynikały z reguł probabilistycznych, a ich opis w postaci deterministycznej nie będzie możliwy.

Analizując przedstawione powyżej założenia oraz biorąc pod uwagę równania od eq:in_cont_sum_ideal do eq:in_cont_omega_real, wyróżnione błędy deterministyczne opisać można za pomocą równań:

gdzie symbolem  oznaczono błąd statyczny, natomiast symbolem  błąd dynamiczny zawarty w sygnale . Błąd wypadkowy  zawarty w sygnale  można zatem wyrazić w postaci sumy wszystkich wymienionych sygnałów błędów:


Zaproponowany dotychczas podział sygnałów błędów, wynikający z charakteru przebiegu tych sygnałów, rozszerzyć można analizując ich genezę. Podział ten obejmuje dwie grupy sygnałów, przy czym są to kolejno:

[Błędy własne] wprowadzane do sygnału wyjściowego przez analizowany obiekt, wynikające z niedoskonałości jego właściwości.
[Błędy propagowane] obecne w przetwarzanym przez obiekt sygnale, przenoszone na wyjście obiektu zgodnie z jego właściwościami.

Model błędów części analogowej toru pomiarowego

Zgodnie z poprzednimi założeniami, aby ujednolicić analizę fragmentu części analogowej toru pomiarowego, element ten można przedstawić za pomocą transmitancji odpowiadającej właściwościom dynamicznym oraz odpowiedniej dla niego funkcji przetwarzania. Na rysunku  przedstawiono schemat fragmentu części analogowej toru pomiarowego, którego kompletny schemat został przedstawiony na rysunku . W dalszej części podrozdziału zakłada się, że analizowany fragment toru pomiarowego przetwarza ciągły w czasie sygnał , opisany we wstępie rozdziału równaniami od eq:in_cont_sum_ideal do eq:in_cont_omega_real, na sygnał wyjściowy . Dodatkowo przyjmuje się, że funkcja  stanowi równanie przetwarzania opisywanego obiektu, natomiast transmitancja obiektu oznaczona symbolem  jest liniowa i niezależna od czasu.



fig:chain_contModel fragmentu części analogowej toru pomiarowego

Pierwszy etap rozważań obejmuje wpływ transmitancji  analizowanego obiektu na sygnały błędów zawarte w przetwarzanym sygnale  oraz jej rolę we wprowadzaniu błędów własnych do sygnału . Na podstawie transmitancji obiektu wyznaczyć można wzmocnienie  oraz przesunięcie w fazie  w funkcji pulsacji:

Omawiana transmitancja wpływać będzie na wariancję przetwarzanych sygnałów zgodnie z zależnością :

gdzie  jest wariancją sygnału  w funkcji pulsacji. Przedstawiona zależność może być stosowana do wyznaczenia wariancji zarówno w przypadku sygnałów losowych, jak i deterministycznych. Znajomość parametrów wzmocnienia  oraz przesunięcia fazowego  jest niezbędna do opisu sygnałów błędów własnych oraz propagowanych części związanej z właściwościami dynamicznymi obiektu. Można jednak zauważyć, że bezpośrednia znajomość transmitancji widmowej obiektu nie jest konieczna, jeśli znane są wartości przedstawionych parametrów w funkcji pulsacji przetwarzanego sygnału.

Wprowadzanie przez analizowany obiekt błędów własnych wynika z faktu, że rzeczywista transmitancja  odbiega od transmitancji idealnej . Skutkiem omawianego zjawiska jest wprowadzanie innych, niż wymagane dla realizowanego zadania pomiarowego, wartości wzmocnienia i przesunięcia w fazie dla kolejnych harmonicznych przetwarzanego sygnału. Rozpatrując pojedynczą harmoniczną sygnału , idealny przebieg tej harmonicznej można opisać równaniem:

natomiast ten sam przebieg zakłócony błędami własnym i propagowanymi, wynikającymi z niedoskonałości transmitancji obiektu, wyrazić można w postaci równania:

przy czym  jest idealną, a  rzeczywistą wartością wzmocnienia, natomiast  jest idealnym, a  rzeczywistym przesunięciem fazowym. Wobec powyższych założeń, sygnał  na wyjściu fragmentu analizowanego obiektu opisać można jako:

gdzie na wypadkowy sygnał błędu  składać się będą przetwarzane i wprowadzane przez analizowany fragment sygnały błędów statycznych, dynamicznych oraz losowych.

Pierwszą grupę sygnałów błędów stanowią sygnały błędów deterministycznych. Sygnały te podzielić można ze względu na zmienność wartości realizacji tych sygnałów w dziedzinie czasu. W przypadku sygnałów błędów statycznych, których kolejne wartości realizacji nie zmieniają się w czasie, zapisać można następujące zależności:

gdzie  jest sygnałem błędu statycznego własnego, natomiast  sygnałem błędu statycznego propagowanego przez fragment obiektu związany z jego właściwościami dynamicznymi. Można zauważyć, że zgodnie z przedstawionymi założeniami, wartości realizacji wielkości opisanych w równaniach eq:mid_cont_err_stat_self oraz eq:mid_cont_err_stat_prop są niezależne od czasu. Dla pozostałych sygnałów, które opisać można w sposób deterministyczny, wprowadzany do sygnału  sygnał błędu dynamicznego własnego  wyrazić można w postaci sumy kolejnych harmonicznych tego sygnału jako:

Dodatkowo analizowany fragment obiektu przenosi z wejścia na wyjście sygnały błędów dynamicznych, zawarte w sygnale wejściowym , odpowiednio wzmacniając je i przesuwając w fazie, co opisuje równanie:

gdzie  jest sygnałem błędu dynamicznego propagowanego z wejścia na wyjście fragmentu reprezentującego właściwości dynamiczne analizowanego fragmentu obiektu.

Przedstawiona dla błędów statycznych analiza jest szczególnym przypadkiem analizy dla błędów deterministycznych, w którym analizowany fragment toru pomiarowego przetwarza sygnał stały lub na tyle wolno-zmienny, że jego właściwości dynamiczne nie mają żadnego wpływu na przetwarzany sygnał. W przypadku propagowanych przez obiekt błędów dynamicznych, jeśli transmitancja analizowanego obiektu nie wpływa znacząco na ich widmo, to są one przenoszone zgodnie z charakterystyką statyczną obiektu. Dodatkowo, w przypadku gdy transmitancja obiektu nie wpływa w żaden sposób na widmo przetwarzanego sygnału, obiekt nie będzie wprowadzał do sygnału wyjściowego błędów dynamicznych własnych. Znajomość fazy sygnałów błędów dynamicznych będzie kluczowa w przypadku oceny ich korelacji.

Drugą grupę błędów dla analizowanego fragmentu obiektu stanowią błędy losowe. Błędów tych nie sposób opisać równaniem deterministycznym, a zatem opis ich właściwości sprowadza się do wskazania prawdopodobieństwa uzyskania wybranych wartości kolejnych realizacji tych błędów . W dalszej cześć podrozdziału przyjmuje się założenie, że  jest wariancją sygnału błędu losowego  zawartego w przetwarzanym sygnale wejściowym  w funkcji pulsacji, oraz że kolejne wartości realizacji tego błędu nie są ze sobą skorelowane. Wobec powyższych założeń zauważyć można, że wpływ transmitancji  na wejściowy sygnał błędu losowego zaowocuje pojawieniem się korelacji pomiędzy kolejnymi realizacjami sygnału błędu wyjściowego . Omawiana transmitancja będzie miała również wpływ na widmową gęstość mocy przetwarzanego sygnału błędu.

Wyznaczenie wariancji sygnału propagowanego błędu losowego  może odbywać się z wykorzystaniem zależności eq:mid_cont_var_omega. Opis ten odnosi się jednak do dziedziny pulsacji, zatem stosowanie go w końcowym etapie analizy właściwości metrologicznych będzie niepraktyczne. Proponuje się zatem określenie średniej wartości wariancji  tego sygnału na wyjściu obiektu, którą opisać można równaniem :

przy czym  jest zakresem pulsacji, dla którego szacowana jest średnia wariancja propagowanego błędu losowego. Jeżeli analizowany sygnał będzie przetwarzany przez kolejne fragmenty toru pomiarowego, których właściwości wpłynąć mogą na jego widmo, należy stosować opis dany równaniem eq:mid_cont_var_omega w celu wyznaczenia wariancji . Jeżeli natomiast sygnał ten nie będzie dalej przetwarzany lub jego widmo na etapie tego przetwarzania nie zmieni się, w celu uproszczenia analizy może zostać wykorzystana zależność dana równaniem eq:mid_cont_var_rand. W przypadku istnienia sygnału błędu losowego własnego  należy wskazać jego wariancję, opisaną jako .

Ostatecznie, sumując wszystkie omówione sygnały błędów wielkości wyjściowej analizowanej części właściwości dynamicznych obiektu, otrzymuje się zależność opisującą wypadkowy sygnał błędu  w postaci równania:

Wymienione sygnały przetwarzane będą następnie zgodnie z właściwościami statycznymi obiektu, wynikającymi z funkcji przetwarzania .

Uwzględniając równanie przetwarzania  analizowanego obiektu i przyjęte założenia, idealną wielkość wyjściową obiektu opisać można równaniem:

gdzie  jest idealnym równaniem przetwarzania obiektu. Po uwzględnieniu równania eq:mid_cont_err_sum, wielkość tą w przypadku rzeczywistym wyrazić można w postaci:

gdzie  jest rzeczywistym równaniem przetwarzania, natomiast  funkcją uwzględniającą wybrane wielkości zakłócające proces wyznaczania wartości wielkości . Na podstawie równania eq:out_cont_real_all wyróżnić można sygnał błędu własnego , wynikający z niedoskonałości funkcji przetwarzania obiektu, oraz sygnał błędu własnego , wynikający z udziału czynników zakłócających, przy czym zapisać można:

Sygnał błędu własnego  wynikający z niedoskonałości funkcji przetwarzania będzie miał charakter deterministyczny, jeśli znana jest postać funkcji . W przeciwnym wypadku istnieje możliwość opisu jego parametrów w kategorii probabilistycznej, co przedstawiono na przykładzie w dalszej części pracy. Charakter sygnału błędu  związanego z czynnikami zakłócającymi proces wyznaczania wartości wielkości  zależeć będzie od właściwości analizowanego obiektu, przy czym można zwykle zakładać, że parametry otoczenia zakłócające proces pomiaru będą wolno-zmienne, stąd sygnał ten zaliczany będzie do grupy sygnałów błędów statycznych.

Przypadek ogólny, który przedstawiono w równaniach eq:out_cont_ideal_all oraz eq:out_cont_real_all, jest w praktyce trudny do rozważania. Nie gwarantuje on możliwości analizy każdego sygnału błędu cząstkowego z osobna i nie został szczegółowo przedstawiony w pracy. Dla przypadków, w których funkcja przetwarzania  jest funkcją addytywną, tj. zachodzi  dla dowolnych parametrów  oraz  należących do dziedziny tej funkcji, opisywana analiza może być przeprowadzana z osobna dla każdego sygnału błędu. Przedstawione założenie jest w praktyce często spełniane, ponieważ funkcja przetwarzania reprezentuje zwykle czułość obiektu w przypadku obiektów o charakterze liniowym, a zatem jest ona funkcją liniową wyrażoną w postaci równania , gdzie współczynnik  jest czułością obiektu.

Wobec przedstawionych założeń, w przypadku addytywnej funkcji przetwarzania obiektu, kolejne sygnały błędów wielkości  przedstawione w równaniu eq:mid_cont_err_sum, przenoszone na wyjście analizowanego obiektu, opisać można za pomocą równań:

gdzie indeksem  oznaczono sygnały błędów statycznych,  błędów dynamicznych oraz  błędów losowych, natomiast ze względu na genezę analizowanego sygnału błędu indeksem  oznaczono sygnały błędów własnych oraz  błędów propagowanych. Na podstawie równań od eq:out_cont_err_funct_self do eq:out_cont_err_rand_prop zawarty w równaniu eq:out_cont_real_all wypadkowy sygnał błędu  obecny w rzeczywistym sygnale  przedstawić można w postaci:


Wpływ funkcji przetwarzania na wariancję sygnałów błędów wielkości , wymienionych w równaniu eq:mid_cont_err_sum, może zostać opisany równaniem :

gdzie  oznacza wartość oczekiwaną realizacji sygnału . Przedstawiona analiza upraszcza się w przypadku, gdy funkcję przetwarzania obiektu stanowi równanie liniowe w postaci . Zakładając, że symbolem  oznaczono współczynnik kierunkowy przedstawionego równania, który utożsamić można z czułością analizowanego obiektu, równanie eq:out_cont_var_function przyjmuje postać :

Należy zauważyć, że w przypadku przesunięcia charakterystyki przetwarzania o pewną stałą wartość  przesunięcie to nie ma wpływu na wariancję sygnału wyjściowego obiektu.

Analizując przedstawione powyżej równania zauważyć można kluczowy wpływ funkcji przetwarzania  obiektu na wprowadzane i przenoszone sygnały błędów. W przypadku nieliniowej charakterystyki przetwarzania obiektu, dla kolejnych harmonicznych przetwarzanego sygnału oraz harmonicznych propagowanych sygnałów błędów mogą pojawić się dodatkowe, wprowadzane przez funkcję przetwarzania harmoniczne. Dla liniowej funkcji przetwarzania rolę tej funkcji zastąpić można wzmocnieniem zawartym w transmitancji analizowanego obiektu.

Jeżeli rzeczywista postać funkcji przetwarzania  nie jest znana, należy w równaniach od eq:out_cont_err_stat_self do eq:out_cont_err_rand_prop oraz eq:out_cont_var_function sprzyjąć założenie, że . Przedstawione podejście umożliwi oszacowanie wpływu funkcji przetwarzania na parametry analizowanych sygnałów błędów, przy czym przyjmuje się, że wprowadzona niedokładność tego oszacowania jest akceptowalnie mała.

Model błędów przetwornika analogowo-cyfrowego

Pomiędzy częściami analogową i cyfrową w torze pomiarowym znajduje się przetwornik, który przekształca ciągły sygnał wejściowy  na jego dyskretną reprezentację , gdzie  jest wybraną wartością czasu. Można zatem stwierdzić, że element ten zaokrągla wartość realizacji sygnału wejściowego w wybranej chwili czasu do najbliższej wartości będącej wielokrotnością liczby naturalnej  oraz stałej wartości kwantu . Wartość kwantu zależy od zakresu wartości wielkości wejściowych analizowanego przetwornika oraz od liczby dostępnych wartości wielkości wyjściowej, nazywanej rozdzielczością przetwornika . Rozdzielczość przetwornika jest zwykle równa , gdzie  jest liczbą naturalną równą liczbie bitów słowa wyjściowego  tego przetwornika. Oznaczając przedział możliwych wartości realizacji wielkości wejściowych  przetwornika jako , wartość kwantu wynosi odpowiednio:


Opisując funkcję przetwarzania , z uwzględnieniem korekcji błędu systematycznego, idealnego układu kwantyzatora równaniem w postaci :

gdzie  oznacza część całkowitą liczby , a następnie opisując wskazanie analizowanego przetwornika w jednostce wielkości wejściowej jako:

błąd kwantowania  opisać można równaniem w postaci :

przy czym dla kolejnych realizacji  błędu kwantowania oraz wartości kwantu  omawianego układu zachodzi zależność, którą opisuje nierówność:


Zakładając, że uzyskanie każdej z możliwych wartości realizacji wielkości wejściowej  jest jednakowo prawdopodobne, rozkład realizacji błędu kwantowania będzie rozkładem jednostajnym, symetrycznym względem osi rzędnych, gdzie  . Przyjmuje się zatem, że model błędu kwantowania zbliżony jest do modelu nieskorelowanego szumu addytywnego, dodatkowo zakłada się jednakowe prawdopodobieństwo uzyskania wszystkich możliwych wartości realizacji oraz stałą widmową gęstość mocy tego sygnału . Wobec powyższego, wariancję sygnału błędu kwantowania opisuje równanie :


Jako, że funkcja przetwarzania opisana równaniem eq:adc_function nie jest addytywna, analiza przetwarzanych przez analizowany obiekt sygnałów błędów z wykorzystaniem metody superpozycji nie jest możliwa. Proponuje się zatem przyjęcie modelu, w którym niezależnie od przebiegu przetwarzanego przez obiekt sygnału  obiekt ten wprowadza do sygnału wyjściowego  wynikający z zaokrągleń stosowanych w równaniu eq:adc_function losowy sygnał błędu własnego  oraz przyjęcie zastępczej funkcji przetwarzania dla analizowanego obiektu, którą dla wielkości  wyrażonej w jednostce wielkości wejściowej  opisuje równanie:

Wobec założeń danych równaniem eq:adc_simplify przyjąć można uproszczenie, że analizowany obiekt jest liniowy, cechuje się jednostkowym wzmocnieniem oraz nie wprowadza przesunięcia fazowego do sygnału wyjściowego. Oznacza to, że w przypadku wszystkich przenoszonych z wejścia na wyjście obiektu sygnałów błędów, wszystkie parametry tych sygnałów pozostają niezmienne na wyjściu obiektu, co znacznie ułatwia jego analizę.

Przedstawione powyżej założenia pozwalają na określenie wariancji sygnałów na wyjściu analizowanego przetwornika analogowo-cyfrowego w funkcji wariancji sygnałów na jego wejściu jako:

gdzie  jest wariancją sygnału na wyjściu obiektu, natomiast  jest wariancją sygnału na wejściu obiektu, a także pozwalają opisać przebieg sygnałów błędów na wyjściu obiektu w postaci:

gdzie  jest sygnałem błędu na wyjściu przetwornika analogowo-cyfrowego związanym z sygnałem błędu  na jego wejściu.

Zakładając, że w przypadku idealnym wielkość wyjściowa  przetwornika analogowo-cyfrowego opisana jest równaniem:

natomiast wielkość tą w przypadku rzeczywistym opisuje równanie:

dla wprowadzonych wcześniej założeń wypadkowy sygnał błędu  na wyjściu przetwornika analogowo-cyfrowego opisać można równaniem:

gdzie  jest sygnałem błędu związanym z zaokrągleniami wprowadzanymi zgodnie z równaniem eq:adc_function, którego wariancję opisuje równanie eq:adc_errvar, natomiast  jest dodatkowym sygnałem błędu własnego, przy czym dla idealnego układu kwantyzatora zachodzi .

Przedstawione dotychczas rozważania nie uwzględniały właściwości układu próbkująco-pamiętającego, który w rzeczywistości stanowi źródło sygnału wejściowego . Proponuje się opis właściwości tego układu stosując model błędów części analogowej toru pomiarowego o parametrach odpowiednich dla analizowanego układu próbkująco-pamiętającego. Należy również zauważyć, że rzeczywisty przetwornik analogowo-cyfrowy wprowadzać będzie do sygnału wyjściowego  dodatkowe błędy związane między innymi z nieliniowością charakterystyki przetwarzania, przesunięciem tej charakterystyki, niedoskonałością źródła napięcia referencyjnego, niejednorodnością właściwości wzorca, czy wpływem czynników zewnętrznych. Dodatkowo sygnały błędów na wyjściu takiego przetwornika mogą być skorelowane z wielkością wejściową oraz sygnałem szumu zawartym w tej wielkości, przy czym zwykle korelacja ta jest pomijalnie mała . Wymienione zjawiska będą skutkowały obecnością sygnału błędu własnego , którego parametry należy określić podczas analizy.

Analizę właściwości wybranych przetworników analogowo-cyfrowych przedstawiają szczegółowo między innymi prace . Ostatecznie należy zatem określić budżet niepewności dla zastosowanego w torze pomiarowym przetwornika analogowo-cyfrowego oraz określić parametry modelu błędu dla układu pórbkująco-pamiętającego, a następnie na ich podstawie zdefiniować należy dokładną postać składników równania eq:adc_out_error.

Model błędów części cyfrowej toru pomiarowego

Opis właściwości metrologicznych części cyfrowej toru pomiarowego może być wykonany w sposób analogiczny, jak w przypadku części analogowej. Transmitancję części cyfrowej wyrazić można odpowiednią dla opisu dyskretnych obiektów transmitancją , przy czym zakłada się, że transmitancja ta jest liniowa oraz niezmienna w czasie. Związaną z właściwościami statycznymi funkcję przetwarzania oznaczyć można symbolem , natomiast ciągłą zmienną  reprezentującą czas należy zastąpić zmienną , oznaczającą numer próbki sygnału, przy czym . Schemat blokowy cyfrowej części toru pomiarowego przedstawiono na rysunku . Przykładem omawianego obiektu może być filtr cyfrowy lub dowolny algorytm jednopunktowy realizujący odtwarzanie statyczne bądź dynamiczne, spełniający podane założenia.



fig:chain_discModel fragmentu części cyfrowej toru pomiarowego

Analizowana cześć toru pomiarowego przetwarza próbki sygnału wejściowego  na próbki sygnału wyjściowego . Przetwarzany sygnał  opisać można w sposób analogiczny, jak w przypadku opisu wielkości wejściowej dla części analogowej toru pomiarowego, w postaci sumy kolejnych harmonicznych tego sygnału. Przyjmując, że  jest idealnym, natomiast  zakłóconym błędami przebiegiem wybranej harmonicznej sygnału , otrzymuje się zależności:

gdzie  jest amplitudą oraz  przesunięciem w fazie wybranej harmonicznej sygnału wejściowego  w sytuacji idealnej,  amplitudą oraz  przesunięciem w fazie harmonicznej sygnału błędu zawartego w sygnale , natomiast  jest okresem próbkowania. Dla przyjętych założeń idealny przebieg wielkości wejściowej  analizowanego obiektu opisać można w postaci:

gdzie  jest pulsacją -tej harmonicznej opisywanego sygnału. Zakłóconą błędami wielkość wejściową analizowanej cześć toru pomiarowego opisuje równanie:

gdzie  jest wypadkowym sygnałem błędu losowego, natomiast  stanowi wypadkowy sygnał błędu, który wyrazić można w postaci sumy sygnałów błędów cząstkowych:

przy czym  jest wypadkowym sygnałem błędu statycznego, natomiast  wypadkowym sygnałem błędu dynamicznego wielkości wyjściowej obiektu. Sygnały błędów statycznego oraz dynamicznego opisać można jako:


Transmitancja  dla okresu próbkowania  może zostać określona w dziedzinie pulsacji przyjmując założenie gdzie . Parametry związane z właściwościami dynamicznymi obiektu, stanowiące odpowiednik równań eq:mid_cont_amp oraz eq:mid_cont_phi, wynoszą w takim przypadku:

gdzie  stanowi wzmocnienie oraz  przesunięcie w fazie wprowadzane przez obiekt. Wobec przedstawionych założeń równanie eq:mid_cont_var_omega przyjmuje postać:

gdzie  jest wariancją analizowanego sygnału na wejściu obiektu, natomiast  wariancją sygnału na wyjściu fragmentu reprezentującego właściwości dynamiczne obiektu, oznaczonego na rysunku  symbolem .

Dla sygnałów o charakterze deterministycznym, pojedynczą harmoniczną wielkości wyjściowej  dla analizowanego fragmentu obiektu opisać można analogicznie, jak miało to miejsce w przypadku równań eq:mid_cont_omega_ideal oraz eq:mid_cont_omega_real. Zakładając, że  jest idealnym, natomiast  zakłóconym sygnałem błędu przebiegiem harmonicznej sygnału  o pulsacji ,  jest idealną, a  rzeczywistą wartością wzmocnienia, natomiast  jest idealnym, a  rzeczywistym przesunięciem fazowym, zapisać można:

Wobec powyższych, podobnie jak w przypadku równań eq:mid_cont_sum_ideal oraz eq:mid_cont_sum_real, sygnał  na wyjściu analizowanego fragmentu obiektu przedstawić można w postaci:

przy czym  jest wypadkowym sygnałem błędu, stanowiącym sumę wszystkich sygnałów błędów wielkości wyjściowej analizowanego fragmentu obiektu.

W przypadku sygnałów błędów statycznych, opisanych dla części analogowej równaniami eq:mid_cont_err_stat_self oraz eq:mid_cont_err_stat_prop, w analizowanym przypadku zapisać można:

gdzie  jest błędem statycznym własnym, natomiast  jest błędem statycznym propagowanym przez fragment obiektu związany z jego właściwościami dynamicznymi. W sposób analogiczny, jak w równaniach eq:mid_cont_err_dyn_self oraz eq:mid_cont_err_dyn_prop, wprowadzany do sygnału  błąd dynamiczny własny  opisać można zależnością przedstawioną równaniem:

natomiast propagowany przez analizowany fragment części cyfrowej błąd dynamiczny  przedstawić można za pomocą równania:


Wariancja  propagowanych przez analizowany fragment obiektu sygnałów błędów losowych  w przedziale pulsacji  może zostać oszacowana zgodnie z metodologią zaproponowaną w równaniu eq:mid_cont_var_rand i opisana zależnością:

gdzie  jest wariancją sygnału błędu losowego na wejściu obiektu. Jeżeli analizowany fragment obiektu wprowadzać będzie do przetwarzanego sygnału błąd losowy własny , to oszacować należy jego wariancję oznaczoną symbolem . Ostatecznie zapisać można zależność określającą błąd wypadkowy  sygnału  w postaci sumy kolejnych sygnałów błędów cząstkowych:


W kolejnej części analizowanego fragmentu toru pomiarowego sygnał  przetwarzany jest zgodnie z charakterystyką funkcji przetwarzania , wobec czego wielkość wyjściową  obiektu opisać można w postaci:

przy czym  jest rzeczywistym oraz  idealnym równaniem przetwarzania analizowanego obiektu, natomiast  funkcją uwzględniającą wielkości zakłócające. W zależności od charakteru funkcji przetwarzania obiektu, funkcja ta może modyfikować widmo przetwarzanego sygnału, podobnie jak miało to miejsce w przypadku części analogowej. Jeżeli analizowana funkcja przetwarzania jest addytywna, tj. zachodzi  dla dowolnych  oraz  należących do dziedziny tej funkcji, wszystkie przetwarzane sygnały błędów analizować można oddzielnie, analogiczne jak w przypadku równań od eq:out_cont_err_stat_self do eq:out_cont_err_rand_prop. Można w takim przypadku zapisać:

gdzie  jest błędem statycznym własnym,  statycznym propagowanym,  dynamicznym własnym,  dynamicznym propagowanym,  losowym własnym oraz  losowym propagowanym wielkości wyjściowej obiektu. Uwzględniając udział wielkości zakłócających oraz niedoskonałość charakterystyki przetwarzania obiektu zdefiniować można również sygnały błędów:

gdzie  jest sygnałem błędu własnego związanego z niedoskonałością funkcji przetwarzania, natomiast  sygnałem błędu wynikającym z udziału wielkości zakłócających. Wypadkowy sygnał błędu wielkości wyjściowej analizowanego fragmentu toru pomiarowego opisać można w postaci sumy wszystkich wymienionych sygnałów:


Zależność wariancji sygnału na wyjściu fragmentu obiektu reprezentującego jego właściwości statyczne może w przypadku ogólnym zostać opisana równaniem:

gdzie  oznacza wartość oczekiwaną realizacji sygnału . Dla funkcji przetwarzania obiektu danej w postaci , zakładając że symbolem  oznaczono współczynnik kierunkowy przedstawionego równania utożsamiany z czułością analizowanego obiektu, równanie eq:out_disc_var_function upraszcza się do postaci:

przy czym  jest wariancją sygnału na wejściu analizowanego fragmentu obiektu, reprezentującego jego właściwości statyczne.

Przedstawione zależności są zbliżone do tych przedstawionych we fragmencie pracy poświęconym modelowi analogowej części toru pomiarowego. Zaproponowane podejście ujednolica analizę całości toru pomiarowego, który składać się może z wielu fragmentów przetwarzających ciągłą w czasie reprezentację sygnału lub jej próbki. Uogólnienie modelu wprowadzające dowolną funkcję przetwarzania umożliwia zastosowanie proponowanego modelu w sytuacjach, gdy rzeczywista charakterystyka obiektu jest nieliniowa lub nie jest znana, natomiast możliwe jest wskazanie parametrów sygnałów błędów wprowadzanych przez obiekt do przetwarzanego sygnału. Można zatem zauważyć, że sam przetwornik analogowo-cyfrowy w przypadku rzeczywistego obiektu modelować można zgodnie z propozycją przedstawioną na rysunku . Fragment przetwornika związany z układem próbkująco-pamiętającym opisać można modelem części analogowej, natomiast błędy wprowadzane na etapie procesu kwantowania opisać można w części cyfrowej tego obiektu. Podobnie modelować można pojedynczą wielkość wyjściową w przypadku algorytmu przetwarzającego dane. W omawianym przypadku model błędów obejmować może wprowadzanie sygnałów błędów związanych między innymi z operacjami arytmetycznymi i wynikającymi z nich zaokrągleniami.

Opis parametrów sygnałów błędów

W poprzednich częściach rozdziału przedstawiono związki pomiędzy kolejnymi sygnałami błędów, które zdefiniowano w ramach analizy zaproponowanego modelu toru pomiarowego. Powtarzając proces uzyskiwania wartości realizacji wielkości wyjściowej każdego z omówionych fragmentów, a następnie porównując uzyskaną wartość wskazania do wartości odpowiadającej idealnej realizacji procesu pomiaru, uzyskać można pewną populację realizacji sygnału błędu obarczającego kolejne wskazania. Poza wartością realizacji analizowanej wielkości wyjściowej, zdefiniować można zatem przedział, w jakim z określonym prawdopodobieństwem powinna znajdować się wartość realizacji sygnału błędu związanego z tą wielkością. Omawiany przedział dla prawdopodobieństwa równego  nazywany jest niepewnością rozszerzoną i może być opisany w postaci :

gdzie symbolem  oznaczono wartość bezwzględną dowolnej realizacji sygnału błędu , symbolem  oznaczono wartość niepewności rozszerzonej, natomiast symbolem  oznaczono zadany poziom ufności, przy czym zakłada się, że . Na podstawie równania eq:unc_definition zauważyć można, że uzyskanie realizacji sygnału błędu  o wartości bezwzględnej mniejszej lub równej wartości niepewności rozszerzonej  cechuje się prawdopodobieństwem równym poziomowi ufności  .

Wobec powyższych rozważań, oznaczając funkcję gęstości prawdopodobieństwa realizacji sygnału błędu  symbolem  oraz zakładając, że funkcja ta jest dodatnia, symetryczna względem osi rzędnych i całkowalna w sensie Riemanna, zapisać można następującą zależność:

przy czym symbolem  oznaczono współczynnik normalizujący całość powierzchni funkcji  do jedności, którego wartość wyznaczana jest zgodnie z równaniem:

Powyższe zależności wynikają z równania eq:unc_definition, przy czym zakładają one zerową wartość oczekiwaną realizacji sygnału błędu oraz symetrię funkcji gęstości prawdopodobieństwa tego sygnału względem osi rzędnych. Dla przypadków niespełniających założenia zerowej wartości oczekiwanej realizacji sygnału błędu należy zastosować korektę wynikającą z tej wartości, jak pokazano w podręczniku . W przypadku braku symetrii funkcji gęstości prawdopodobieństwa należy wyznaczać osobno prawą  i lewą  granicę realizacji sygnału błędu dla określonego poziomu ufności, co przedstawiono między innymi w pracach , przy czym opis ten odbiega od klasycznej definicji niepewności rozszerzonej przedstawionej w  i nie został szczegółowo omówiony w pracy.

W praktyce pomiarowej wartość niepewności rozszerzonej szacuje się często mając do dyspozycji określony dyskretny zbiór  wartości realizacji analizowanego sygnału błędu . Zakładając, że  jest funkcją określającą liczbę realizacji sygnału błędu  o wartości  dla  w przedziale  , przy czym wartość oczekiwana realizacji tego sygnału wynosi zero, to równanie eq:unc_integral przyjmuje postać:

dla przypadków gdzie funkcja gęstości prawdopodobieństwa analizowanego sygnału jest dodatnia oraz symetryczna względem osi rzędnych. W omawianym przypadku również istnieje możliwość analizy prawego i lewego obszaru asymetrycznego rozkładu oraz możliwość stosowania korekty w przypadku niezerowej wartości oczekiwanej realizacji sygnału błędu, przy czym w kontekście modelu błędów nie poruszano tego zagadnienia.

Inną stosowaną definicją niepewności rozszerzonej jest definicja opisująca relacje niepewności standardowej, będącej wartością odchylenia standardowego, z niepewnością rozszerzoną poprzez wprowadzenie współczynnika rozszerzenia . Zgodnie z tą definicją zapisać można następującą relację:

w której  jest współczynnikiem rozszerzenia wynikającym z kształtu rozkładu realizacji analizowanego sygnału błędu. Jeżeli spełnione jest założenie odnośnie braku błędu dominującego i istnieniu wielu źródeł błędów, to dla poziomu ufności  wartość tego współczynnika wynosi 1.96 , co odpowiada wartości współczynnika rozszerzenia  dla rozkładu normalnego. Definicja ta jest znacznie bardziej przystępna z punktu widzenia projektanta toru pomiarowego, ponieważ umożliwia ona wyznaczenie współczynników rozszerzenia dla typowych rozkładów realizacji sygnałów błędów, co w efekcie pozwala wykorzystać wartość odchylenia standardowego do oszacowania wartości niepewności rozszerzonej dla tego typu sygnałów. Należy zauważyć, że niepewność standardowa nie zawsze umożliwia wskazanie prawdopodobieństwa uzyskania wybranej wartości realizacji sygnału błędu, a dodatkowo dla różnych kształtów rozkładu i tej samej wartości niepewności standardowej, prawdopodobieństwa te będą inne. Wynika stąd wniosek, że parametr jakim jest niepewność rozszerzona, stanowi bardzo cenną informację o właściwościach metrologicznych analizowanej wielkości. W dalszej cześć pracy przyjmuje się, że niepewność rozszerzona wyznaczana będzie każdorazowo dla poziomu ufności  równego 95. W przypadku, gdy analizowana wielkość obarczona jest błędami pochodzącymi z różnych źródeł, wyznaczyć należy parametry wypadkowego sygnału błędu . Podczas obliczeń należy brać pod uwagę ewentualne korelacje pomiędzy sygnałami błędów. Proces wyznaczania wypadkowych parametrów sygnału błędu, będącego sumą składowych sygnałów błędów, przebiegać będzie inaczej dla wariancji i niepewności rozszerzonej.

Zakładając, że analizowana wielkość mierzona jest zakłócona sygnałami błędów oznaczonymi jako , których wariancje oznaczono symbolami , natomiast kolejne współczynniki korelacji oznaczone są symbolem , wariancję  wypadkowego sygnału błędu  opisać można jako :

przy czym przyjmuje się, że . Wartość współczynnika korelacji  dla pary -tego oraz -tego sygnału błędu wynosi odpowiednio :

gdzie  jest wariancją sygnału błędu wypadkowego , stanowiącego sumę sygnałów błędów -tego i -tego. W szczególnym przypadku, gdy sumowane sygnały nie są ze sobą skorelowane (tj. gdy  dla ), zależność eq:var_matrix przyjmuje postać sumy kolejnych wartości wariancji analizowanych sygnałów błędów :

Należy zaznaczyć, że zależności przedstawione w równaniach od eq:var_matrix do eq:var_sum mogą być stosowane niezależnie od tego, czy analizowane sygnały są opisane deterministycznie.

Dla sygnałów błędów o charakterze deterministycznym, opisując przebieg -tej składowej sygnału błędu o pulsacji  w postaci równania:

gdzie  jest amplitudą oraz  przesunięciem w fazie analizowanej harmonicznej sygnału błędu, wariancję tej składowej obliczyć można zgodnie z zależnością :

natomiast wartości współczynników korelacji pomiędzy analizowanymi składowymi  oraz  wyznaczyć można na podstawie równania :

Brak korelacji kolejnych składowych sygnałów błędów w przypadku różnych pulsacji ich harmonicznych wynika z liniowej niezależności tych sygnałów .

Przedstawione dotychczas zależności pozwalają na wyznaczenie wypadkowej wartości wariancji dowolnej liczby przebiegów sinusoidalnie zmiennych sygnałów błędów o znanych parametrach, natomiast nie dostarczają informacji o fazie wybranej harmonicznej wypadkowego sygnału błędu. W pewnych przypadkach znajomość wartości tego parametru jest konieczna, np. gdy na kolejnym etapie analizy rozpatrywane będą dodatkowe harmoniczne sygnału błędu. Problem ten rozwiązać można przechodząc na rachunek wektorowy, oznaczając kolejne wektory sygnałów błędów opisanych równaniem eq:dyn_harm o jednakowej pulsacji w postaci:

gdzie  jest wektorem opisującym wypadkowy sygnał błędu, natomiast  oznacza liczbę analizowanych harmonicznych sygnałów błędów o jednakowej pulsacji. W takim przypadku amplituda wypadkowego sygnału błędu oraz jego faza wynoszą:

Przedstawione równania umożliwiają wyznaczenie parametrów kolejnych harmonicznych wypadkowego sygnału błędu o charakterze deterministycznym.

Wyznaczenie wartości wariancji  wypadkowego sygnału błędu pozwala wyznaczyć niepewność standardową, natomiast w wielu przypadkach wielkość ta może okazać się niewystarczająca do oceny właściwości analizowanego obiektu i wymagane będzie wyznaczenie wartości niepewności rozszerzonej. Na tym etapie napotkać można problem związany z zależnością wartości tej wielkości od kształtu rozkładu wartości realizacji sygnału błędu. W przypadku, gdy w rozważanej sytuacji nie będzie można wyróżnić żadnego błędu dominującego, a dodatkowo wystąpi wiele źródeł błędów od siebie niezależnych, to zgodnie z centralnym twierdzeniem granicznym, błąd wypadkowy będzie błędem o rozkładzie zbliżonym do normalnego, co umożliwi wyznaczenie wartości niepewności rozszerzonej zgodnie z równaniem eq:unc_sum stosując współczynnik rozszerzenia dla rozkładu normalnego, równy  dla poziomu ufności  . Opisywane założenie w wielu przypadkach będzie prawdziwe, natomiast nie może być stosowane w sytuacji innej, niż opisana.

Najbardziej uniwersalnym sposobem na wyznaczenie wypadkowej wartości niepewności rozszerzonej jest w sytuacji ogólnej metoda Monte-Carlo . Metoda ta wymaga jednak przeprowadzenia wielu iteracji procesu uzyskiwania wartości realizacji analizowanego sygnału błędu i ze względu na czas obliczeń nie może być stosowana do bieżącej oceny właściwości metrologicznych toru pomiarowego, którego parametry zmieniać się będą w czasie. Alternatywę dla metody Monte-Carlo stanowić mogą metody analityczne, wśród których znajdują się między innymi metoda propagacji dystrybuant , metoda rozszerzonej reguły kombinacji niepewności opisana w  i zastosowana w pracy , czy metoda bazująca na zbiorach rozmytych, zaproponowana w . Metody te są jednak skomplikowane i zastosowanie ich dla zaproponowanego modelu błędów byłoby mniej efektywne, niż zastosowanie metody redukcyjnej arytmetyki interwałowej, przedstawionej w pracy . Wymieniona metoda bazuje na arytmetyce interwałowej, opisanej szerzej w pracy , przy czym umożliwia ona zawężenie wynikowego interwału.

Zastosowanie metody redukcyjnej arytmetyki interwałowej wymaga, aby dla każdego z analizowanych sygnałów błędów wyznaczyć niepewność rozszerzoną, zgodnie z definicją opisaną zależnością eq:unc_definition, zakładając jednakowy poziom ufności. Następnie wyznaczyć należy wartości współczynników macierzy koherencji, podobnej do macierzy współczynników korelacji przedstawionej w równaniu eq:var_matrix. W odróżnieniu od macierzy korelacji, której kolejne współczynniki wyznaczane były zgodnie z równaniem eq:var_corr, wyznaczenie wartości współczynników macierzy koherencji jest zadaniem złożonym. Współczynniki koherencji reprezentują wypadkową korelacji zachodzącej pomiędzy analizowanymi sygnałami oraz wzajemnej relacji pomiędzy kształtami ich rozkładów, a kształtem rozkładu realizacji wypadkowego sygnału błędu .

Istnieje wiele metod umożliwiających wyznaczenie wartości współczynników macierzy koherencji, opisanych między innymi w pracach . Metody te dzielą się na symulacyjne oraz analityczne, przy czym w przypadku metod analitycznych stopień skomplikowania wynikający z konieczności wyznaczania funkcji splotu znacznie utrudnia stosowanie tych metod dla większej niż kilka liczby sygnałów błędów. Metody symulacyjne pozwalają uzyskiwać wyniki zbieżne z uzyskiwanymi analitycznie, przy czym ich użycie związane jest z koniecznością przeprowadzenia eksperymentu metodą Monte-Carlo, co w zasadzie sprowadza się do zastosowania tej metody do oszacowania wartości wypadkowej niepewności rozszerzonej. Dodatkowo, ze względu na zależność wynikowych parametrów rozkładu realizacji wypadkowego sygnału błędu od wszystkich parametrów sumowanych sygnałów błędów, zmiana wartości któregokolwiek parametru wymusza konieczność ponownej identyfikacji wartości współczynników koherencji - w przeciwnym wypadku oszacowana wartość wypadkowej niepewności rozszerzonej obarczona będzie błędem wynikającym z zastosowania współczynników odpowiednich dla innego zestawu danych. Dodatkowo, w zależności od sposobu wyznaczania wartości współczynników koherencji, mogą one przyjmować różne wartości dla tego samego zestawu analizowanych sygnałów błędów .

Wobec powyższego należy przedstawić metodę stanowiącą kompromis pomiędzy dokładnością uzyskiwanych wyników, stopniem skomplikowania analizy oraz czasem potrzebnym na wykonanie obliczeń. Proponuje się wykorzystanie w tym celu przedstawionych w literaturze wyników dla metody analitycznej oraz uzyskanych na potrzeby pracy wyników metody symulacyjnej, umożliwiających oszacowanie wartości współczynników koherencji dla dowolnej liczby i dowolnej kombinacji parametrów analizowanych sygnałów. Jednocześnie zakłada się, że względny błąd oszacowana wartości wypadkowej niepewności rozszerzonej z prawdopodobieństwem równym 95 powinien zawierać się w przedziale 5 wartości prawidłowej tej wielkości.

Oznaczając symbolem  wartość współczynnika koherencji dla pary -tego oraz -tego sygnału błędu, których niepewności rozszerzone dla jednakowego poziomu ufności  wynoszą  oraz , wartość wypadkowej niepewności rozszerzonej  dla poziomu ufności  oraz  analizowanych sygnałów błędów opisuje równanie :

Analizując przypadek, który zakłada istnienie jedynie dwóch sygnałów błędów  oraz  o niepewnościach rozszerzonych  oraz , równanie eq:unc_matrix przyjmuje postać:

Dla znanej wartości wypadkowej niepewności rozszerzonej , wynikającej ze złożenia niepewności  oraz , wartość współczynnika koherencji  wyznaczyć można zatem zgodnie z następującym równaniem:

Wyznaczenie wartości współczynnika  jest w analizowanym przypadku możliwe poprzez przeprowadzenie eksperymentu metodą Monte-Carlo. Eksperyment ten polega na wielokrotnym pobraniu sumy wartości realizacji analizowanych sygnałów błędów w postaci , a następnie wyznaczeniu wypadkowej wartości niepewności rozszerzonej  zgodnie z równaniem eq:unc_summation .

Jako, że wyznaczona wartość współczynnika  będzie odpowiednia jedynie dla dwóch sygnałów błędów o parametrach identycznych, jak parametry sygnałów  oraz  zastosowanych w analizowanym przypadku, dla sygnałów o parametrach innych niż analizowane należałoby wyznaczyć wartość współczynnika koherencji ponownie. Taka sytuacja jest niedopuszczalna z punktu widzenia przyjętych w pracy założeń, ponieważ nie mogłaby być realizowana do aktualnej oceny właściwości metrologicznych analizowanej wielkości, której parametry mogłyby zmieniać się w czasie. Dodatkowo zauważyć należy, że dla innej liczby sygnałów błędów i innych wartości ich parametrów należałoby ponownie wyznaczyć wartości współczynników koherencji.

Wobec powyższych zaproponować należy algorytm umożliwiający wyznaczenie, dla typowych par sygnałów, wartości współczynników kształtu , które następnie zostaną skorygowane w celu zastosowania ich jako aproksymacji współczynników koherencji w równaniu eq:unc_matrix, dla aktualnych parametrów i liczby analizowanych sygnałów. Zgodnie z propozycją omówioną w pracy , wartość współczynnika kształtu  wyznaczyć można zgodnie z równaniem eq:unc_cohertwo, dla nieskorelowanej pary sygnałów  oraz  cechujących się identyczną wartością niepewności rozszerzonej  przy założeniu jednakowego poziomu ufności, w postaci równania:

W tabeli  przedstawiono zestawienie wyznaczonych przy użyciu metody Monte-Carlo, zgodnie z równaniem eq:unc_shapertwo, wartości współczynników kształtu dla par sygnałów o typowych rodzajach funkcji gęstości prawdopodobieństwa, gdzie założono .



tab:unc_shapefacZestawienie wartości współczynnika kształtu dla par sygnałów o typowych funkcjach gęstości prawdopodobieństwa dla poziomu ufności 95, gdzie kolejne symbole oznaczają rozkład:  normalny,  jednostajny,  trójkątny,  dwumodalny
[c] c *4S[table-format = 1.4]   &  &  &  &  
        & 0.0000       & 0.1561       & 0.0250       & 0.2988       
        & 0.1561       & 0.3356       & 0.1773       & 0.5337       
        & 0.0250       & 0.1773       & 0.0419       & 0.3504       
        & 0.2988       & 0.5337       & 0.3504       & 0.7136       
 
Dla wyznaczonej wartości współczynnika kształtu należy następnie uwzględnić, w jaki sposób zmienia się jego wartość w przypadku pojawienia się dysproporcji pomiędzy wartościami parametru niepewności rozszerzonej analizowanych sygnałów. Przeprowadzone w tym celu badania symulacyjne wykazały, że wraz ze wzrostem dysproporcji pomiędzy wartościami niepewności rozszerzonej sumowanych sygnałów, maleje wartość współczynnika koherencji uzyskiwana zgodnie z równaniem eq:unc_cohertwo. Zależność wartości współczynnika koherencji w funkcji stosunku wartości niepewności rozszerzonych dla zestawionych w tabeli  par sygnałów przedstawia rysunek . Proponuje się zatem wykorzystać omawianą właściwość w celu korekty wartości współczynnika kształtu wyznaczonego zgodnie z równaniem eq:unc_shapertwo, przy czym opisany współczynnik korekcji będzie wyznaczany zgodnie z równaniem:




fig:unc_shapefacZależność wartości współczynnika koherencji w funkcji stosunku wartości niepewności rozszerzonej dla pary nieskorelowanych sygnałów błędów

Drugim analizowanym aspektem jest założenie wynikające z centralnego twierdzenia granicznego, wobec którego wraz ze wzrostem liczby sumowanych sygnałów kształt rozkładu sygnału wypadkowego dążyć będzie do kształtu rozkładu normalnego, jeśli sygnały te nie są skorelowane i nie występuje w nich żaden sygnał dominujący. Korektę wynikającą z opisywanych założeń zaproponowano w pracy  jako:

co oznacza, że wartość współczynnika koherencji powinna być tym bardziej zbliżona do zera, im więcej istnieje źródeł błędów oraz im bardziej podobne są ich parametry. Należy zauważyć, że wraz ze wzrostem liczby sygnałów błędów cechujących się podobną wartością niepewności rozszerzonej wartość wyrażenia eq:unc_cohercorrb dążyć będzie do zera tym szybciej, im bardziej zbliżone są wartości niepewności rozszerzonych analizowanych sygnałów.

Biorąc pod uwagę współczynnik kształtu dla pary sygnałów o identycznych wartościach niepewności rozszerzonej opisany równaniem eq:unc_shapertwo, korektę wynikającą z dysproporcji pomiędzy wartościami niepewności rozszerzonych sumowanych sygnałów opisaną równaniem eq:unc_cohercorra oraz korektę wynikającą z założeń centralnego twierdzenia daną zależnością eq:unc_cohercorrb, otrzymuje się zależność umożliwiającą oszacowanie wartości współczynników koherencji dla  nieskorelowanych sygnałów błędów w postaci:

Na podstawie przedstawionego równania istnieje możliwość budowy macierzy koherencji, wykorzystywanej do wyznaczenia wypadkowej wartości niepewności rozszerzonej dla analizowanych sygnałów błędów zgodnie z zależnością eq:unc_matrix.

Należy zauważyć, że z uwagi na możliwość wyznaczenia wartości współczynników kształtu niezależnie od wartości niepewności rozszerzonych sygnałów błędów obecnych w analizowanym torze pomiarowym, zaproponowana metoda jest możliwa do stosowania w czasie działania systemu również w przypadkach, gdy parametry te ulegają zmianie. Wadą przedstawionego rozwiązania jest konieczność wstępnego wyznaczenia wartości współczynników kształtu dla wszystkich rodzajów rozkładów realizacji sygnałów błędów występujących w analizowanym torze pomiarowym. Dodatkowo, ze względu na uproszczoną formę równania eq:unc_cohercorra, która nie oddaje w pełni charakteru zależności przedstawionych na rysunku , wartości oszacowanych współczynników koherencji mogą być obarczone błędem, co w efekcie będzie miało wpływ na pojawienie się błędu oszacowania wartości wypadkowej niepewności rozszerzonej.

Ostatnim wymagającym komentarza jest przypadek, w którym istnieją korelacje pomiędzy analizowanymi sygnałami błędów. Zgodnie z właściwościami macierzy koherencji elementy tej macierzy, podobnie jak elementy macierzy korelacji stosowanej w równaniu eq:var_matrix, przyjmować mogą wartości z zakresu . Dla pełnej dodatniej korelacji wartość współczynnika koherencji wynosić będzie 1, natomiast dla pełnej ujemnej korelacji wartość ta wyniesie -1 . W pozostałych przypadkach, zgodnie z informacjami przytoczonymi w poprzedniej części podrozdziału, wartość współczynnika koherencji wynikać będzie z wypadkowych parametrów kształtu splatanych rozkładów oraz współczynnika korelacji. Wobec powyższych nie jest możliwe oszacowanie wartości tego współczynnika stosując metody podobne do zaproponowanych w równaniach od eq:unc_shapertwo do eq:unc_cohercorrb. W omawianych sytuacjach, do wyznaczania wartości współczynników koherencji, zastosować należy metodę opisaną w pracy . Inną drogą może być również przeprowadzenie analizy z osobna dla grup skorelowanych sygnałów, a następnie wykorzystanie wyznaczonych parametrów w równaniu eq:unc_matrix.

Aby zweryfikować zasadność przedstawionych zależności oraz możliwość aplikacji zaproponowanej metody, przeprowadzono eksperyment metodą Monte-Carlo, którego celem było porównanie wartości niepewności rozszerzonej  uzyskiwanej na drodze eksperymentu, zgodnie z instrukcją , oraz wartości  uzyskiwanych zgodnie z równaniem eq:unc_matrix dla współczynników koherencji wyznaczanych na podstawie równania eq:unc_coher. Błąd względny  oszacowania wartości niepewności rozszerzonej, wyrażony w procentach, zdefiniowano zatem w postaci:

W ramach eksperymentu generowano  niezależnych sygnałów, których kolejne wartości realizacji pobierane były z populacji o rozkładach  i parametrach niepewności rozszerzonej , po czym realizacje te sumowano zgodnie z równaniem:

Dla opisanego równaniem eq:unc_testsignal sygnału , składającego się ze 100000 próbek, zgodnie z równaniem eq:unc_summation wyznaczano wartość niepewności rozszerzonej . Wartość niepewności rozszerzonej  szacowano na podstawie równania eq:unc_matrix dla wylosowanych parametrów bieżącej iteracji eksperymentu. Dla uzyskanych wartości omawianych wielkości wyznaczano, zgodnie z równaniem eq:unc_error, wartość względnego błędu oszacowania wartości wielkości . Opisywany proces powtarzano 100000 razy, przy czym wartość  pobierana była dla każdej iteracji z populacji danej przedziałem  o jednakowym prawdopodobieństwie uzyskania każdej z wartości, populacje kolejnych sygnałów  stanowiły losowo kombinację rozkładów: normalnego, jednostajnego, trójkątnego oraz dwumodalnego, przy czym wylosowanie każdego z rodzajów rozkładu było jednakowo prawdopodobne, natomiast wartości parametrów  losowane były z przedziału  o jednakowym prawdopodobieństwie uzyskania każdej z wartości. W celu weryfikacji wpływu stosowania zaproponowanego w równaniu eq:unc_cohercorra współczynnika korekty na skuteczność opisanej w równaniu eq:unc_matrix metody, wartość wielkości  obliczano dwukrotnie, przy czym za drugim razem przyjmowano w równaniu eq:unc_coher założenie  dla dowolnej kombinacji  oraz .

Ze względu na dużą zmienność parametrów związanych z sumowanymi sygnałami, zaproponowany eksperyment powinien w sposób miarodajny określić typową rozbieżność pomiędzy rzeczywistą, a oszacowaną zgodnie z równaniem eq:unc_matrix wartością niepewności rozszerzonej. Na rysunku  przedstawiono uzyskane histogramy względnego błędu oszacowania wypadkowej wartości niepewności rozszerzonej , natomiast w tabeli  zestawiono porównanie uzyskanych wartości niepewności rozszerzonej błędu oszacowania wartości wypadkowej niepewności rozszerzonej  w zależności od stosowania korekty zaproponowanej w równaniu eq:unc_cohercorra, które wyznaczono zgodnie z . Na podstawie przedstawionych wyników wnioskować można, że stosowanie zaproponowanej korekty skutkuje zmniejszeniem wartości względnego błędu oszacowania wypadkowej wartości niepewności rozszerzonej oraz zmniejszeniem rozrzutu tego błędu. W efekcie, stosując omawianą korektę, możliwe jest oszacowanie wartości wypadkowej niepewności rozszerzonej z błędem względnym mieszczącym się w przedziale 5.



tab:comp_reductiveZestawienie wartości niepewności względnego błędu szacowania wypadkowej wartości niepewności rozszerzonej w zależności od stosowania zaproponowanej w pracy korekty współczynnika kształtu uzyskane metodą Monte-Carlo dla poziomu ufności 95
[c] c *8S[table-format = +1.2]   & 2ca)  & 2cb)  & 2cc)  & 2cd)  
  &  &  &  &  &  &  &  &  
 Z korektą   & -2.23 & +4.83 & -2.43 & +4.59 & -2.54 & +4.52 & -2.62 & +4.45 
 Bez korekty & -1.14 & +7.96 & -1.13 & +8.69 & -1.09 & +8.80 & -1.13 & +8.86 
 


fig:hist_reductiveHistogramy względnego błędu oszacowania wypadkowej wartości niepewności rozszerzonej dla zaproponowanej w pracy metody odpowiadające danym zestawionym w tabeli 

Analizując przedstawione dotychczas zależności zauważyć można, że sposób opisu niedokładności wyniku pomiaru zależeć będzie w dużej mierze od potrzeb projektanta toru pomiarowego oraz od specyfiki zakłócających proces pomiaru zjawisk. Opis wykorzystujący wariancję sygnału błędu wydaje się bardziej przystępny i mniej skomplikowany, a dodatkowo wielkość ta może być utożsamiana z mocą sygnału . Opis wykorzystujący niepewność rozszerzoną będzie jednak bardziej precyzyjny, ze względu na informacje odnośnie prawdopodobieństwa wystąpienia danej wartości realizacji sygnału błędu, natomiast wymaga on większego zaangażowania w proces wyznaczania ostatecznej wartości tej wielkości. W odpowiednich okolicznościach, jeżeli spełnione są warunki związane z centralnym twierdzeniem granicznym, opis bazujący na wariancji sygnału błędu może być w łatwy sposób przeniesiony na opis związany z niepewnością rozszerzoną .

Wyznaczone zgodnie z metodą redukcyjnej arytmetyki interwałowej szacowane wartości niepewności rozszerzonej mogą w niewielkim stopniu odbiegać od wartości rzeczywistych, co opisano w . Zaproponowana w równaniu eq:unc_cohercorra korekta zmniejsza omawiane różnice, zapewniając jednocześnie niski stopnień skomplikowania obliczeń oraz względny błąd oszacowania wypadkowej wartości niepewności rozszerzonej nieprzekraczający 5 prawidłowej wartości tej wielkości. Można zatem stwierdzić, że zaproponowana w pracy metoda szacowania wypadkowej wartości niepewności rozszerzonej jest zasadna z punktu widzenia przyjętych założeń. Ponadto, ze względu na niską złożoność obliczeń, metoda ta może być stosowana w przypadkach, gdzie liczba analizowanych sygnałów oraz ich parametry ulegają zmianie .

Algorytm jako fragment toru pomiarowego

Podczas opisu właściwości cyfrowej części toru pomiarowego przedstawiono przypadek ogólny, w którym analizowany obiekt przetwarzał kolejne próbki sygnału wejściowego na próbki sygnału wyjściowego zgodnie z odpowiadającą mu transmitancją i funkcją przetwarzania. Algorytmy stosowane w torach pomiarowych mogą generować wiele wielkości wyjściowych, pobierając w tym celu określoną liczbę próbek wielkości wejściowych. W przypadku, gdy wyjście analizowanego obiektu stanowi  próbek wielkości wyjściowych wyznaczanych na podstawie  próbek wielkości wejściowych, a funkcja przetwarzania oraz transmitancja tego obiektu są liniowe i niezmienne w czasie, działanie obiektu przedstawić można w postaci równania :

gdzie  to kolejne współczynniki macierzy transformacji,  to kolejne wielkości wyjściowe, natomiast  to kolejne wielkości wejściowe analizowanego algorytmu. Równanie eq:alg_out_mat można przedstawić również w postaci iloczynu :

gdzie  jest wektorem wielkości wyjściowych,  macierzą transformacji oraz  wektorem wielkości wejściowych. Wobec powyższych zależności, pojedynczą wielkość wyjściową algorytmu przedstawić można w postaci:

Na podstawie równania eq:alg_out_single zauważyć można, że analizowany obiekt stanowi zbiór filtrów o skończonej odpowiedzi impulsowej FIR (ang. Finite Impulse Response). Przedstawione metody analizy będą zatem przypominały metody analizy opisywanego typu filtru . Przedstawione założenie odnośnie stałej transmitancji algorytmu implikuje niezmienność wartości elementów macierzy transformacji analizowanego algorytmu. W przypadku, gdy istnieje konieczność analizy algorytmu o zmiennej transmitancji, przy zmianie tej transmitancji należy każdorazowo wyznaczyć wartości wszystkich wielkości od niej zależnych.

Jako, że w procesie przetwarzania danych stosuje się zwykle gotowe algorytmy, zaimplementowane np. w środowiskach GNU Octave czy Matlab , wartości współczynników macierzy transformacji  stosowanej w równaniach eq:alg_out_mat oraz eq:alg_out_mul mogą nie być znane. Jeżeli znana jest transmitancja  dla kolejnych wielkości wyjściowych, wyznaczenie wartości współczynników macierzy transformacji odbywać się będzie poprzez przekształcenie tej transmitancji na postać zgodną z równaniem eq:alg_out_single, przy czym zabieg ten nie jest konieczny. Analiza właściwości metrologicznych w omawianym przypadku przebiegać może identycznie, jak miało to miejsce w przypadku cyfrowego fragmentu toru pomiarowego, natomiast wyznaczenie wartości współczynników macierzy transformacji przy znajomości transmitancji algorytmu pozwoli w pewnym stopniu uprościć analizę, co przedstawiono w dalszej części podrozdziału. Innym przypadkiem jest sytuacja, gdzie wartości współczynników macierzy transformacji mogą być wyznaczone analitycznie, za pomocą odpowiednich zależności opisujących stosowany algorytm, jak ma to zwykle miejsce w przypadku algorytmów dyskretnej transformacji falkowej . Ostatnim analizowanym w pracy przypadkiem jest sytuacja, w której dostępna jest implementacja stosowanego algorytmu, natomiast nie jest znana jego struktura numeryczna .

Jeżeli analizowany algorytm jest liniowy oraz jego transmitancja jest liniowa i niezmienna w czasie, związek pomiędzy transmitancją  dla -tej wielkości wyjściowej oraz -tym wierszem macierzy transformacji  może być opisany równaniem:
)
Przedstawiona zależność umożliwia wyznaczenie wartości współczynników macierzy transformacji przy znajomości transmitancji wielkości wyjściowych algorytmu oraz wyznaczenie transmitancji tych wielkości przy znajomości wartości macierzy transformacji tego algorytmu. W celu wyznaczenia transmitancji  dla -tej wielkości wyjściowej algorytmu w dziedzinie pulsacji, odpowiedniej dla okresu próbkowania , należy przyjąć w równaniu eq:alg_trans_single) założenie, że  .

Identyfikacja wartości współczynników macierzy transformacji w przypadku istniejącego algorytmu polega na wyznaczaniu odpowiedzi tego algorytmu dla wektora wielkości wejściowych o wartościach zgodnych z równaniem :

przy czym uzyskany wektor wielkości wyjściowych stanowi -tą kolumnę macierzy transformacji tego algorytmu. Przedstawioną operację należy wykonać dla wszystkich kolumn macierzy transformacji, a zatem dla  w przedziale . Opisana metoda jest uniwersalna, przy czym wymaga ona, aby identyfikowany algorytm spełniał założenia przedstawione na początku podrozdziału.

Przedstawione dotychczas zależności podkreślają ścisły związek pomiędzy transmitancją kolejnych wielkości wyjściowych algorytmu oraz wartościami macierzy transformacji. Należy zauważyć, że z punktu widzenia zaproponowanego w pracy modelu, rozpatrywany algorytm mógłby być analizowany jako kilka obiektów cyfrowej części toru pomiarowego, przetwarzających te same wielkości wejściowe  na odpowiednie wielkości wyjściowe . Przedstawienie algorytmu w postaci macierzowej pozwala natomiast ujednolicić analizę i sprowadzić ją do zastąpienia opisywanej grupy obiektów jednym obiektem. Mnogość sposobów wyznaczania wartości elementów macierzy transformacji stanowi dodatkowy, cenny walor proponowanej metody analizy.

Aby ustalić związek pomiędzy sygnałami błędów wielkości wejściowych, a sygnałami błędów wielkości wyjściowych analizowanego algorytmu, należy rozważyć proces wyznaczania wartości pojedynczej wielkości wyjściowej tego obiektu. Zakładając, że wielkości wejściowe algorytmu są obarczone realizacjami sygnałów błędów o charakterze addytywnym zgodnie z zależnością:

gdzie  oznacza błąd statyczny,  błąd dynamiczny oraz  błąd losowy wielkości wejściowej, istnieje możliwość osobnej analizy wyniku realizacji algorytmu dla idealnych wartości wielkości wejściowych oraz dla wymienionych sygnałów błędów. Sygnał błędu  propagowanego z wejścia na wyjście analizowanego algorytmu można zatem opisać zgodnie z równaniem eq:alg_out_single w postaci:

Realizacja propagowanego sygnału błędu  stanowi zatem kombinację liniową współczynników -tego wiersza macierzy transformacji oraz wektora realizacji sygnału błędu wielkości wejściowych algorytmu.

Dla sygnałów błędów o charakterze statycznym, ze względu na fakt że wartość realizacji tych sygnałów jest niezmienna w obrębie pojedynczego okna pomiarowego, równanie eq:alg_outerr można uprościć i zapisać w postaci:

gdzie  jest błędem statycznym wielkości wejściowej dla -tego okna pomiarowego, natomiast  błędem statycznym propagowanym wielkości wyjściowej algorytmu. Powtarzając proces wyznaczania wartości wielkości wyjściowej algorytmu wielokrotnie, dla różnych numerów okna pomiarowego realizacje sygnału błędu statycznego mogą przyjmować różne wartości. W takim przypadku wyjściowy błąd statyczny również można rozpatrywać w kategoriach probabilistycznych, a jego wariancję opisać można równaniem uwzględniającym wariancję sygnału wejściowego błędu statycznego:

Należy zauważyć, że kształt rozkładu sygnału wyjściowego błędu statycznego będzie identyczny, jak kształt rozkładu sygnału błędu statycznego na wejściu algorytmu.

Dla sygnałów błędów dynamicznych należy przeprowadzić analizę zgodnie z metodologią przedstawioną w poprzedniej części rozdziału, wykorzystując znajomość transmitancji  odpowiedniej dla analizowanej wielkości wyjściowej algorytmu. Identycznie, jak w przypadku równania eq:mid_disc_err_dyn_prop, wyznaczyć należy wypadkowe amplitudy oraz przesunięcia w fazie kolejnych harmonicznych sygnału propagowanego błędu dynamicznego, a następnie wykorzystać należy równania od eq:dyn_harm do eq:dyn_corr w celu wyznaczenia wariancji analizowanych sygnałów. Na podstawie wskazanych zależności, wariancję  pojedynczej harmonicznej sygnału propagowanego błędu dynamicznego  wyznaczyć można zgodnie z zależnością:

gdzie  jest amplitudą analizowanej harmonicznej sygnału błędu dynamicznego  o pulsacji , natomiast  okresem próbkowania wielkości wejściowych algorytmu.

Sygnały błędów niedeterministycznych propagowane są przez analizowany algorytm w sposób identyczny, jak miało to miejsce w przypadku cyfrowej części toru pomiarowego. W ogólnym przypadku można zatem wykorzystać zależność eq:mid_disc_var_omega w celu określenia wariancji  propagowanego sygnału błędu losowego  w funkcji pulsacji. Wyznaczenie średniej wartości omawianej wielkości może odbywać się zgodnie z równaniem eq:mid_disc_var_rand, przy czym należy wyznaczać ją dla wartości pulsacji zawartych w przedziale . Jeżeli analizowany sygnał błędu losowego  cechuje się stałą widmową gęstością mocy, to obliczenia można uprościć stosując do wyznaczenia wartości wariancji losowego sygnału błędu na wyjściu algorytmu zależność :

Równania eq:mid_disc_var_rand oraz eq:alg_outvar_rand są zatem równoważne dla przypadków gdzie .

Znajomość wartości kolejnych elementów macierzy transformacji pozwala na podstawie równań eq:alg_outvar_stat oraz eq:alg_outvar_rand wprowadzić dodatkowe wielkości, opisane następującymi zależnościami :

gdzie  jest współczynnikiem przenoszenia sygnałów błędów statycznych, natomiast  jest współczynnikiem przenoszenia sygnałów błędów losowych dla -tej wielkości wyjściowej analizowanego algorytmu. Wyznaczenie wartości opisanych współczynników umożliwi wyznaczenie wariancji kolejnych sygnałów błędów losowych oraz statycznych, a dodatkowo będzie stanowiło informacje, w jaki sposób analizowany algorytm przenosi z wejścia na wyjście określony rodzaj błędów. Można zauważyć, że dla niskich wartości współczynnika przenoszenia (tj. ) kolejne błędy wielkości wejściowych będą tłumione (wariancja sygnału błędu wielkości wyjściowej będzie mniejsza, niż wariancja sygnału błędu wielkości wejściowej). Odwrotna sytuacja będzie miała miejsce w przypadku dużych wartości współczynnika (tj. ). Wobec powyższych zachodzi:

Należy zauważyć, że stosowanie równania eq:alg_outvar_trans_rand pozwala oszacować średnią widmową gęstość mocy analizowanego sygnału błędu tylko w przypadku, gdy sygnał ten cechuje się stałą widmową gęstością mocy. Wyznaczenie średniej wariancji sygnału błędu losowego będzie zasadne dla przypadków, gdzie dalsza analiza wpływu kolejnych obiektów na rozważany sygnał błędu nie będzie prowadzona, zatem gdy obiekt stanowi ostatnią część toru pomiarowego. W innym wypadku należy zastosować zależność eq:mid_disc_var_omega.

Poza przenoszeniem przez algorytm błędów zawartych w wielkościach wejściowych na jego wyjście, algorytm wprowadza do wielkości wyjściowych błędy własne. W pracy przyjmuje się, że transmitancja algorytmu jest idealna, a zatem algorytm ten nie wprowadza do sygnału wyjściowego błędów własnych o charakterze deterministycznym. Wobec przedstawionego założenia, błędy własne algorytmu wynikają z niedokładności wyznaczenia współczynników algorytmu oraz z przeprowadzanych podczas obliczeń zaokrągleń. Analiza właściwości sygnałów błędów związanych z omawianymi zjawiskami powinna zatem odbywać się indywidualnie dla zaimplementowanego algorytmu.

Zakładając, że wyznaczanie wartości realizacji -tej wielkości wyjściowej algorytmu odbywać się będzie wielokrotnie, sygnały błędów własnych algorytmu opisywać można w kategorii probabilistycznej za pomocą związanej z nimi wariancji . Ze względu na fakt, że liczba operacji mnożenia i dodawania, odpowiedzialnych za powstawanie omawianej grupy błędów będzie duża ( mnożeń oraz  dodawań) zakładać można, że błąd ten będzie miał rozkład zbliżony do normalnego . Należy jednak przeprowadzić odpowiedni eksperyment mający na celu identyfikacje opisywanych zależności, co przedstawiono na przykładzie w dalszej cześć pracy.

W przypadku, gdy na etapie identyfikacji wartości macierzy współczynników uzyskano wartości obarczone błędami, należy rozszerzyć analizę o przedstawienie konsekwencji tego zjawiska. W takim przypadku należy przeanalizować wprowadzany do wielkości wyjściowych dodatkowy błąd własny oraz wykonać analizę dla błędów własnych dynamicznych zgodnie z równaniem eq:mid_disc_err_dyn_self. Identyczne kroki należy podjąć, jeżeli rzeczywista transmitancja algorytmu różni się od transmitancji wymaganej z punktu widzenia jego działania. Przedstawiony przypadek nie został rozważony w pracy, natomiast omawianą analizę przedstawia monografia .

Zgodnie z zależnością eq:alg_out_single -tą wielkość wyjściową  analizowanego algorytmu w przypadku idealnym opisać można następującym równaniem:

natomiast gdy rozważana wielkość jest zakłócona sygnałem błędu  zapisać można:

gdzie sygnały błędów własnego  oraz propagowanego  przedstawić można w postaci sumy składowych tych sygnałów, przy czym:

Rozważając podział sygnałów błędów ze względu na charakter ich realizacji, równania eq:alg_out_err_self oraz eq:alg_out_err_prop zapisać można również w postaci:


Dokładna postać wymienionych w równaniach od eq:alg_out_err_self do eq:alg_out_err_rand sygnałów błędów zależeć będzie od właściwości analizowanego algorytmu. Należy zatem wykorzystać przedstawione w bieżącym rozdziale zależności w celu określenia wzajemnych relacji pomiędzy sygnałami błędów na wejściu i wyjściu algorytmu oraz zdefiniować istotne z punktu widzenia właściwości metrologicznej sygnały błędów własnych analizowanego algorytmu. Przykład aplikacji omawianej metody przedstawiono w dalszej części pracy.

Wobec powyższych, w celu wyznaczenia wariancji  wypadkowego sygnału błędu  dla -tej wielkości wyjściowej analizowanego algorytmu należy wykorzystać zależność eq:var_matrix. Wyznaczenie niepewności rozszerzonej w przypadku omawianego sygnału może być natomiast przeprowadzone zgodnie z zależnością eq:unc_matrix. W przedstawionych równaniach uwzględnić należy parametry wszystkich zidentyfikowanych sygnałów błędów, obecnych w sygnale związanym z analizowaną wielkością wyjściową.

Należy zauważyć, że ze względu na właściwości stosowanej w pracy metody szacowania wypadkowej wartości niepewności rozszerzonej, najbardziej korzystnym podejściem jest analiza każdego sygnału błędu z osobna. Omówiona właściwość wynika z zaproponowanego sposobu szacowania wartości współczynników koherencji, opisanego równaniem eq:unc_coher, wymagającego znajomości wartości współczynników kształtu dla analizowanych par sygnałów. Należy zauważyć, że w wyniku sumowania kolejnych sygnałów błędów i analizy wypadkowego sygnału błędu, sygnał ten może cechować się rozkładem o nietypowym kształcie .

Model błędów spowodowanych opóźnieniami

Przeprowadzone rozważania nie poruszały problemu opóźnień w systemach pomiarowo-sterujących, a zatem nie brano w nich pod uwagę sygnałów błędów związanych z możliwymi opóźnieniami. Mimo, że tematyka pracy nie obejmuje przedstawionego zagadnienia, warto jednak zauważyć, że zaproponowany model błędów może być dopasowany do możliwości analizy właściwości i wpływu tych zjawisk na niedokładność wyznaczania wartości wielkości wyjściowych rozważanego toru pomiarowego. Należy w takim przypadku uwzględnić w modelu dodatkowy sygnał błędu, który definiować można zgodnie z metodą zaproponowaną w pracach  oraz uwzględnić wpływ analizowanego zjawiska na propagację przez obiekt pozostałych sygnałów błędów.

Z punktu widzenia zaproponowanego modelu błędów, zjawisko opóźnień w systemie opisać można jako dodatkowe przesunięcie w fazie składowych przetwarzanego sygnału oraz sygnałów błędów deterministycznych, będące iloczynem pulsacji analizowanej harmonicznej i wartości realizacji błędu opóźnienia. Omawiany sygnał mógłby być zdefiniowany w przypadku przetwornika analogowo-cygrowego jako dodatkowa harmoniczna sygnału błędu dynamicznego własnego:

gdzie  stanowi realizację opóźnienia dla -tej wielkości wyjściowej analizowanego obiektu przetwarzającego ciągły w czasie sygnał  na jego dyskretne próbki , natomiast  jest realizacją przesunięcia fazowego analizowanej harmonicznej dla -tej wielkości wyjściowej i wynosi:

Należy zaznaczyć, że w przypadku analizy opóźnień równania opisujące propagowany przez związany z opóźnieniami obiekt sygnał błędu dynamicznego również musiałyby zostać zmodyfikowane z uwzględnieniem wprowadzanego opóźnienia, jeżeli z punktu widzenia tej analizy istotna byłaby faza tych sygnałów.

Przedstawiona w równaniu eq:tim_err_self koncepcja stanowi jedynie pojedynczy przypadek analizy opóźnienia w działaniu fragmentu toru pomiarowego. Celem poruszenia przedstawionego zagadnienia, mimo że nie obejmuje ono tematyki pracy, było podkreślenie możliwości dalszego rozwoju zaproponowanego modelu błędów o możliwość analizy kolejnych źródeł niedokładności wyznaczania wartości wielkości wyjściowych torów pomiarowych. Przedstawione zagadnienie może stanowić dalsze prace badawcze, w szczególności że stanowi ono tematykę bardzo istotną z punktu widzenia torów pomiarowych implementujących współbieżnie realizowane zadania pod nadzorem odpowiedniego systemu operacyjnego czasu rzeczywistego .

Podsumowanie rozdziału

W poprzednich częściach rozdziału przedstawiono modele kolejnych fragmentów toru pomiarowego, które opisywały związki pomiędzy sygnałami błędów na wejściu i wyjściu analizowanego obiektu oraz wskazywały rolę tego obiektu we wprowadzaniu do sygnału wyjściowego sygnałów błędów własnych. Zaproponowany model wprowadzał podział na statyczne i dynamiczne właściwości obiektu, które opisywane były transmitancją i funkcją przetwarzania obiektu. Opisane zgodnie z zaproponowanym modelem fragmenty toru pomiarowego, które zostały ze sobą połączone kaskadowo oraz cechują się addytywną i liniową funkcją przetwarzania, opisać można pojedynczym obiektem o wypadkowych właściwościach analizowanych fragmentów.

Przedstawiony model oceny niedokładności wyniku pomiaru zakłada, że obecne w sygnale pomiarowym sygnały błędów cechują się symetrycznymi rozkładami o zerowej wartości oczekiwanej. W przypadku, gdy wartość oczekiwana realizacji sygnału błędu jest niezerowa, błąd ten posiada składową systematyczną, którą należy skorygować w ostatecznym wyniku pomiaru. Jeżeli nie jest spełnione założenie odnośnie symetrii rozkładów składanych błędów, to do określenia rozkładu błędu wynikowego należy stosować metodę analityczną bazującą na wyznaczeniu splotu składanych funkcji gęstości prawdopodobieństwa lub wykorzystać metodę Monte-Carlo, która jest zwykle bardziej przystępna ze względu na mniejszy stopień skomplikowania .

Zastosowanie przedstawionego modelu błędów wymaga ze strony projektanta toru pomiarowego wiedzy na temat działania i właściwości kolejnych jego fragmentów. Mimo, że tematykę pracy stanowi analiza właściwości metrologicznych algorytmów dyskretnej transformacji falkowej, przedstawienie modelu błędów fragmentu toru pomiarowego stanowiącego źródło danych tego algorytmu było konieczne ze względu na określenie jego udziału w procesie przetwarzania danych pomiarowych. Jak wykazano w poprzednich pracach , w wielu przypadkach algorytmy te przetwarzają jedynie sygnały błędów zawarte w wielkościach wejściowych, a wprowadzane przez nie błędy własne są pomijalnie małe. Wobec powyższych rola obiektów stanowiących źródło przetwarzanych przez analizowany algorytm danych będzie kluczowa w ocenie właściwości metrologicznych całości toru pomiarowego.

Zaproponowany model błędów umożliwia rozszerzenie analizy o dodatkowe sygnały wypływające na niedokładność wyznaczania wartości wielkości wyjściowych rozważanego toru pomiarowego. Należy w tym celu zdefiniować źródło takiego sygnału oraz wyznaczyć jego parametry. Sygnał ten błędzie następnie przetwarzany przez kolejne fragmenty toru pomiarowego, zgodnie z przedstawionymi zależnościami. Przedstawione podejście stanowi cenny walor proponowanego modelu błędów oraz umożliwia podjęcie kolejnych rozważań odnośnie dodatkowych źródeł sygnałów błędów, a także stosowanie tego modelu w aplikacjach niezwiązanych z wykorzystaniem algorytmów dyskretnej transformacji falkowej.

Analizując zaproponowaną w równaniu eq:mid_cont_err_dyn_self definicję sygnału błędu dynamicznego własnego zauważyć można, że definicja ta nie obejmuje sytuacji, gdzie parametry kolejnych harmonicznych przetwarzanego sygnału cechują się nieidealnymi właściwościami. Podejście to powoduje, że w zależności od wartości omawianych rozbieżności zmienia się rzeczywista wariancja opisywanego sygnału błędu. W praktyce jednak, dla niewielkich wartości rozbieżności parametrów amplitudy i fazy kolejnych harmonicznych przetwarzanego sygnału, uproszczenie to jest dopuszczalne, podobnie jak przyjęcie idealnej postaci funkcji przetwarzania jeżeli rzeczywista postać tej funkcji nie jest znana, co udowodniono w przykładach zawartych w dalszej części pracy. Bez omawianego uproszczenia analiza byłaby niemożliwa, jeżeli rzeczywiste wartości omawianych parametrów byłyby nieznane. Innym podejściem do przedstawionego problemu może być również powtórzenie analizy dla skrajnych wartości parametrów przetwarzanego sygnału i wskazanie najbardziej pesymistycznego wyniku tej analizy. Należy bowiem zauważyć, że realizacje kolejnych sygnałów błędów mogą być skorelowane z parametrami przetwarzanego sygnału.

Ze względu na dużą liczbę elementów wchodzących w skład rzeczywistych torów pomiarowych, obiekty te przedstawiane będą zwykle w postaci kaskadowego połączenia elementów opisanych w przedstawionym rozdziale. Przykładowo, gdy proces przetwarzania anlogowo-analogowego przeprowadzany będzie przez przetwornik pomiarowy oraz wzmacniacz, właściwości tych elementów zostaną opisane z osobna za pomocą przedstawionego na rysunku  modelu o parametrach odpowiednich dla opisywanego urządzenia. Podobna sytuacja będzie miała miejsce w przypadku cyfrowej części toru pomiarowego. Pomiędzy częścią analogową i cyfrową występuje przetwornik analogowo-cyfrowy, przy czym zgodnie z zawartą w pracy propozycją, właściwości tego urządzenia opisywane są za pomocą połączenia modelu części analogowej, modelu idealnego kwantyzatora oraz modelu części cyfrowej. Po określeniu parametrów wszystkich fragmentów analizowanego toru pomiarowego opis właściwości metrologicznych związanych z kolejnymi wielkościami wyjściowymi tego toru jest możliwy za pomocą modelu przedstawionego na rysunku  o wypadkowych parametrach wynikających z parametrów kolejnych jego fragmentów.

Dotychczasowe rozważania przedstawiały jedynie ogólne zależności i związki pomiędzy zdefiniowanymi sygnałami błędów. W dalszej części pracy przedstawiono przykłady aplikacji zaproponowanego modelu błędów oraz metody szacowania wypadkowej wartości niepewności rozszerzonej. Przykład pierwszy dotyczy eksperymentu symulacyjnego, którego celem było porównanie wyników uzyskiwanych stosując zaproponowaną w pracy metodę analizy z wynikami uzyskanymi stosując metodę Monte-Carlo. Przykład drugi dotyczy analizy właściwości metrologicznych zbudowanego na potrzeby pracy toru pomiarowego, gdzie wyniki uzyskiwane zgodnie z zaproponowaną metodą analizy porównywane były do tych uzyskanych pomiarowo.

Algorytm transformacji falkowej

Algorytm transformacji falkowej, oznaczany skrótem WT (ang. Wavelet Transform), jest przekształceniem umożliwiającym analizę przetwarzanego sygnału w dziedzinie skala-czas . Termin skala w omawianym przypadku oznacza zakres częstotliwości składowych harmonicznych analizowanego sygnału, a zatem algorytm ten umożliwia analizę widma przetwarzanego sygnału w dziedzinie czasu, podobnie jak ma to miejsce w przypadku algorytmu STFT (ang. Short-Time Fourier Transform) . Algorytm ciągłej transformacji falkowej, oznaczany skrótem CWT (ang. Continous Wavelet Transform), opisać można równaniem :

gdzie  jest współczynnikiem transformacji wyznaczonym dla parametrów skali  oraz przesunięcia w czasie , przy czym  oraz ,  jest równaniem falki-matki, natomiast  przetwarzanym sygnałem. Wyskalowana falka-matka stanowi filtr pasmowo-przepustowy, którego częstotliwość charakterystyczną określa parametr skali. Im większa wartość tego parametru, tym falka staje się bardziej rozciągnięta, co odpowiada niższym częstotliwościom, natomiast w przypadku wartości niskich falka staje się bardziej zwarta, co odpowiada wyższym zakresom częstotliwości. Parametr przesunięcia w czasie określa okno pomiarowe dla wybranego współczynnika. Wybór równania falki-matki zależy od charakteru przetwarzanego sygnału oraz pożądanych właściwości falki. Literatura opisuje bardzo wiele różnych rodzajów falek, wraz z odpowiednimi dla nich obszarami zastosowań .

Główny podział rodzajów falek rozważający ich właściwości obejmuje obecność najważniejszych cech charakterystycznych dla danej rodziny: ortogonalność, symetrię oraz biortogonalność. Ortogonalność oznacza, że dla wybranych parametrów skali i przesunięcia w czasie kolejne falki powstałe na bazie falki-matki będą wobec siebie ortogonalne. Jest to cecha w większości przypadków wymagana i pożądana. Symetria funkcji falki-matki jest cenną cechą w przypadku przetwarzania wybranych sygnałów, np. obrazów i dźwięku - nie wszystkie rodziny falek posiadają tą cechę, stąd wiele prac skupiało się na udoskonalaniu istniejących rodzin pod katem możliwości jej wprowadzenia . Biortogonalność oznacza, że w celu rekonstrukcji sygnału należy zastosować odpowiednią dla użytej falki-matki, powiązaną z nią falkę .

Ze względu na swoje właściwości, algorytmy transformacji falkowej są wykorzystywane w wielu dziedzinach , przy czym w zależności od właściwości analizowanego sygnału stosuje się odpowiednią w danym przypadku falkę-matkę. W medycynie transformacja falkowa wykorzystywana jest między innymi do analizy sygnału EEG oraz EKG . Algorytm transformacji falkowej znajduje również zastosowanie w przetwarzaniu obrazu oraz dźwięku , ze względu na możliwość zastosowania go w algorytmach kompresji danych . Zapewniając możliwości analizy sygnału zarówno w dziedzinie częstotliwości, jak i czasu, algorytmy transformacji falkowej stosowane są w analizie drgań sejsmicznych . Analiza falkowa wykorzystywana jest również w mechanice, gdzie istnieje możliwość oszacowania stanu zużycia elementów mechanicznych maszyn na podstawie wielkości wyjściowych algorytmu transformacji falkowej , czy w elektroenergetyce w celu analizy zwarć wysokoprądowych . Jednym z istotnych zastosowań jest także redukcja szumu w sygnale pomiarowym , gdzie wykorzystywane są w dużej mierze falki podwójnej gęstości dden . Ze względu na fakt, że algorytmy te stanowią istotną część toru pomiarowego, ich właściwości metrologiczne nie mogą być pomijane podczas analizy właściwości metrologicznych tego obiektu.

Algorytm ciągłej transformacji falkowej

Algorytm ciągłej transformacji falkowej może być stosowany między innymi w celu detekcji, czy oraz w jakim czasie widmo analizowanego sygnału zawierało wybrane harmoniczne . W tym przypadku istnieje możliwość wyznaczenia dowolnej liczby współczynników transformacji, gdzie ich liczba zależy od wymaganej rozdzielczości w skali czasu i częstotliwości . W przypadku tej wersji algorytmu rozdzielczość w dziedzinie czasu jest zwykle stała i nie zmienia się dla kolejnych skal częstotliwości. Na podstawie widma sygnału można określić w jakim czasie miało miejsce badane zjawisko, wiedząc jaka częstotliwość sygnału jest związana z tym zjawiskiem.

Algorytm ciągłej transformacji falkowej wymaga zastosowania opisanej ciągłym w dziedzinie czasu oraz częstotliwości równaniem falki-matki, natomiast nie wymaga aby określona była funkcja skalująca, której rola i znaczenie zostały opisane w dalszej części pracy. Falki stosowane w przypadku algorytmu ciągłej transformacji falkowej mogą być opisane zarówno w dziedzinie liczb rzeczywistych, jak i zespolonych. Ze względu na możliwość stosowania dowolnych wartości parametru skali i czasu, kolejne falki na bazie falki-matki nie są wobec siebie ortogonalne, co w praktyce oznacza że wyznaczane są w tym przypadku nadmiarowe współczynniki transformacji. Jako, że wyznaczenie nieskończonej liczby współczynników transformacji nie jest możliwe, a dodatkowo z punktu widzenia analizy i przetwarzania sygnałów wyznaczanie nadmiarowych współczynników transformacji nie jest potrzebne, praca nie została poświęcona algorytmom ciągłej transformacji falkowej. W praktyce pomiarowej najczęściej wykorzystuje się algorytmy dyskretnej transformacji falkowej .

Algorytm dyskretnej transformacji falkowej

Jak wcześniej wspomniano, wyznaczenie nieskończonej liczby współczynników algorytmu ciągłej transformacji falkowej jest niemożliwe. Wprowadzając ograniczenie możliwych wartości parametrów skali i czasu użytych w równaniu eq:cwt, w którym ,  dla , uzyskuje się zależność opisującą algorytm dyskretnej transformacji falkowej, który oznaczany jest skrótem DWT (ang. Discrete Wavelet Transform), przy czym  jest numerem skali, natomiast  numerem przesunięcia w czasie (numerem okna pomiarowego) . Termin dyskretna oznacza zatem ograniczony zbiór możliwych wartości dla parametrów skali i przesunięcia w czasie.

Modyfikacja fragmentu równania eq:cwt wprowadzająca opisywane założenie dyskretyzacji parametrów skali oraz czasu, a następnie założenie początkowych wartości parametrów skali i czasu, gdzie  oraz , pozwalają uzyskać zależność opisującą kolejne falki stworzone na bazie falki-matki dla dyskretnych wartości parametru numeru skali  i przesunięcia w czasie :

Tak opisana falka jest zwykle ortogonalna oraz musi posiadać znormalizowaną energię, przy czym właściwości te można opisać w postaci :

gdzie . Oznacza to, że nie ma możliwości opisu dowolnej, stworzonej na podstawie równania eq:dwt falki pochodnej, za pomocą bazującej na tej samej falce-matce falki o innym numerze skali lub czasu.

Podstawiając falkę opisaną równaniem eq:dwt_wavelet do równania eq:cwt dla przyjętych założeń otrzymuje się zależność opisującą dyskretną transformację falkową :

Cechą algorytmu dyskretnej transformacji falkowej jest dynamiczna zależność rozdzielczości dziedziny czasu w funkcji skali. Dla niskich wartości parametru skali, które odpowiadać będą wysokim częstotliwościom przetwarzanego sygnału, rozdzielczość w dziedzinie czasu jest większa w porównaniu z rozdzielczością dla skali wyższych, które odpowiadać będą niższym zakresom częstotliwości przetwarzanego sygnału. Jako, że sygnał o wyższej częstotliwości zmienia się bardziej dynamicznie, niż ma to miejsce w przypadku sygnału o niższej częstotliwości, takie podejście jest bardzo korzystne. Umożliwia ono redukcję liczby współczynników transformacji, a zatem redukcję liczby wielkości wyjściowych analizowanego algorytmu, przy jednoczesnym zachowaniu optymalnej rozdzielczości w dziedzinie czasu oraz zapewnieniu możliwości rekonstrukcji oryginalnego przebiegu sygnału na podstawie uzyskanych współczynników transformacji.

Mając na uwadze fakt, że falka-matka dla wybranego numeru skali stanowi filtr pasmowo-przepustowy, przy czym zwiększanie tego numeru powoduje przesunięcie charakterystyki filtru w kierunku niższych częstotliwości, w celu wyodrębnienia wszystkich harmonicznych przetwarzanego sygnału należy wyznaczyć wartości współczynników transformacji dla nieskończonej liczby skal - w innym wypadku nie wszystkie zakresy częstotliwości zostaną przetworzone. Naturalnie, wyznaczenie wartości nieskończonej liczby współczynników nie jest w praktyce możliwe. Aby rozwiązać problem analizy niskich częstotliwości przetwarzanego sygnału stosuje się tzw. funkcję skalującą, nazywaną również falką-ojcem . Funkcja ta, w przeciwieństwie do falki-matki, stanowi filtr dolno-przepustowy i zastępuje określony przedział wysokich wartości parametru skali - eliminuje to zatem potrzebę wyznaczania nieskończonej liczby współczynników transformacji przy jednoczesnej możliwości analizy całego widma przetwarzanego sygnału. Funkcja skalująca jest ściśle powiązana z falką-matką i jest oznaczana w literaturze jako  . Można w tym miejscu zauważyć, że aby dana rodzina falek mogła zostać wykorzystana przez algorytm dyskretnej transformacji falkowej, musi być dla niej określona odpowiednia funkcja skalująca.

Stosując założenia ograniczenia zbioru wartości parametrów skali i przesunięcia w czasie, zależność opisującą funkcję skalującą przedstawić można w postaci :

przy czym funkcję tą dla  nazywa się w literaturze falką-ojcem . Właściwością funkcji skalującej jest spełnianie przez nią założenia odnośnie ograniczonej energii oraz ortogonalność względem samej siebie dla dowolnych różnych wartości parametru numeru przesunięcia w czasie :

Warto zaznaczyć, że w przypadku zmiany parametru numeru skali kolejne wersje funkcji skalującej nie są wobec siebie ortogonalne. W praktyce jednak nie ma to znaczenia, ponieważ współczynniki transformacji zależne od funkcji skalującej wyznacza się tylko dla jednej wartości parametru numeru skali oraz dla wszystkich dostępnych wartości parametru numeru przesunięcia w czasie.

Omawianą funkcję skalującą można przedstawić również w postaci sumy iloczynów współczynników skalujących oraz wartości przeskalowanej i przesuniętej w czasie funkcji skalującej, co opisuje następującą zależność :

gdzie  jest dowolną liczbą całkowitą powiązaną ze współczynnikiem skalowania . Kolejne wartości współczynników  muszą dodatkowo spełniać warunek :

Należy również zaznaczyć, że w celu zachowania warunku wzajemnej ortogonalności opisywanej rodziny falek, spełnione musi zostać dodatkowe założenie odnośnie wzajemnej relacji pomiędzy kolejnymi wartościami współczynników skalowania, w którym dla  przyjmuje się, że :

Powyższe założenia zapewniają ortogonalność stworzonych falek w stosunku do funkcji skalującej oraz brak nadmiarowych wielkości wyjściowych algorytmu dyskretnej transformacji falkowej. Tworzone na opisanych zasadach falki posiadają skończoną liczbę niezerowych współczynników skalujących , przy czym rząd falki  określa liczbę tych współczynników równą  . Manipulując znakiem i kolejnością współczynników skalujących istnieje możliwość opisu falki-matki w postaci :

Ostatecznie przedstawić można rekurencyjne zależności opisujące funkcję skalującą oraz funkcję falki dla dowolnego numeru skali i numeru przesunięcia czasowego w postaci:

przy czym parametr  przedstawić można jako rekombinację współczynników skalujących  określoną równaniem:


Dekompozycja sygnału przetwarzanego przez algorytm dyskretnej transformacji falkowej odbywa się w ten sposób, że sygnał ten podawany jest na wejścia pary filtrów: górno-przepustowego i dolno-przepustowego. Wyjście filtru dolno-przepustowego stanowią aproksymacje sygnału, natomiast wyjście filtru górno-przepustowego stanowią detale sygnału. Ze względu na fakt, że opisywana operacja dostarcza dwa razy więcej próbek wyjściowych, niż zawierał oryginalny sygnał, co druga próbka wyjściowa jest usuwana w procesie decymacji . Opisywane działanie rozdziela widmo sygnału na dwie części: detale sygnału związane z wysokimi częstotliwościami oraz aproksymacje sygnału powiązane z niskimi zakresami częstotliwości składowych tego sygnału. Filtr dolno-przepustowy odpowiada charakterystyce funkcji skalującej, natomiast filtr górno-przepustowy charakterystyce falki-matki. Filtr górno-przepustowy jest więc faktycznie filtrem pasmowo-rzepustowym, natomiast ze względu na wartość parametru skali jego częstotliwość środkowa odpowiada zwykle częstotliwości Nyquista dla przetwarzanego sygnału - stąd można nazwać go filtrem górno-przepustowym . Proces dekompozycji sygnału może zostać powtórzony dla aproksymacji sygnału wielokrotnie, zapewniając większą rozdzielczość w dziedzinie częstotliwości kosztem mniejszej rozdzielczości w dziedzinie czasu . Przebieg procesu dekompozycji sygnału dla trzech iteracji tego procesu przedstawiono na rysunku .

W celu rekonstrukcji sygnału należy zastosować odpowiedni bank filtrów, który w parze z bankiem filtrów wejściowych stanowi system zwany kwadraturowymi filtrami lustrzanymi . Na wejście opisywanego filtru podać należy współczynniki uzyskane wcześniej na drodze dekompozycji sygnału, wykonanej za pomocą lustrzanego filtru. Przebieg procesu rekonstrukcji sygnału dla trzech iteracji opisywanego procesu przedstawiono na rysunku .

Na rysunkach  oraz  strzałką w górę oznaczono uzupełnianie brakujących wielkości wejściowych współczynnikami o wartości zero. Działanie to wynika z faktu, że liczba wielkości wejściowych jest mniejsza, niż liczba wielkości wyjściowych. Strzałką w dół oznaczono natomiast proces decymacji, czyli odrzucania co drugiej wielkości wyjściowej. Pominięcie tego procesu spowodowałoby, że wielkości wyjściowych byłoby dwa razy więcej, niż jest to wymagane w celu rekonstrukcji sygnału. Symbol  na rysunkach oznacza wielkości wyjściowe związane z detalami sygnału, a symbol  wielkości wyjściowe związane z aproksymacją sygnału. Indeks dolny związany jest z numerem iteracji procesu dekompozycji. Opisywany algorytm nosi nazwę Algorytm Malata lub Szybka transformacja falkowa, w skrócie FWT (ang. Fast Wavelet Transform), i został opracowany w 1988 roku przez Stéphane Mallata .



fig:dwt_decompositionProces dekompozycji sygnału za pomocą algorytmu Mallata



fig:dwt_reconstructionProces rekonstrukcji sygnału za pomocą algorytmu Mallata

Pominiecie procesu decymacji powoduje powstanie nadmiarowych wielkości wyjściowych algorytmu i jest praktykowane w przypadku algorytmu UWT (ang. Undecimated Wavelet Transform) . W omawianym przypadku dla każdego poziomu dekompozycji wyznaczanych jest tyle wielkości wyjściowych, ile wielkości wejściowych zawierał przetwarzany sygnał. Analiza falkowa z pominięciem procesu decymacji znajduje swoje zastosowanie między innymi w przetwarzaniu sygnałów dla celów automatyki elektroenergetycznej , przy czym realizacja procesu dekompozycji przebiega w tym przypadku podobnie, jak w przypadku numerycznej realizacji algorytmu ciągłej transformacji falkowej . Innym przypadkiem, w którym liczba wielkości wyjściowych jest większa od liczby wielkości wyjściowych, jest przypadek dotyczący rodziny falek podwójnej gęstości, gdzie na każdym etapie dekompozycji stosuje się dodatkową parę filtrów .

Zgodnie z przedstawionymi dotychczas zależnościami, proces dekompozycji sygnału można opisać również rekurencyjnie, za pomocą równań :

natomiast proces rekonstrukcji sygnału rekurencyjne opisać można za pomocą równania:

gdzie  jest -tą próbką przetwarzanego sygnału,  aproksymacjami oraz  detalami sygnału dla zadanego numeru skali  i przesunięcia w czasie . Współczynniki  oraz  są niezerowe dla , w przeciwnym wypadku . Wartości i liczba omawianych współczynników zależą od zastosowanej rodziny falek i jej rzędu. W przypadku, gdy element o zadanym indeksie nie istnieje (tj. w przypadku elementów  lub  dla ), należy przyjąć w obliczeniach wartość elementu  lub  odpowiednią dla indeksu , gdzie  jest resztą z dzielenia wyrazu  przez wyraz , przy czym . Identycznie postępować należy w przypadku procesu rekonstrukcji sygnału .

Ze względu na fakt, że ciągła transformacja falkowa jest w praktyce niemożliwa w realizacji, natomiast proces decymacji nie jest zwykle pomijany ze względu na brak potrzeby wyznaczania nadmiarowej liczby współczynników, dalsza część pracy poświęcona została algorytmowi dyskretnej transformacji falkowej. Przedstawiony w pracy sposób analizy właściwości metrologicznych jest natomiast jednolity dla rzeczywistych implementacji omawianych algorytmów.

Bank filtrów algorytmu

Zależnie od wymaganych kryteriów, podczas stosowania algorytmów transformacji falkowej wybiera się odpowiednią do analizowanego sygnału falkę-matkę . Wybór falki-matki ma ogromny wpływ na proces dekompozycji sygnału, ponieważ to właśnie od niej zależą parametry banku filtrów, na którego wejście podawany jest przetwarzany przez algorytm sygnał. W przypadku algorytmów ciągłej transformacji falkowej istnieje możliwość zastosowania dowolnie dużej liczby kombinacji wartości parametru skali i przesunięcia w czasie, przez co dekompozycja sygnału jest bardziej dokładna.

Na rysunkach  oraz  zaprezentowano charakterystyki amplitudowe przykładowych banków filtrów, gdzie na osi poziomej przedstawiono częstotliwość znormalizowaną do połowy częstotliwości próbkowania (częstotliwości Nyquista), natomiast na osi pionowej znormalizowane do jedności wzmocnienie. Wzmocnienie zostało znormalizowane z osobna dla każdego poziomu dekompozycji w celu poprawy czytelności wykresów i możliwości ich łatwiejszego porównywania. Kolorem niebieskim oznaczono na rysunkach charakterystyki filtru dolno-przepustowego, powstałego na bazie funkcji skalującej. Pozostałe filtry powstały na bazie odpowiednio przeskalowanej falki-matki. Należy zauważyć, że w przypadku dyskretnej wersji algorytmu transformacji falkowej, w praktyce liczba etapów procesu dekompozycji jest ograniczona - wraz ze zwiększaniem tej liczby maleje rozdzielczość w skali czasu dla aproksymacji sygnału, aż do chwili, gdy aproksymacje sygnału stanowi jedna wielkość wyjściowa .

Na podstawie wykresów zauważyć można, że dla kolejnych parametrów skali pasmo przenoszenia filtru jest o połowę mniejsze w stosunku do pasma przenoszenia filtru poprzedniej skali. Zgodnie z przedstawionymi charakterystykami, kolejne etapy dekompozycji sygnału przenoszą zatem fragment widma analizowanego sygnału zgodnie z charakterystyką zastosowanej falki-matki. Zależnie od właściwości falki-matki zbudowane na jej podstawie filtry mogą być mniej lub bardziej selektywne (wykazywać inną stromość charakterystyki amplitudowej), czy też wykazywać cechy filtrów grzebieniowych (przenosić kilka zakresów częstotliwości). Zwykle im bardziej skomplikowany będzie kształt falki i wyższy będzie jej rząd, tym bardziej selektywny będzie filtr stworzony na jej bazie. Wzrost liczby iteracji dekompozycji sygnału wprowadza kolejne filtry o węższym niż dla mniejszej liczby iteracji paśmie przenoszenia. Z analizy przedstawionych rysunków wynika, że w przypadku wszystkich przedstawionych rodzin falek, wzrost rzędu falki powoduje wzrost selektywności kolejnych filtrów. Część z przedstawionych falek zapewnia filtry podobne do filtrów grzebieniowych, co zauważyć można na rysunku  dla przypadków b oraz d.



fig:demo_dbPrzykładowe banki filtrów dla rodziny falek Daubechies

Przedstawiona na osi pionowej maksymalna wartość wzmocnienia w funkcji częstotliwości sygnału może być w rzeczywistości większa od jedności. W praktyce każdy z fragmentów banku filtrów traktować można jako pasmowo-przepustowy filtr cyfrowy i opisywać za pomocą modelu filtru o skończonej odpowiedzi impulsowej (FIR). Z punktu widzenia pojedynczej wielkości wyjściowej, algorytm transformacji falkowej może być zatem rozumiany jako odpowiednio zaprojektowany filtr, który z sygnału wejściowego przenosi na wyjście wybrane harmoniczne sygnału wejściowego z odpowiednim wzmocnieniem i przesunięciem fazowym. Przedstawione cechy banku filtrów będą bardzo istotne w dalszym etapie pracy w szczególności do określania, w jaki sposób algorytm przenosi błędy opisane w pracy jako dynamiczne. Należy zauważyć, że skoro kolejne filtry w banku odpowiadają kolejnym etapom dekompozycji sygnału, to w większości przypadków właściwości metrologiczne będą jednakowe dla wszystkich wielkości wyjściowych powiązanych z identycznym etapem dekompozycji sygnału, co znacznie upraszcza proces analizy właściwości metrologicznych omawianych algorytmów. Należy jednak mieć na uwadze, że w pewnych przypadkach wypadkowe właściwości toru pomiarowego mogą ulec zmianie, jeżeli wprowadzona zostanie dodatkowa modyfikacja wielkości wejściowych algorytmu transformacji falkowej (np. wprowadzone zostanie okno pomiarowe). Należy w takim przypadku analizować właściwości metrologiczne każdej wielkości wyjściowej z osobna, a nie, jak w klasycznym przypadku, analizować je zbiorczo dla danego etapu dekompozycji.



fig:demo_splinePrzykładowe banki filtrów dla rodziny falek Spline

Macierzowa postać algorytmu

Ze względu na bardzo dużą liczbę opisanych w literaturze falek , ich unikatowe właściwości oraz możliwość zmiany parametrów procesu dekompozycji sygnału, metody analityczne określenia właściwości metrologicznych dla wybranej kombinacji parametrów okazują się czasochłonne i niepraktyczne . Opisywane w literaturze falki obejmują między innymi rodziny: Daubechies , Haara , Coiflet , Biortogonalne , Morleta , Meksykańskiej czapki , oraz Spline . Każdą falkę oraz przypisaną do niej funkcję skalującą opisują odpowiednie równania, przy czym nie zawsze są one przedstawiane w postaci jawnej - w wielu przypadkach rodzina falek opisana jest przez zbiór zależności określających wymagane przez nią założenia, co jeszcze bardziej komplikuje proces analizy tych algorytmów . Podczas projektowania toru pomiarowego często istnieje potrzeba zmiany parametrów algorytmu transformacji falkowej, co pociąga za sobą konieczność przeprowadzenia powtórnej analizy jego właściwości metrologicznych. Wszystkie te czynniki sprawiają, że analiza ta jest najczęściej pomijana w pracach opisujących aplikacje omawianych algorytmów. Z opisywanych właściwości algorytmów transformacji falkowej wynika potrzeba przedstawienia uniwersalnej metody umożliwiającej analizę właściwości metrologicznych tych algorytmów. Metoda ta musi być przystępna w aplikacji oraz musi zakładać, że projektant toru pomiarowego nie jest ekspertem w dziedzinie transformacji falkowej, a jedynie jej użytkownikiem. Co więcej, ewentualna zmiana parametrów zastosowanego algorytmu nie może być kłopotliwa z punktu widzenia określenia nowych właściwości metrologicznych analizowanego algorytmu.

Problem skomplikowanej analizy algorytmów transformacji falkowej, podobnie jak w przypadku innych algorytmów przetwarzających ciągi danych, uprościć można przedstawiając analizowany algorytm w postaci macierzowej . Wektor wielkości wyjściowych algorytmu jest w omawianym przypadku równy iloczynowi macierzy transformacji i wektora wielkości wejściowych, co opisano równaniem eq:alg_out_mat. Przedstawienie algorytmu transformacji falkowej w formie macierzowej umożliwia stworzenie jednolitego i uniwersalnego opisu działania tego algorytmu oraz w znaczącym stopniu ułatwia jego analizę w kolejnych rozdziałach pracy. Zwykle projektant toru pomiarowego nie jest ekspertem w dziedzinie algorytmów transformacji falkowej - jest on ekspertem w dziedzinie analizowanego zjawiska, a transformacja falkowa jest dla niego jedynie narzędziem, umożliwiającym jego analizę. Stąd, w większości przypadków, osoba ta stosuje gotowe biblioteki zaimplementowane np. dla środowisk Matlab, GNU Octave czy PyWavelets .

W celu identyfikacji wartości współczynników macierzy transformacji należy zastosować metodę opisaną w poprzednim rozdziale pracy lub wyznaczyć te wartości analitycznie, co przedstawiono w dalszej cześć rozdziału. Opisany wcześniej algorytm identyfikacji macierzy transformacji może być wykorzystany w środowiskach, które implementują algorytmy transformacji falkowej, przez co projektant toru pomiarowego z łatwością jest w stanie go zastosować. Ewentualna zmiana parametrów algorytmu transformacji falkowej (zmiana liczby wielkości wejściowych, liczby iteracji procesu dekompozycji, czy wybór innej falki-matki) skutkować będzie jedynie koniecznością ponownej identyfikacji wartości współczynników macierzy transformacji.

Poza opisanym algorytmem identyfikacji współczynników macierzy transformacji, bazującym na istniejącej implementacji omawianego algorytmu, istnieje możliwość wyznaczenia wartości tych współczynników przy użyciu zależności przedstawionych we wcześniejszej części rozdziału, opisującej właściwości algorytmu dyskretnej transformacji falkowej. Proces ten jest jednak skomplikowany i uzależniony od założeń związanych z opisem zastosowanej falki-matki i jej funkcji skalującej. Poniżej przedstawiono przykład wyznaczania wartości macierzy transformacji w przypadku zastosowania falki db2 dla dwóch iteracji procesu dekompozycji sygnału oraz ośmiu próbek wejściowych sygnału. Macierz transformacji analizowanego algorytmu składa się zatem z  wierszy, co wynika z liczby wielkości wyjściowych algorytmu oraz  kolumn, co wynika z liczby wielkości wejściowych.

Rodzina falek Daubechies (nazywana w skrócie db) została opisana przez Ingrid Daubechies w 1987 roku. Rodzina ta cechuje się ortogonalnością, natomiast nie wykazuje cech symetrii. Poza założeniami opisanymi w poprzednim podrozdziale, danymi w równaniach eq:dwt_orthogonal_mather oraz od eq:dwt_orthogonal_father do eq:dwt_scalemulort, rodzina ta spełnia dodatkowe założenie odnośnie relacji pomiędzy kolejnymi współczynnikami skalującymi, które opisuje następujące równanie :

gdzie  jest liczbą całkowitą z przedziału . W przypadku falek db oraz ich pochodnych rząd falki wynosi . Falka db2, będąca falką drugiego rzędu, posiada zatem cztery niezerowe współczynniki skalujące. W literaturze spotkać się można również z oznaczeniem D4 dla omawianej falki, gdzie zamiast rzędu falki wskazana jest liczba niezerowych współczynników skalujących. Należy zauważyć, że falka Daubechies rzędu pierwszego jest opisana identycznymi zależnościami, jak falka Hara i posiada identyczne właściwości. Z falek Daubechies wywodzą się kolejne rodziny: Symleth oraz Coiflet, które uzupełniają ją o kolejne cechy - w szczególności symetrię, istotną podczas przetwarzania i analizy obrazów .

Jako, że falka db2 posiada cztery niezerowe współczynniki skalujące oznaczone jako , , , , to zgodnie z równaniem eq:dwt_scalefunrek oraz równaniem eq:dwt_waveletfunrek, zapisać można równanie falki-matki i funkcji skalującej w postaci:

Uwzględniając założenia przedstawione w poprzedniej części rozdziału oraz te wskazane powyżej, zapisać można układ równań wiążący wszystkie przedstawione zależności:

oraz wskazać jego rozwiązanie, które determinuje następujące wartości kolejnych współczynników skalujących:

przy czym analogicznie postąpić należy w przypadku wyższych rzędów opisywanej falki.

Zgodnie z założeniami odnośnie długości wektora wielkości wejściowych oraz liczby poziomów dekompozycji zauważyć można, że wektor wielkości wyjściowych zawierać będzie dwie próbki związane z aproksymacją sygnału dla skali , dwie próbki związane z detalami sygnału dla skali  oraz cztery próbki związane z detalami dla skali . Oznaczając wektor wielkości wejściowych jako:

wektor wielkości wyjściowych można opisać w postaci:

a następnie zgodnie z równaniem eq:dwt_aproxrek oraz eq:dwt_detailrek opisać można kolejne wymienione w równaniu eq:db2_outvect wielkości wyjściowe za pomocą zależności:

gdzie symbol  oznacza aproksymacje, natomiast  detale sygnału dla zadanego numeru skali i numeru przesunięcia w czasie. Po przekształceniu otrzymuje się równania:

Grupując odpowiednie wyrazy w zależnościach od eq:db2_outvect_s_2_0_rek do eq:db2_outvect_t_2_1_rek, a następnie podstawiając , otrzymuje się:

Następnie, uwzględniając w równaniu eq:alg_out_mat kolejność elementów wektora wielkości wyjściowych zgodną z założoną w równaniu eq:db2_outvect, zapisać można:


Powyższe zależności pozwalają wyznaczyć wartości współczynników macierzy transformacji dla analizowanego algorytmu dyskretnej transformacji falkowej. Po podstawieniu wartości zgodnie z zależnością eq:db2_coefs oraz biorąc pod uwagę równania od eq:db2_outvect_s_2_0_row do eq:db2_outvect_t_1_3_row macierz transformacji przyjmuje postać:

W analogiczny sposób wyznaczyć można wartości elementów macierzy transformacji dla innej liczby wielkości wejściowych algorytmu oraz dowolnej liczby poziomów dekompozycji. W przypadku zastosowania innych rodzin falek należy zastosować odpowiednie dla nich założenia i na ich podstawie wyznaczyć kolejne wielkości niezbędne do określenia wartości elementów identyfikowanej macierzy, przy czym procedura ta przebiega podobnie, jak przedstawiono w powyższym przykładzie.

Przenoszenie błędów przez algorytm

Jako, że algorytm transformacji falkowej przedstawić można w formie macierzowej, istnieje możliwość analizy jego właściwości metrologicznych zgodnie z metodą przedstawioną w poprzednim rozdziale pracy. Należy zauważyć, że parametry macierzy transformacji wynikające z charakterystyki zastosowanej falki-matki są kluczowym czynnikiem mającym wpływ na związek pomiędzy wariancją błędu analizowanej wielkości wyjściowej, a wariancją błędu wielkości wejściowych . Zgodnie z centralnym twierdzeniem granicznym, bez względu na rozkład błędów losowych wielkości wejściowych algorytmu, kształt rozkładu błędu losowego będzie zbliżony do rozkładu normalnego . Powyższe założenie jest prawdziwe wtedy, gdy algorytm przetwarza wielokrotnie błędy losowe o tych samych parametrach.

Analizując macierz transformacji przedstawioną w równaniu eq:db2_2_8_matrix zauważyć można, że jest ona podzielona z punktu widzenia wierszy na kilka charakterystycznych obszarów, przy czym ich liczba zależna jest od liczby iteracji procesu dekompozycji sygnału. Każdy z obszarów odpowiada kolejnemu wyjściu algorytmu Malata, który przedstawiono wcześniej na rysunku . W obrębie danego obszaru kolejne wartości współczynników macierzy pozostają niezmienne, przy czym ich pozycje są przesunięte o dwie kolumny w prawo w stosunku do wiersza poprzedniego. Zjawisko to wynika z przesunięcia okna pomiarowego (zmiany parametru przesunięcia falki), natomiast liczba kolumn, o którą przesunięta jest pozycja każdego współczynnika, wynika z przeprowadzenia procesu decymacji (do druga wartość jest odrzucana). Z punktu widzenia analizy metrologicznej zauważyć można, że wielkości wyjściowe związane z tym samym parametrem skali mogą być analizowane równocześnie, gdyż odpowiada im filtr o tych samych parametrach, przez co wartości wielkości opisanych w równaniach eq:alg_trans_stat oraz eq:alg_trans_rand będą identyczne .

W przypadku falek z rodziny Daubechies, a także ich pochodnych Symleth oraz Coiflets, niezależnie od liczby poziomów dekompozycji, wartość współczynnika  dla wszystkich wielkości wyjściowych każdorazowo wynosić będzie 1, natomiast wartość współczynnika  dla aproksymacji sygnału wynosić będzie 2. Zależności te wynikają bezpośrednio z równań eq:dwt_scalefunsum oraz eq:db_musthave . Nie oznacza to jednak, że dalsza analiza może zostać pominięta, a algorytm transformacji falkowej nie ma wpływu na przenoszone błędy wielkości wejściowych, ponieważ wciąż istnieje potrzeba analizy pozostałych rodzajów błędów. Ze względu na fakt, że tylko jedna grupa wielkości wyjściowych, związana z aproksymacją sygnału, stanowić będzie filtr dolno-przepustowy, dla pozostałych grup wielkości wyjściowych wartość współczynnika  będzie zwykle zerowa. Wynika to z faktu, że błędy statyczne stanowią składową stałą sygnału, a zatem nie będą przenoszone przez filtry inne, niż dolno-przepustowe.

Błędy własne algorytmu

Analizując przykładową macierz transformacji przedstawioną w równaniu eq:db2_2_8_matrix, której wartości wyznaczono we wcześniejszej części rozdziału, zauważyć można, że wszystkie niezerowe wartości elementów tej macierzy są niewymierne. Niewymierność ta jest pierwszym powodem powstawania błędu własnego zaokrągleń, którym obarczone będą wyznaczane numerycznie wielkości wyjściowe algorytmu dyskretnej transformacji falkowej. Kolejnym źródłem błędów będą zaokrąglenia wynikające z ograniczonej precyzji liczb, przeprowadzane podczas wykonywania operacji mnożenia i dodawania. Błędy te, zgodnie ze wcześniej wprowadzonym podziałem, zaliczyć można do błędów losowych ponieważ nie ma możliwości deterministycznego opisu przebiegu sygnału tych błędów, a dodatkowo ich realizacje będą zmienne w obrębie okna pomiarowego.

Zakładając, że analizowana -ta wielkość wyjściowa algorytmu obarczona jest jedynie błędem własnym, który wynika z omówionych w poprzednim akapicie zjawisk, sygnał  związany z tym błędem zdefiniować można w postaci:

Należy zauważyć, że zależność eq:fwt_outerr_self jest prawdziwa tylko wtedy, gdy wielkości wejściowe  algorytmu nie są obarczone żadnymi błędami, tj. dla . Dodatkowo zakłada się, że w przypadku algorytmu idealnego sygnały błędu własnego  nie występują, a zatem dla takiego algorytmu zachodzi .

Parametry rozkładu sygnałów błędów własnych kolejnych wielkości wyjściowych algorytmu wyznaczyć można eksperymentalnie, stosując metodę Monte-Carlo . Należy w tym celu wielokrotnie podawać na wejście algorytmu wektor wielkości wejściowych, którego wartości kolejnych elementów będą liczbami losowymi. Schemat blokowy pojedynczej iteracji omawianego eksperymentu przedstawia rysunek , przy czym symbolem  oznaczono sygnał związany z błędami własnymi zaokrągleń algorytmu dla -tej wielkości wyjściowej, natomiast symbolem  kolejne elementy wektora wielkości wejściowych. Parametry rozkładu realizacji wielkości  powinny być zbliżone do rzeczywistych parametrów realizacji wielkości wejściowych algorytmu dla analizowanego toru pomiarowego.



fig:schemat_dwt_ewSchemat blokowy procedury wyznaczania pojedynczej realizacji sygnału błędu własnego, która przeprowadzana jest w celu określenia parametrów sygnałów błędów własnych analizowanego algorytmu dyskretnej transformacji falkowej

W dalszej części podrozdziału zakłada się, że analizowany algorytm przetwarza wielkości wejściowe  o wartościach realizacji z zakresu  i jednakowym prawdopodobieństwie uzyskania każdej z wartości, a dodatkowo wielkości te nie są obarczone żadnym błędem. Zgodnie z równaniem eq:fwt_outerr_self, błąd własny algorytmu jest zatem równy różnicy pomiędzy wartością  wyznaczoną przez rzeczywisty, a wartością  wyznaczoną przez idealny algorytm. Zakłada się, że w przypadku algorytmu rzeczywistego wartości realizacji wielkości wyjściowych wyznaczane są numerycznie na podstawie równania eq:alg_out_mat dla współczynników macierzy transformacji zidentyfikowanych zgodnie z omówioną wcześniej metodologią, natomiast w przypadku algorytmu idealnego wartości te wyznaczane są analitycznie na podstawie równań eq:dwt_aproxrek oraz eq:dwt_detailrek odpowiednich dla stosowanej falki-matki. Przyjmuje się liczbę powtórzeń wyznaczania wartości realizacji sygnału błędu własnego równą 100000.

Przeprowadzenie omawianego eksperymentu jest w rzeczywistości niemożliwe, ponieważ nie jest możliwe analityczne wyznaczenie wartości wielkości wyjściowych algorytmu dla zadanej liczby powtórzeń eksperymentu. Numeryczna realizacja eksperymentu powoduje, że wszystkie operacje związane z jego przeprowadzeniem również są obarczone błędami numerycznymi . Przyjmuje się zatem za wartości idealne  wartości wyznaczone zgodnie z równaniem eq:alg_out_mat przy użyciu liczb rzeczywistych o długości słowa równej 128. Parametry rozkładu błędów własnych algorytmu wyznaczono dla słów o długości 32 oraz 16, ponieważ te we współczesnych mikrokontrolerach stosowane są najczęściej . Do przeprowadzenia eksperymentu zastosowano program komputerowy przetłumaczony na kod maszynowy kompilatorem GNU GCC . Wybór wskazanego kompilatora podyktowany był faktem, że jest on również stosowany do generowania kodu maszynowego dla mikrokontrolerów rodzin ARM oraz AVR .

Poniżej, w tabelach od  do , zamieszczono wyniki eksperymentu dla wybranych kombinacji parametrów algorytmu dyskretnej transformacji falkowej. Tabele  oraz  zawierają wyniki dla wyznaczonej we wcześniejszej cześć rozdziału, przykładowej macierzy transformacji opisanej równaniem eq:db2_2_8_matrix oraz uwzględniają zmianę zakresu wartości wielkości wejściowych algorytmu. Rysunek  przedstawia zależność wartości wariancji sygnału błędów własnych algorytmu od liczby wielkości wejściowych dla wybranych parametrów falki coif5 oraz liczby iteracji procesu dekompozycji sygnału, przy czym na omawianym rysunku wskazano wartość dla ostatniej skali detali sygnału. Rysunek  przedstawia histogramy dla wybranych parametrów eksperymentu przy zastosowaniu falki coif5. Ze względu na fakt, że dla każdego poziomu dekompozycji wartości współczynników macierzy transformacji są jedynie przesunięte względem poprzedniego wiersza o dwie kolumny, co wynika z przesunięcia okna pomiarowego na kolejną pozycję, można przyjąć że wartość wariancji sygnału błędu zaokrągleń jest stała dla tego samego numeru skali, przy czym opisywaną właściwość zaobserwować można analizując wartości zestawione w tabelach  oraz .



fig:dwt_rerror_coif5Zależność wartości wariancji sygnału błędu własnego zaokrągleń od liczby iteracji procesu dekompozycji sygnału oraz liczby wielkości wejściowych dla falki coif5 przy stosowaniu liczb zmiennoprzecinkowych o długości słowa 32 dla ostatniej skali detali sygnału

Na podstawie rysunku  zauważyć można liniowy wzrost wartości wariancji sygnału błędu zaokrągleń w funkcji liczby wielkości wejściowych, przy czym wzrost ten ustaje, gdy przestaje zwiększać się liczba operacji arytmetycznych, tj. dla takiej liczby wielkości wejściowych, która jest równa liczbie niezerowych współczynników macierzy transformacji dla analizowanego poziomu dekompozycji sygnału. W przypadku tej samej liczby wielkości wejściowych, wartość wariancji sygnału błędu zaokrągleń rośnie wraz ze wzrostem liczby iteracji procesu dekompozycji sygnału, ponieważ liczba operacji arytmetycznych wzrasta dla wyższych numerów skali, co zauważyć mozna na przykładzie równań eq:db2_outvect_t_1_0 oraz eq:db2_outvect_t_2_0_rek. Wartość wariancji błędu zaokrągleń związana jest zatem bezpośrednio z liczbą przeprowadzanych operacji arytmetycznych i zależy od liczby współczynników skalujących oraz liczby wielkości wejściowych algorytmu.

Analizując przedstawione na rysunku  histogramy realizacji sygnału błędu własnego zaokrągleń dla falki coif5 zauważyć można, że kształt rozkładu realizacji tego sygnału jest zbliżony do kształtu rozkładu normalnego, natomiast dla poziomu ufności  współczynnik rozszerzenia wynosi około 2.16. Wobec powyższego, przyjęcie założenia, w którym model sygnału błędu własnego opisywany będzie rozkładem normalnym, nie jest właściwe. Aby możliwe było oszacowanie wartości współczynników koherencji zgodnie z równaniem eq:unc_coher, konieczne jest wyznaczenie wartości współczynników kształtu, analogicznie jak miało to miejsce w poprzednim rozdziale. Zgodnie z równaniem eq:unc_shapertwo, stosując metodę Monte-Carlo, oszacowano wartości współczynników kształtu dla sygnału błędu własnego oraz sygnałów błędów o typowych kształtach funkcji gęstości prawdopodobieństwa, a uzyskane wyniki zestawiono w tabeli . Z uwagi na fakt, że uzyskane rozkłady sygnałów błędów własnych cechowały się bardzo zbliżonym kształtem, przedstawione wyniki stanowią uśrednione wartości dla wszystkich przeprowadzonych wcześniej eksperymentów. W dalszej cześć pracy przyjmuje się, że współczynnik kształtu oznaczony symbolem  odpowiadać będzie sygnałowi błędu zaokrągleń oraz że .



tab:unc_shapedwtWartości współczynników kształtu dla typowych kształtów rozkładów oraz rozkładu sygnału błędu zaokrągleń algorytmu transformacji falkowej, gdzie kolejne symbole oznaczają rozkład: (n) normalny, (u) jednostajny, (t) trójkątny, (d) dwumodalny, (z) zaokrągleń
[c] c *5 S[table-format = +1.3]    &  &  &  &  &  
        & -0.009       & 0.066        & -0.010       & 0.197        & 0.027        
 


fig:dwt_rhist_coif5Histogramy realizacji sygnału błędu własnego zaokrągleń dla falki coif5 przy sześciu iteracjach procesu dekompozycji, dla  wielkości wejściowych, przy długości słowa równej a), b) 16, c), d) 32, przy czym niepewność rozszerzoną wyznaczono dla poziomu ufności równego 95

Stosowanie liczb zmiennoprzecinkowych o długości słowa 16 pozwala zmniejszyć czas obliczeń oraz rozmiar wymaganej pamięci operacyjnej w stosunku do analogicznego przypadku, wykorzystującego liczby o długości słowa 32 . Wariant ten wprowadza jednak znacznie większe wartości realizacji sygnałów błędów związanych z zaokrągleniami oraz większe wartości wariancji tych sygnałów ze względu na ograniczoną precyzję stosowanego zapisu liczb, co zauważyć można porównując dane zawarte w tabelach  oraz  dotyczące falki db2. W praktyce należy zatem tak dobrać długość słowa stosowanych liczb zmiennoprzecinkowych, aby wartość wariancji sygnału błędu zaokrągleń była możliwie mała w stosunku do wartości wariancji pozostałych sygnałów błędów na wyjściu algorytmu. Jeżeli przedstawione założenie zostanie spełnione, to sygnał błędu własnego algorytmu transformacji falkowej będzie mógł zostać pominięty podczas analizy właściwości toru pomiarowego .



tab:varnum_db2_2_f16Zestawienie uzyskanych symulacyjnie wartości wariancji sygnału błędu zaokrągleń kolejnych wielkości wyjściowych algorytmu dyskretnej transformacji falkowej dla falki db2 przy dwóch iteracjach procesu dekompozycji, dla liczb o długości 16, w zależności od zakresu możliwych wartości realizacji wielkości wejściowych
[c] c *6S[table-format = 1.2e+1, mode = math]  2* & 6 c Zakres wartości realizacji wielkości wejściowych algorytmu 
 2-7
&  &  &  &  &  &  
  & 1.03e-7 & 4.12e-7 & 9.74e-7 & 7.08e-7 & 2.83e-6 & 2.16e-5 
  & 1.11e-7 & 4.43e-7 & 1.01e-6 & 9.55e-7 & 3.82e-6 & 2.75e-5 
  & 1.31e-7 & 5.24e-7 & 1.21e-6 & 2.87e-7 & 1.15e-6 & 7.06e-6 
  & 1.07e-7 & 4.29e-7 & 9.73e-7 & 3.36e-7 & 1.34e-6 & 9.30e-6 
  & 7.09e-8 & 2.85e-7 & 6.99e-7 & 1.65e-7 & 3.56e-7 & 4.29e-6 
  & 5.83e-8 & 2.33e-7 & 5.87e-7 & 1.49e-7 & 5.95e-7 & 4.05e-6 
  & 5.84e-8 & 2.34e-7 & 5.85e-7 & 1.49e-7 & 5.97e-7 & 4.05e-6 
  & 5.53e-8 & 2.21e-7 & 5.41e-7 & 1.78e-7 & 7.08e-7 & 5.26e-6 
 


tab:varnum_db2_2_f32Zestawienie uzyskanych symulacyjnie wartości wariancji sygnału błędu zaokrągleń kolejnych wielkości wyjściowych algorytmu dyskretnej transformacji falkowej dla falki db2 przy dwóch iteracjach procesu dekompozycji, dla liczb o długości 32, w zależności od zakresu możliwych wartości realizacji wielkości wejściowych
[c] c *6S[table-format = 1.2e+2, mode = math]  2* & 6 c Zakres wartości realizacji wielkości wejściowych algorytmu 
 2-7
&  &  &  &  &  &  
  & 1.40e-15 & 5.57e-15 & 1.30e-14 & 9.29e-15 & 3.71e-14 & 2.78e-13 
  & 1.40e-15 & 5.61e-15 & 1.29e-14 & 1.25e-14 & 5.00e-14 & 3.54e-13 
  & 1.71e-15 & 6.83e-15 & 1.58e-14 & 3.33e-15 & 1.33e-14 & 7.78e-14 
  & 1.39e-15 & 5.56e-15 & 1.29e-14 & 4.27e-15 & 1.71e-14 & 1.16e-13 
  & 8.28e-16 & 3.54e-15 & 8.38e-15 & 1.70e-15 & 6.84e-15 & 4.25e-14 
  & 6.82e-16 & 2.72e-15 & 6.67e-15 & 1.46e-15 & 5.84e-15 & 4.02e-14 
  & 6.82e-16 & 2.72e-15 & 6.66e-15 & 1.47e-15 & 5.86e-15 & 4.02e-14 
  & 6.68e-16 & 2.67e-15 & 6.48e-15 & 2.02e-15 & 8.10e-15 & 6.15e-14 
 
Jako, że zakres możliwych wartości realizacji wielkości wejściowych algorytmu transformacji falkowej również wpływa na wprowadzane błędy zaokrągleń, należy brać ten czynnik pod uwagę podczas analizy projektowanego toru pomiarowego. Podobna zależność występuje również dla kształtu rozkładu realizacji omawianego sygnału. Należy zatem tak dobrać warunki eksperymentu mającego na celu identyfikacje parametrów sygnału błędu własnego, aby w jak największym stopniu były one zbieżne z warunkami rzeczywistymi. Analizując wyniki eksperymentu zauważyć można, że wraz ze wzrostem zakresu wartości wielkości wejściowych wartość wariancji sygnału błędu zaokrągleń wzrasta. Zależność ta wynika bezpośrednio z właściwości stosowanej metody zapisu liczb zmiennoprzecinkowych i została szerzej opisana w publikacji .



tab:varnum_db2_5_f16Zestawienie uzyskanych symulacyjnie wartości wariancji sygnału błędu zaokrągleń kolejnych grup wielkości wyjściowych algorytmu dyskretnej transformacji falkowej dla falki db2 przy pięciu iteracjach procesu dekompozycji, dla liczb o długości 16, w zależności od liczby wielkości wejściowych algorytmu
[c] c *6S[table-format = 1.2e+1, mode = math]  2* & 6 c Skala wielkości wyjściowych algorytmu 
 2-7
&  &  &  &  &  &  
 64   & 4.91e-7 & 5.31e-7 & 3.94e-7 & 2.09e-7 & 1.23e-7 & 5.86e-8 
 128  & 7.51e-7 & 7.08e-7 & 3.87e-7 & 2.07e-7 & 1.22e-7 & 5.85e-8 
 256  & 8.59e-7 & 6.99e-7 & 3.85e-7 & 2.05e-7 & 1.21e-7 & 5.84e-8 
 512  & 9.19e-7 & 6.89e-7 & 3.81e-7 & 2.04e-7 & 1.21e-7 & 5.84e-8 
 1024 & 9.47e-7 & 6.85e-7 & 3.80e-7 & 2.04e-7 & 1.21e-7 & 5.84e-8 
 2048 & 9.58e-7 & 6.84e-7 & 3.80e-7 & 2.04e-7 & 1.21e-7 & 5.84e-8 
 4096 & 9.66e-7 & 6.83e-7 & 3.80e-7 & 2.04e-7 & 1.21e-7 & 5.84e-8 
 


tab:varnum_db2_5_f32Zestawienie uzyskanych symulacyjnie wartości wariancji sygnału błędu zaokrągleń kolejnych grup wielkości wyjściowych algorytmu dyskretnej transformacji falkowej dla falki db2 przy pięciu iteracjach procesu dekompozycji, dla liczb o długości 32, w zależności od liczby wielkości wejściowych algorytmu
[c] c *6S[table-format = 1.2e+2, mode = math]  2* & 6 c Skala wielkości wyjściowych algorytmu 
 2-7
&  &  &  &  &  &  
 64   & 6.83e-15 & 7.93e-15 & 5.42e-15 & 2.86e-15 & 1.62e-15 & 7.12e-16 
 128  & 1.15e-14 & 1.02e-14 & 5.39e-15 & 2.79e-15 & 1.58e-15 & 6.98e-16 
 256  & 1.34e-14 & 1.03e-14 & 5.30e-15 & 2.76e-15 & 1.56e-15 & 6.90e-16 
 512  & 1.44e-14 & 1.03e-14 & 5.25e-15 & 2.73e-15 & 1.55e-15 & 6.85e-16 
 1024 & 1.49e-14 & 1.03e-14 & 5.23e-15 & 2.72e-15 & 1.55e-15 & 6.84e-16 
 2048 & 1.51e-14 & 1.03e-14 & 5.22e-15 & 2.72e-15 & 1.55e-15 & 6.84e-16 
 4096 & 1.52e-14 & 1.03e-14 & 5.22e-15 & 2.72e-15 & 1.55e-15 & 6.84e-16 
 


tab:varnum_spline4_4_5_f16Zestawienie uzyskanych symulacyjnie wartości wariancji sygnału błędu zaokrągleń kolejnych grup wielkości wyjściowych algorytmu dyskretnej transformacji falkowej dla falki spline2:4 przy pięciu iteracjach procesu dekompozycji, dla liczb o długości 16, w zależności od liczby wielkości wejściowych algorytmu
[c] c *6S[table-format = 1.2e+1, mode = math]  2* & 6 c Skala wielkości wyjściowych algorytmu 
 2-7
&  &  &  &  &  &  
 64   & 1.07e-6 & 1.02e-6 & 8.94e-7 & 5.05e-7 & 1.83e-7 & 4.76e-8 
 128  & 1.75e-6 & 1.59e-6 & 9.22e-7 & 4.96e-7 & 1.80e-7 & 4.64e-8 
 256  & 2.61e-6 & 1.67e-6 & 9.11e-7 & 4.91e-7 & 1.77e-7 & 4.58e-8 
 512  & 2.60e-6 & 1.69e-6 & 9.05e-7 & 4.89e-7 & 1.76e-7 & 4.55e-8 
 1024 & 2.58e-6 & 1.71e-6 & 9.02e-7 & 4.88e-7 & 1.75e-7 & 4.53e-8 
 2048 & 2.58e-6 & 1.71e-6 & 9.00e-7 & 4.87e-7 & 1.75e-7 & 4.53e-8 
 4096 & 2.58e-6 & 1.72e-6 & 9.00e-7 & 4.87e-7 & 1.75e-7 & 4.53e-8 
 


tab:varnum_spline4_4_5_f32Zestawienie uzyskanych symulacyjnie wartości wariancji sygnału błędu zaokrągleń kolejnych grup wielkości wyjściowych algorytmu dyskretnej transformacji falkowej dla falki spline2:4 przy pięciu iteracjach procesu dekompozycji, dla liczb o długości 32, w zależności od liczby wielkości wejściowych algorytmu
[c] c *6S[table-format = 1.2e+2, mode = math]  2* & 6 c Skala wielkości wyjściowych algorytmu 
 2-7
&  &  &  &  &  &  
 64   & 1.51e-14 & 1.44e-14 & 1.26e-14 & 6.54e-15 & 2.33e-15 & 5.44e-16 
 128  & 2.52e-14 & 2.37e-14 & 1.45e-14 & 6.50e-15 & 2.27e-15 & 5.29e-16 
 256  & 4.72e-14 & 2.91e-14 & 1.45e-14 & 6.40e-15 & 2.24e-15 & 5.22e-16 
 512  & 4.72e-14 & 2.98e-14 & 1.44e-14 & 6.36e-15 & 2.23e-15 & 5.17e-16 
 1024 & 4.71e-14 & 3.01e-14 & 1.43e-14 & 6.35e-15 & 2.22e-15 & 5.16e-16 
 2048 & 4.72e-14 & 3.03e-14 & 1.43e-14 & 6.35e-15 & 2.22e-15 & 5.16e-16 
 4096 & 4.72e-14 & 3.04e-14 & 1.43e-14 & 6.35e-15 & 2.22e-15 & 5.16e-16 
 
Implementacja okna pomiarowego

Identycznie, jak w przypadku innych algorytmów przetwarzających ciągi wielkości wejściowych, dla algorytmu transformacji falkowej stosować można wybrane okno pomiarowe. Wprowadzenie okna pomiarowego, którego funkcję oznaczono symbolem , można przedstawić za pomocą modyfikacji równania eq:alg_out_single:

Na podstawie przedstawionego równania zauważyć można, że wprowadzenie okna pomiarowego opisać można również za pomocą modyfikacji współczynników macierzy transformacji algorytmu zgodnie z zależnością opisaną równaniem:

gdzie  stanowi nową wartość współczynnika macierzy transformacji algorytmu. Użyta funkcja  powinna być opisana dla wartości  w przedziale . Należy zaznaczyć, że stosowanie okna pomiarowego spowoduje zmianę transmitancji związanych z kolejnymi wielkościami wyjściowymi algorytmu, a zatem będzie miało wpływ na widmo sygnałów wielkości wyjściowych.

Wybrane okna pomiarowe opisane w literaturze  to okna: trójkątne eq:wnd_triang, sinusoidalne eq:wnd_sine, Gaussa eq:wnd_gauss, Hamminga eq:wnd_hamming, Hanna eq:wnd_hann oraz Welcha eq:wnd_welch, które opisać można kolejno w postaci:

W dalszej części pracy stosuje się okno prostokątne, w którym , o ile nie został zaznaczony fakt stosowania innego okna pomiarowego.

Implementacja okna pomiarowego, z punktu widzenia przedstawionych w pracy założeń, mogłaby również zostać opisana jako zastosowanie dodatkowego algorytmu. Algorytm ten przetwarzałby  wielkości wejściowych na  wielkości wyjściowych, gdzie . Macierz transformacji omawianego algorytmu byłaby macierzą diagonalną, przy czym wartości kolejnych współczynników odpowiadałyby wyznaczonym wagom dla -tej wielkości okna. Z praktycznego punktu widzenia zaproponowana metoda modyfikacji wartości współczynników transformacji algorytmu transformacji falkowej wydaje się jednak bardziej korzystna. Na tej samej zasadzie istnieje możliwość implementacji innych modyfikacji, np. wprowadzenia dodatkowego filtru. Jako, że algorytm dyskretnej transformacji sam w sobie implementuje dla kolejnych wielkości wyjściowych podział tych wielkości na odpowiadające im okna pomiarowe, stosowanie dodatkowego okna pomiarowego nie jest tak popularne, jak w przypadku innych algorytmów (np. algorytmu DFT). Zagadnienie to nie zostało zatem poruszone szczegółowo w pracy.

Jako, że wprowadzenie okna pomiarowego skutkuje zmianą wypadkowej transmitancji związanej z wielkościami wyjściowymi algorytmu, działanie to wpływa na przenoszone z wejścia na wyjście algorytmu sygnały błędów. Aplikację omawianej metody oraz wpływ parametrów okna pomiarowego na przenoszenie błędów losowych przez algorytmy dyskretnej transformacji falkowej opisano w pracy . Należy zauważyć, że w omawianym przypadku każda z wielkości wyjściowych cechować się będzie inną transmitancją, a zatem przeprowadzenie zbiorczej analizy dla wielkości wyjściowych związanych z tym samym poziomem dekompozycji jest niemożliwe.

Podsumowanie rozdziału

Specyfika algorytmów transformacji falkowej pozwala na analizę właściwości metrologicznych tych algorytmów stosując model błędów opisany w pracy dla cyfrowej cześć toru pomiarowego. W ogólnym przypadku algorytm transformacji falkowej traktować można jako zbiór  filtrów, gdzie  jest liczbą iteracji procesu dekompozycji sygnału. Transmitancja algorytmu, odpowiednia dla kolejnych wielkości wyjściowych związanych z tą samą iteracją procesu dekompozycji sygnału, jest identyczna, natomiast na wejście filtru podawane są różne numery próbek wielkości wejściowych poprzedniego etapu dekompozycji, co związane jest z przesunięciem okna pomiarowego. Transmitancja algorytmu może być określana na podstawie znajomości wartości współczynników skalujących, stosowanych również w celu wyznaczania wartości współczynników macierzy transformacji tego algorytmu. Należy zaznaczyć, że w pewnych przypadkach transmitancja algorytmu związana z kolejnymi wielkościami wyjściowymi może być różna (np. jeżeli stosowane jest okno pomiarowe).

Jak zaznaczono we wstępnie do pracy, wszystkie przedstawione informacje dotyczące algorytmów transformacji falkowej stanowią podsumowanie zawartych w literaturze rozważań. Dorobek autora pracy stanowi natomiast wskazanie istotnych, z punktu widzenia analizy właściwości metrologicznych torów pomiarowych, cech tych algorytmów, a także zaproponowanie jednolitej metody opisu miary niedokładności wyznaczania wartości realizacji ich wielkości wyjściowych. Zaproponowane w pracy podejście do analizy właściwości metrologicznych algorytmów transformacji falkowej oraz wskazanie roli tych algorytmów w procesie propagacji sygnałów błędów ich wielkości wejściowych nie było dotychczas przedstawione w literaturze. Stosowanie proponowanej metody możliwe jest dla dowolnych parametrów algorytmu transformacji falkowej o wielkościach wejściowych z dziedziny liczb rzeczywistych. Istotnym walorem pracy, zawartym w bieżącym rozdziale, jest również wskazanie sposobu aplikacji zaproponowanej metody analizy, zarówno w przypadku gdy dysponuje się gotową implementacją algorytmu, jak i dla przypadku gdy stosowany jest analityczny opis zależności odpowiednich dla stosowanej rodziny falek. Omawiany walor jest cenny w szczególności dla projektantów torów pomiarowych, którzy stosują transformacje falkową w celu analizy wybranego zjawiska, natomiast nie dysponują ekspercką wiedzą na temat stosowanego algorytmu.

Analizując przedstawione rozważania, dotyczące sygnałów błędów własnych wielkości wyjściowych algorytmów dyskretnej transformacji falkowej, przypuszczać można, że w praktyce pomiarowej sygnały te nie będą istotne z punktu widzenia właściwości metrologicznych tych algorytmów. Hipoteza ta uzasadniona jest faktem, że odpowiednio dobrana długość słowa dla liczb zmiennoprzecinkowych powinna pozwolić na uzyskanie odpowiednio niskich wartości niepewności rozszerzonych związanych z sygnałami błędu własnego w stosunku do wartości niepewności rozszerzonych związanych z pozostałymi sygnałami błędów. Można zatem przypuszczać, że najistotniejsze właściwości metrologiczne analizowanych algorytmów będą związane z tym, w jaki sposób algorytmy te propagują sygnały błędów obecne na ich wejściu. Hipoteza ta zweryfikowana została w kolejnych rozdziałach pracy.

Symulacyjna weryfikacja tezy

Weryfikacja przedstawionego w pracy modelu błędów i wynikających z niego założeń w pierwszej kolejności przeprowadzona została metodą symulacyjną. W bieżącym rozdziale przedstawiono przykładowy tor pomiarowy, a następnie wymieniono i opisano obecne w nim źródła błędów. Na podstawie przedstawionego wcześniej modelu błędów opisano związki zachodzące pomiędzy zidentyfikowanymi sygnałami błędów oraz oszacowano wartości niepewności rozszerzonych wielkości wyjściowych analizowanego toru pomiarowego. Wyniki uzyskane za pomocą zaproponowanego modelu porównano z wynikami uzyskanymi metodą Monte-Carlo. Aby zapewnić możliwość bieżącej weryfikacji poprawności stosowanych założeń, podczas analizy wyznaczano wartości dla wszystkich wyprowadzanych wielkości, co umożliwiało porównywanie uzyskanych wyników z wynikami symulacji uzyskiwanymi metodą Monet-Carlo. Wybrane wartości liczbowe dla analizowanych wielkości przedstawiano jedynie w celu możliwości weryfikacji każdego etapu analizy, natomiast ostateczne wyniki wyznaczane były na podstawie wyprowadzonych wcześniej zależności.

Przykładowy tor pomiarowy składa się z przetwornika pomiarowego, który przekształca ciągłą w czasie fizyczną wielkość mierzoną  na reprezentujący ją sygnał napięciowy , który następnie przetwarzany jest przez wzmacniacz pomiarowy, w celu dopasowania jego poziomu do zakresu napięcia wejściowego zintegrowanego z układem próbkująco-pamiętającym przetwornika analogowo-cyfrowego. Wzmocniony sygnał  stanowi wejście przetwornika analogowo-cyfrowego, którego wielkości wyjściowe wyrażone w jednostce wielkości  oznaczono symbolem . Ostatecznie sygnał wyjściowy przetwornika analogowo-cyfrowego trafia na wejście algorytmu dyskretnej transformacji falkowej, a na jego podstawie wyznaczany jest wektor wielkości wyjściowych, oznaczonych jako . Schemat blokowy opisanego toru pomiarowego przedstawiono na rysunku . Podczas eksperymentu przyjęto, że przetwarzany sygnał pomiarowy obarczony jest błędem związanym z szumem białym o stałej widmowej gęstości mocy. Przetwornik pomiarowy, zastosowany w celu przetworzenia analizowanego sygnału wejściowego na postać napięciową, cechuje się pewną częstotliwość graniczną, a jego charakterystyka nie jest idealnie liniowa. Zastosowany wzmacniacz pomiarowy również charakteryzuje się pewną częstotliwością graniczną, natomiast założono, że nieliniowość charakterystyki jest w jego przypadku pomijalnie mała. Przyjęto, że temperatura otoczenia miała wpływ na dryft zera przetwornika pomiarowego oraz wzmacniacza, przy czym temperatura ta nie była mierzona, zatem jej wpływ na wyniki pomiarów nie był korygowany. Przyjęto, że zastosowany przetwornik analogowo-cyfrowy wprowadzał do sygnału wyjściowego jedynie błąd związany z kwantowaniem przetwarzanej wielkości, natomiast algorytm transformacji falkowej wprowadzał do wielkości wyjściowych błąd własny związany z wykonywaniem operacji arytmetycznych.



fig:chain_symulSchemat blokowy toru pomiarowego będącego obiektem eksperymentu symulacyjnego, gdzie symbol A/A oznacza przetwarzanie analogowo-analogowe, A/C przetwarzanie analogowo-cyfrowe, natomiast DWT algorytm dyskretnej transformacji falkowej

W dalszej części rozdziału omówiono kolejne elementy toru pomiarowego, wskazano ich wpływ na przetwarzany sygnał oraz relacje pomiędzy sygnałami błędów na wejściu i wyjściu tych fragmentów. Przedstawiono również szczegółowe założenia odnośnie właściwości opisanych we wprowadzeniu fragmentów toru pomiarowego. Dla przeprowadzonego eksperymentu przyjęto, że przetwarzany sygnał  określony został w dziedzinie czasu jako:

przy czym  jest częstotliwością podstawowej harmonicznej tego sygnału, natomiast  wariancją sygnału szumu . Parametry kolejnych harmonicznych przetwarzanego sygnału zostały zestawione w tabeli . Do wyznaczenia wektora wielkości wyjściowych algorytmu dyskretnej transformacji falkowej koniecznych było  próbek wielkości wejściowych  tego algorytmu, na podstawie których wyznaczano  próbek wektora wielkości wyjściowych  obiektu dla każdej -tej realizacji pomiaru. Eksperyment zakładał stały dla każdej -tej próbki przetwarzanego sygnału okres próbkowania , gdzie , natomiast okno pomiarowe usytuowane było losowo względem przebiegu przetwarzanego sygnału . Założono, że temperatura otoczenia  przyjmowała w funkcji czasu dowolną wartość z zakresu , wartością oczekiwaną temperatury była wartość 20 oraz w obrębie wskazanego przedziału rozkład wartości tej wielkości był rozkładem trójkątnym.



tab:sym_in_params_idealParametry kolejnych harmonicznych przetwarzanego sygnału  dla sytuacji idealnej, przyjęte w przeprowadzanym eksperymencie symulacyjnym
[c] c  c  c  c   & Pulsacja , rad/s & Amplituda  & Faza , rad 
 1 &  &  0.6 &            
 2 &  &  0.3 &  
 3 &  &  0.1 &        
 
Analiza przetwornika pomiarowego

Zastosowany przetwornik pomiarowy przekształca sygnał , związany z mierzoną wielkością fizyczną, na wyjściowy sygnał napięciowy . Przyjęto, że wartości realizacji wielkości mierzonej zawierają się w zakresie , natomiast czułość przetwornika pomiarowego jest równa , związana z nim częstotliwość graniczna wynosi . Wobec powyższych, wartości realizacji wielkości wyjściowej  mieszczą się w przedziale . Charakterystyka omawianego obiektu jest zależna od temperatury otoczenia , przy czym jej wartość nie jest znana.

Stosując zaproponowany model błędów i przedstawione założenia, na podstawie równań eq:out_cont_ideal_all oraz eq:out_cont_real_all, opisać można przebieg wielkości wyjściowej  jako:

przy czym sygnały błędów zawarte w sygnale błędu wypadkowego  zdefiniowano i omówiono w dalszej cześć podrozdziału. Funkcja przetwarzania obiektu  powinna być zatem w przypadku idealnym, zgodnie z założeniami opisanymi zależnością eq:sym_parta_out_ideal oraz wymienionymi we wstępie podrozdziału, określona równaniem w postaci:

Przyjmuje się, że rzeczywista funkcja przetwarzania obiektu  nie jest znana, natomiast realizacje sygnału błędu  wynikającego z nieliniowości charakterystyki przyjmują wartości z przedziału , a uzyskanie każdej z nich jest jednakowo prawdopodobne. Zakłada się, że charakter rozważanego sygnału błędu jest zbliżony do charakteru sygnału błędu kwantowania, zatem błąd ten zaliczyć można do grupy sygnałów błędów losowych. Wariancję oraz niepewność rozszerzoną, związane z omawianym sygnałem błędu , wyrazić można w postaci :

przy czym  jest współczynnikiem rozszerzenia dla rozkładu jednostajnego i przy poziomie ufności  wynosi 1.65. Ze względu na nieznaną postać rzeczywistej funkcji przetwarzania, w dalszych rozważaniach przyjmuje się, że .

Zmiany temperatury otoczenia, ujęte w założeniach eksperymentu, rozważać można jako bardzo niewielkie w obrębie pojedynczej serii pomiarowej (dla -tego okna pomiarowego). Można zatem przyjąć, że błąd wynikający z wpływu tej temperatury na wartość wielkości wyjściowej analizowanego obiektu jest niezmienny w obrębie pojedynczego okna pomiarowego, a zatem, zgodnie z przyjętym modelem, kwalifikować go można jako błąd statyczny. Sygnał błędu statycznego własnego  związany z omawianym zjawiskiem, zgodnie z równaniem eq:out_cont_err_env_self jest zatem zdefiniowany jako:

gdzie  jest rzeczywistą temperaturą otoczenia wyrażoną w stopniach Celsjusza. Można zatem określić wariancję oraz niepewność rozszerzoną omawianego sygnału :

gdzie  jest współczynnikiem rozszerzenia dla rozkładu trójkątnego i przy poziomie ufności  wynosi 1.90.

Kolejną grupę właściwości obiektu stanowią właściwości dynamiczne, związane z jego częstotliwością graniczną. Przypadek idealny zakłada, że analizowany obiekt nie powinien mieć żadnego wpływu na widmo przetwarzanego sygnału, a zatem transmitancja tego obiektu powinna wynosić . Na podstawie założonych parametrów rzeczywistych obiektu przyjmuje się, że transmitancja  wynosi:

zatem równania eq:mid_cont_amp oraz eq:mid_cont_phi, określające właściwości dynamiczne, przyjmują postać:


Na podstawie powyższych zależności określających parametry transmitancji obiektu w sytuacji idealnej, a także założeń eq:mid_cont_omega_ideal, eq:mid_cont_sum_ideal, eq:out_cont_ideal_all oraz eq:sym_parta_out_ideal, opisać można idealne parametry kolejnych harmonicznych sygnału  w funkcji pulsacji jako:

gdzie  jest idealną amplitudą oraz  idealną fazą harmonicznej sygnału wyjściowego  o wybranej pulsacji . Wskazane zależności oraz definicja przetwarzanego sygnału wejściowego, dana równaniem eq:sym_in_ideal, umożliwiają definicję opisanej równaniem eq:sym_parta_out_ideal wielkości wyjściowej obiektu dla przypadku idealnego w postaci sumy analizowanych harmonicznych tego sygnału:

przy czym  jest pulsacją -tej harmonicznej sygnału wyjściowego, której kolejne parametry zestawione zostały wcześniej w tabeli . Parametry sygnału opisanego równaniem eq:sym_parta_out_ideal_sum zestawiono w tabeli .



tab:sym_outa_params_idealParametry kolejnych harmonicznych sygnału  przyjęte w przeprowadzanym eksperymencie symulacyjnym dla sytuacji idealnej
[c] c  c  c  c   & Pulsacja , rad/s & Amplituda , V & Faza , rad 
 1 &  &  0.6 &              
 2 &  &  0.3 &    
 3 &  &  0.1 &          
 
Na podstawie równań eq:mid_cont_err_dyn_self oraz eq:out_cont_err_dyn_self, błąd własny dynamiczny w funkcji pulsacji wybranej harmonicznej sygnału opisać można następującą zależnością:

Jako, że sygnał wejściowy  analizowanego obiektu nie jest obarczony błędem dynamicznym, nie ma potrzeby wykonywania analizy dla sygnału błędu dynamicznego propagowanego. Aby umożliwić analizę propagacji sygnałów błędów dynamicznych przez kolejne fragmenty toru pomiarowego, minimalizując jednocześnie liczbę analizowanych składowych błędu dynamicznego, wyznaczono na podstawie równań eq:dyn_vect_amp oraz eq:dyn_vect_phi wypadkowe parametry amplitudy oraz fazy dla kolejnych harmonicznych tego sygnału. Należy zauważyć, że relacje pomiędzy amplitudą i wariancją analizowanej harmonicznej opisuje równanie eq:dyn_var. Analizując równanie eq:sym_parta_dyn_self_err można zauważyć, że dla każdej harmonicznej błąd ten ma dwie składowe o przeciwnych znakach. Korzystając z właściwości funkcji sinus można odwrócić znak wybranej składowej oraz dodać kąt  do argumentu tej funkcji, zachowując przy tym oryginalną wartość tej składowej.

Stosując podane założenia, przebieg składowej sygnału błędu dynamicznego własnego o częstotliwości 1kHz przedstawić można następującym równaniem:

przy czym opisane w podany sposób parametry kolejnych harmonicznych sygnału błędu dynamicznego zestawiono w tabeli . Przedstawiając składowe równania eq:sym_parta_dyn_self_example_harm za pomocą wektorów, zgodnie z równaniem eq:dyn_vect, a następnie zgodnie z równaniem eq:dyn_vect_sum sumując opisane składniki, wyznaczyć można wypadkowe parametry harmonicznych sygnału błędu  zgodnie z zależnościami eq:dyn_vect_amp oraz eq:dyn_vect_phi. Dla przedstawionej w równaniu eq:sym_parta_dyn_self_example_harm harmonicznej sygnału błędu dynamicznego, parametry te wynoszą:

Dla pozostałych harmonicznych należy opisane powyżej wielkości wyznaczyć w sposób analogiczny, przy czym wartości tych wielkości zestawiono w tabeli . Na podstawie równania eq:dyn_var możliwe jest wyznaczenie wartości wariancji kolejnych składowych błędu dynamicznego oraz na podstawie równania eq:unc_sum wartości ich niepewności rozszerzonej:

przy czym dla rozkładu dwumodalnego współczynnik rozszerzenia  dla deklarowanego poziomu ufności  jest równy 1.41 .



tab:sym_parta_params_dyn_listParametry składowe kolejnych harmonicznych błędu dynamicznego własnego analizowanego w eksperymencie symulacyjnym przetwornika pomiarowego
[c] c  c  c  c  c   &  & Pulsacja , rad/s & Amplituda , V & Faza , rad 
 2* & 1 & 2* &   &             
 2-2 4-5
                     & 2 &                                     &   &                   
 2* & 1 & 2* &   &   
 2-2 4-5
                     & 2 &                                     &   &                     
 2* & 1 & 2* &   &         
 2-2 4-5
                     & 2 &                                     &   &               
 


tab:sym_parta_params_dyn_summaryParametry wypadkowe kolejnych harmonicznych błędu dynamicznego własnego analizowanego w eksperymencie symulacyjnym przetwornika pomiarowego
[c] c  c  S[table-format = 1.2]  S[table-format = +1.2]   & Pulsacja , rad/s & Amplituda , mV & Faza , rad 
 1 &   &  1.88  & -1.57  
 2 &   &  4.69  &  1.96  
 3 &   &  4.68  & -1.07  
 
Wyprowadzone dotychczas zależności oraz dane zestawione w tabeli  pozwalają zgodnie z równaniem eq:mid_cont_err_dyn_self zdefiniować wypadkowy sygnał błędu dynamicznego własnego w postaci sumy kolejnych harmonicznych tego sygnału:

Należy zauważyć, że ze względu na fakt, że sygnał ten będzie przetwarzany przez kolejne fragmenty toru pomiarowego, dalsza analiza wykorzystująca wypadkowe parametry kolejnych harmonicznych tego sygnału wydaje się być najbardziej przystępna.

Ostatnim sygnałem błędu wymagającym analizy jest sygnał , związany z szumem na wejściu obiektu. Wariancję tego sygnału w funkcji pulsacji określić można stosując kolejno zależności eq:mid_cont_var_omega oraz eq:out_cont_var_sense, a zatem:

Jako, że w zakresie częstotliwości  wartość wzmocnienia  jest zbliżona do jedności, transmitancja obiektu nie wpływa na widmo przetwarzanego sygnału szumu. Zasadne jest zatem założenie, że wariancja sygnału błędu losowego propagowanego w funkcji pulsacji jest identyczna, jak na wejściu obiektu dla analizowanego zakresu częstotliwości, stąd . Niepewność rozszerzoną związaną z opisywanym sygnałem wyznaczyć można zatem zgodnie z zależnością eq:unc_sum:

gdzie  to współczynnik rozszerzenia rozkładu normalnego, równy 1.96 dla .

Zdefiniowane dotychczas sygnały błędów stanowią kolejne składniki wypadkowego sygnału błędu  wielkości wyjściowej analizowanego obiektu, wprowadzonego wcześniej w równaniu eq:sym_parta_out_real. Ostatecznie, sygnał ten opisać można w postaci:

Na podstawie parametrów wymienionych sygnałów określono budżet niepewności dla analizowanego fragmentu toru pomiarowego, który zestawiono w tabeli . Należy zauważyć, że kolejne sygnały błędów w opisywanym przypadku nie są skorelowane.



tab:sym_parta_params_unc_listBudżet niepewności wielkości wyjściowej analizowanego w eksperymencie symulacyjnym przetwornika pomiarowego
[c] c  c  S[table-format = 1.2]  S[table-format = 2.2]  c  c  Lp. & Symbol & , mV & , V & Rozkład & Źródło błędu 
 1 &        & 3.49  &  3.38   & trójkątny                    & dryft temperatury                           
 2 &        & 3.01  &  3.33   & jednostajny                  & nieliniowość obiektu                       
 3 &        & 5.06  &  6.67   & normalny                     & szum wielkości wejściowej                  
 4 &      & 1.87  &  1.77   & 3*dwumodalny  & 3*transmitancja wzmacniacza 
 1-4
5 &      & 4.68  &  11.00  &                              &                                            
 1-4
6 &      & 4.67  &  10.95  &                              &                                            
 
Ostatnim możliwym krokiem pozostaje zatem określenie wypadkowej wartości niepewności rozszerzonej dla analizowanego fragmentu toru pomiarowego. Na obecnym etapie rozważań wyznaczanie tego parametru nie jest konieczne i nie będzie wykorzystywane w dalszym procesie analizy - przeprowadzenie tej operacji jest jednak uzasadnione potrzebą weryfikacji skuteczności proponowanej metody wyznaczania wypadkowej wartości niepewności rozszerzonej, opisanej równaniem eq:unc_matrix.

Uwzględniając podział rodzajów sygnałów błędów zorientowany ze względu na charakter ich realizacji, równanie eq:sym_parta_error_cat zapisać można również w postaci:

gdzie  jest wypadkowym sygnałem błędu statycznego,  dynamicznego, natomiast  losowego. W przypadku sygnału błędu statycznego , ze względu na istnienie tylko jednego źródła tego błędu, zapisać można:

Dla sygnałów błędu dynamicznego  oraz losowego  wypadkowe wartości niepewności rozszerzonej szacowane są zgodnie z równaniem eq:unc_matrix, przy czym kolejne wartości współczynników koherencji wyznaczane są zgodnie z zależnością eq:unc_coher. Ze względu na brak korelacji pomiędzy analizowanymi składnikami sygnałów błędów, wypadkowe wartości wariancji mogą być wyznaczane zgodnie z równaniem eq:var_sum. Po oszacowaniu wartości parametrów wypadkowych niepewności rozszerzonych oraz wariancji, wartości współczynników rozszerzenia mogą być oszacowane zgodnie z równaniem eq:unc_sum. Wymienione zależności przyjmują w bieżącym przypadku postać:

Na podstawie oszacowanych wartości współczynników rozszerzenia podejrzewać można, że kształt rozkładu wypadkowego sygnału błędu losowego prawdopodobnie zbliżony będzie do kształtu rozkładu normalnego. W przypadku sygnału wypadkowego błędu dynamicznego jego rozkład będzie rozkładem o niestandardowym kształcie.

Końcowym etapem przeprowadzanej analizy jest wyznaczenie wypadkowych parametrów wyjściowego sygnału błędu . Proces ten przeprowadzić można zarówno korzystając z opisanego tabelą  budżetu niepewności, jak i na podstawie parametrów wyznaczonych w równaniach od eq:sym_parta_uncert_stat do eq:sym_parta_factor_rand. Jako, że rozkład jednego z analizowanych wypadkowych sygnałów błędów nie jest żadnym z typowych rozkładów, dla których wyznaczono wcześniej współczynniki kształtu, aby skorzystać z danych wyznaczonych w równaniach od eq:sym_parta_uncert_stat do eq:sym_parta_var_dyn należałoby wyznaczyć współczynniki kształtu dla analizowanego rozkładu i każdego ze splatanych z nim rozkładów. Scenariusz ten nie został rozważony w pracy, ze względu na brak konieczności jego stosowania, niską uniwersalność i konieczność wykonania dodatkowych obliczeń.

Wobec powyższych, wykorzystując budżet niepewności dany w tabeli , wypadkową niepewność rozszerzoną wyznaczyć można zapisując równanie eq:unc_matrix jako:

gdzie wektor niepewności cząstkowych oznaczony symbolem  oraz macierz współczynników koherencji oznaczona jako  przyjmują postać:

przy czym przykładowo, dla pary błędów statycznego własnego oraz losowego własnego, wartość współczynnika koherencji jest obliczana zgodnie z równaniem eq:unc_coher, gdzie na podstawie tabeli  współczynnik kształtu wynosi , a zatem:

Po podstawieniu do równania eq:sym_parta_uncert_vector wartości z tabeli  oraz po podstawieniu wyznaczonych wartości współczynników koherencji do równania eq:sym_parta_uncert_coher otrzymuje się:

Wartość wariancji wypadkowego sygnału błędu  wyznaczyć można stosując równanie eq:var_sum, które w analizowanym przypadku przyjmuje postać:

natomiast zgodnie z równaniem eq:unc_sum, wartość współczynnika rozszerzenia oszacować można jako:


Ze względu na to, że wszystkie składowe sygnału błędu wypadkowego cechują się niepewnością rozszerzoną o tym samym rzędzie wielkości, a dodatkowo składanych jest sześć nieskorelowanych sygnałów błędów, niepewność wypadkową oszacować można również korzystając z założeń centralnego twierdzenia granicznego . W tym celu wyznaczyć należy odchylenie standardowe sygnału błędu wypadkowego, a następnie zakładając normalny rozkład realizacji tego błędu wyznaczyć niepewność rozszerzoną zgodnie z równaniem eq:unc_sum, przyjmując współczynnik rozszerzenia . Wobec powyższego zapisać można następującą zależność:

przy czym wyznaczona wartość jest zbliżona do wyznaczonej za pomocą równania eq:sym_parta_uncert_value_a.

Weryfikacja poprawności przeprowadzonych rozważań i zaproponowanego modelu błędów została przeprowadzona symulacyjnie, stosując metodę Monte-Carlo. W ramach eksperymentu wykonano 100000 powtórzeń procesu wyznaczenia wartości wielkości wyjściowej  analizowanego obiektu. Każdorazowo fazę początkową sygnału wejściowego  losowano z przedziału , przy czym wylosowanie każdej z możliwych wartości było jednakowo prawdopodobne. Wypadkowy sygnał błędu na wyjściu analizowanego obiektu definiowany był zgodnie z równaniem eq:sym_parta_out_real, przy czym na podstawie uzyskanych wartości realizacji tego sygnału wyznaczano jego wariancję oraz wartość niepewności rozszerzonej, zgodnie z równaniem eq:unc_summation. Na rysunku  przedstawiono histogramy ilustrujące uzyskane realizacje sygnału błędu uwzględniając podział na błędy statyczne , dynamiczne  oraz losowe , a także histogram dla realizacji wypadkowego sygnału błędu .



fig:symul_parta_histHistogramy realizacji sygnałów błędów a) statycznego, b) dynamicznego, c) losowego, d) wypadkowego wielkości wyjściowej analizowanego w eksperymencie symulacyjnym przetwornika pomiarowego uzyskane metodą Monte-Carlo

Wyznaczona na drodze eksperymentu wartość wielkości  wyniosła 11.58mV, przy czym wartość współczynnika rozszerzenia  wyniosła 1.90. Wartość niepewności oszacowana na podstawie równania eq:sym_parta_uncert_value_a jest zatem około 4.5 większa od wartości uzyskanej na drodze eksperymentu. Należy zaznaczyć, że ta sama wartość wyznaczona za pomocą równania eq:sym_parta_uncert_sum stosując współczynniki koherencji, których wartości zostały wyznaczone bez użycia zaproponowanej w pracy korekty opisanej równaniem eq:unc_cohercorra wynosi 12.41mV, a zatem jest ona o 7.3 większa od wartości referencyjnej. W przypadku wartości oszacowanej na podstawie równania eq:sym_parta_uncert_value_b rozbieżność jest nieco mniejsza i wynosi około 3.2, co dowodzi że w analizowanym przypadku spełnione zostały założenia związane z centralnym twierdzeniem granicznym, a przyjęte uproszczenia okazały się nie mieć znaczącego wpływu na wynik obliczeń. Uzyskana wartość wariancji sygnału błędu wypadkowego wielkości wyjściowej wyniosła w eksperymencie 37.1V, co pokrywa się z wartością wyznaczoną w równaniu eq:sym_parta_var_sum. Wyznaczone w równaniach od eq:sym_parta_uncert_stat do eq:sym_parta_factor_rand parametry dla składowych sygnału błędu również w zadowalającym stopniu pokrywają się z uzyskanymi na drodze eksperymentu.

Zastosowana metoda szacowania wartości współczynników koherencji w celu wyznaczenia wypadkowej wartości niepewności rozszerzonej zapewnia wyniki zawyżone o kilka procent w stosunku do wartości uzyskiwanych symulacyjne. Jako, że omawiane rozbieżności są niewielkie oraz ich znak jest dodatni, uzyskiwane wyniki można uznać za prawidłowe. Wadą przedstawionej metody jest jednak konieczność znajomości wartości współczynników kształtu, co powoduje, że dla rozkładów o niestandardowym kształcie jej obszar zastosowań staje się ograniczony. Zaproponowana w pracy dodatkowa korekta wartości współczynników koherencji pozwala na uzyskanie bardziej zbliżonych, do uzyskiwanych symulacyjnie, wyników obliczeń.

Wobec przedstawionych rozważań i wyników przeprowadzonego eksperymentu stwierdzić można, że zaproponowany model błędów odpowiednio opisuje związki pomiędzy kolejnymi sygnałami błędów, zachodzące w analizowanym obiekcie. Jako, że kolejne fragmenty analizowanego toru pomiarowego przetwarzać będą zdefiniowane dotychczas sygnały błędów, przeprowadzony proces wyznaczania parametrów wypadkowych w przypadku grupy błędów dynamicznych oraz wyznaczanie parametrów wypadkowego błędu wielkości wyjściowej był nadmiarowy i został przeprowadzony jedynie w celu weryfikacji zaproponowanej metody obliczeń. W przypadku pozostałych grup sygnałów błędów, które cechowały się rozkładami o standardowych kształtach, wyznaczenie wypadkowych parametrów tych sygnałów pozwala na zmniejszenie liczby analizowanych sygnałów i upraszcza dalszą analizę.

Analiza wzmacniacza pomiarowego

Kolejną część toru pomiarowego stanowi wzmacniacz, którego zadaniem jest dopasowanie poziomu sygnału napięciowego , reprezentującego mierzoną wielkość fizyczną , do zakresu napięcia wejściowego  przetwornika analogowo-cyfrowego. Zakładane wzmocnienie układu wynosi , zatem w przypadku idealnym jego funkcję przetwarzania  stanowi liniowa, addytywna funkcja opisana równaniem:

przy czym przyjęto, że nieliniowość przedstawionej charakterystyki jest pomijalnie mała i nie została rozważona w przedstawionym eksperymencie. Przyjąć można zatem założenie, że . Wobec powyższych, wielkość wyjściową analizowanego obiektu w przypadku idealnym oraz rzeczywistym opisać można jako:

gdzie sygnały wchodzące w skład wypadkowego sygnału błędu  opisano w dalszej części podrozdziału oraz wskazano ich parametry.

Analizowany układ wzmacniacza charakteryzuje się częstotliwością graniczną równą , stąd zakłada się, że jego transmitancje opisać można w postaci:

Wobec przedstawionego założenia, równania eq:mid_cont_amp oraz eq:mid_cont_phi można rozwinąć jako:

natomiast w przypadku idealnej transmitancji  parametry te wynoszą kolejno:


Wobec przyjętych dotychczas założeń, opisanych w równaniach eq:sym_partb_out_ideal, eq:sym_partb_amp_ideal, eq:sym_partb_phi_ideal oraz założenia określającego idealny przebieg przetwarzanej wielkości wejściowej , opisanego równaniem eq:sym_parta_out_ideal_sum, idealny przebieg wielkości wyjściowej  w analizowanym przypadku określa równanie:

natomiast parametry kolejnych harmonicznych przedstawionego sygnału opisać można dla przypadku idealnego za pomocą równań:

gdzie  jest amplitudą oraz  fazą harmonicznej sygnału wyjściowego  o wybranej pulsacji w przypadku idealnym, natomiast  jest pulsacją -tej harmonicznej analizowanego sygnału. Na podstawie danych zestawionych w tabeli  oraz zależności od eq:sym_partb_out_ideal_sum do eq:sym_partb_phi_out_ideal wyznaczono parametry sygnału  dla przypadku idealnego i zestawiono je w tabeli .



tab:sym_outb_params_idealParametry kolejnych harmonicznych sygnału  przyjęte w przeprowadzanym eksperymencie symulacyjnym dla sytuacji idealnej
[c] c  c  c  c   & Pulsacja , rad/s & Amplituda , V & Faza , rad 
 1 &  &  1.98 &            
 2 &  &  0.99 &  
 3 &  &  0.33 &        
 
Pierwszą omawianą grupę sygnałów błędów stanowią błędy własne, wprowadzane przez analizowany obiekt. Przyjmuje się, że temperatura otoczenia  wpływa na dryft zera analizowanego wzmacniacza zgodnie z zależnością opisaną równaniem:

oraz że w czasie wykonywania pojedynczej serii pomiarowej zmiany tej temperatury będą zbliżone do zera. Błąd statyczny własny, wynikający z dryftu zera spowodowanego zmianą temperatury otoczenia, zgodnie z równaniem eq:out_cont_err_env_self opisać można jako:

Sygnał błędu dynamicznego własnego, zdefiniowany w równaniach eq:mid_cont_err_dyn_prop oraz eq:out_cont_err_dyn_prop, opisać można na podstawie założeń danych równaniem eq:sym_parta_out_ideal_sum w postaci:

natomiast kolejne harmoniczne przedstawionego sygnału mogą być opisane następująco:

Wypadkowe wartości parametrów amplitudy oraz fazy dla kolejnych harmonicznych sygnału błędu dynamicznego własnego  zestawiono w tabeli , przy czym ich wartości wyznaczono analogicznie, jak w przykładzie opisanym dla poprzedniej części toru pomiarowego w równaniach od eq:sym_parta_dyn_self_example_harm do eq:sym_parta_dyn_self_example_phi.

Drugą grupę sygnałów błędów stanowią błędy propagowane, przenoszone z wejścia na wyjście obiektu. Sygnał błędu statycznego  jest przenoszony na wyjście obiektu zgodnie równaniami eq:mid_cont_err_stat_prop oraz eq:out_cont_err_stat_prop, zatem:

Sygnały błędów losowych  oraz  wielkości wejściowej są propagowane zgodnie z zależnością eq:out_cont_err_rand_prop, przy czym ze względu na niedeterministyczny opis tych sygnałów nie ma możliwości zdefiniowania postaci tych sygnałów w funkcji czasu. Stosując zaproponowany model błędów należy jedynie zdefiniować parametry tych sygnałów na wyjściu obiektu, zatem przyjmuje się, że sygnał błędu  na wyjściu obiektu związany jest z sygnałem  na jego wejściu, oraz że sygnał  na wyjściu obiektu jest powiązany z sygnałem . Na podstawie wprowadzonych założeń wypadkowy sygnał propagowanego błędu losowego wyrazić można w postaci:

Przetwarzany przez obiekt sygnał błędu dynamicznego  propagowany jest na wyjście zgodnie z równaniami eq:mid_cont_err_dyn_prop oraz eq:out_cont_err_dyn_prop, zatem wybraną harmoniczną sygnału propagowanego błędu dynamicznego  na wyjściu tego obiektu opisuje równanie:

gdzie wypadkowe parametry kolejnych harmonicznych  omawianego sygnału zestawiono w tabeli . Wypadkowy sygnał błędu dynamicznego propagowanego  na wyjściu analizowanego obiektu zdefiniować można zatem jako:

przy czym omówiony przypadek dotyczy założeń przyjętych w równaniu eq:sym_parta_dyn_self_sum, które wynikają z założonej w równaniu eq:sym_in_ideal postaci sygnału .

Parametry wypadkowe kolejnych harmonicznych sygnałów błędów dynamicznych własnych  oraz propagowanych  mogą być wyznaczone w sposób analogiczny, jak pokazano na przykładnie opisanym w równaniach od eq:sym_parta_dyn_self_example_sum do eq:sym_parta_dyn_self_example_phi. Wyznaczenie omawianych parametrów pozwoli na określenie wartości wariancji wymienionych sygnałów oraz wyznaczenie związanej z nimi wartości niepewności rozszerzonej. Wyznaczone zgodnie z metodą zaproponowaną w równaniach od eq:dyn_vect do eq:dyn_vect_phi wypadkowe amplitudy oraz fazy dla wskazanych sygnałów błędów dynamicznych przedstawiono w tabelach  oraz . Należy zauważyć, że wyznaczenie wypadkowych parametrów kolejnych harmonicznych analizowanych sygnałów nie jest konieczne z punktu widzenia stosowania zaproponowanego modelu błędów. Zabieg ten pozwala natomiast uprościć analizę poprzez redukcję liczby analizowanych sygnałów.



tab:sym_partb_params_dyn_selfParametry wypadkowe kolejnych harmonicznych sygnału błędu dynamicznego własnego analizowanego w eksperymencie symulacyjnym wzmacniacza pomiarowego
[c] c  c  S[table-format = 2.2]  S[table-format = +1.2]   & Pulsacja , rad/s & Amplituda , mV & Faza , rad 
 1 &   &   3.05  & -1.57  
 2 &   &   7.62  &  1.96  
 3 &   &   7.61  & -1.06  
 


tab:sym_partb_params_dyn_propParametry wypadkowe kolejnych harmonicznych sygnału błędu dynamicznego propagowanego analizowanego w eksperymencie symulacyjnym wzmacniacza pomiarowego
[c] c  c  S[table-format = 2.2]  S[table-format = +1.2]   & Pulsacja , rad/s & Amplituda , mV & Faza , rad 
 1 &   &   6.19  & -1.57  
 2 &   &  15.47  &  1.95  
 3 &   &  15.46  & -1.09  
 
Cel następnego etapu rozważań stanowi określenie parametrów wariancji oraz niepewności rozszerzonych dla opisanych dotychczas sygnałów błędów. Ze względu na liniowy charakter analizowanego obiektu, wynikający z przyjętych założeń, opisanych w równaniach eq:sym_partb_out_ideal oraz eq:sym_partb_trans, na wyjściu obiektu zachowane zostaną oryginalne kształty rozkładów wszystkich propagowanych sygnałów błędów . Wobec powyższych, znając wariancję tych sygnałów na wyjściu obiektu, wyznaczenie związanej z nimi wartości niepewności rozszerzonej odbywać się może zgodnie z zależnością eq:unc_sum. Wpływ transmitancji obiektu na wartość wariancji propagowanych sygnałów błędów opisany został wcześniej równaniem eq:mid_cont_var_omega, natomiast wpływ funkcji przetwarzania na tą wielkość, w przypadku liniowej funkcji przetwarzania, określa zależność eq:out_cont_var_sense. Można zatem zapisać, w przypadku sygnału propagowanego błędu statycznego:

przy czym . W przypadku wypadkowego sygnału błędu dynamicznego  wariancje kolejnych składowych tego sygnału opisać można zgodnie z zależnością eq:dyn_var, przy czym parametry jego harmonicznych zestawiono w tabelach  oraz . Wariancje sygnałów błędów losowych  oraz  można natomiast opisać w funkcji pulsacji, jako:

przy czym postać przedstawionych zależności wynika z faktu, że w zakresie częstotliwości  transmitancja obiektu nie wpływa na widmo przetwarzanych sygnałów błędów losowych. Można zatem, zgodnie z zależnością eq:out_cont_err_rand_prop, przyjąć założenia gdzie  oraz . Wartości niepewności rozszerzonych związanych z analizowanymi sygnałami opisują zatem równania:

gdzie  oraz . Należy zauważyć, że w przypadku istnienia wpływu transmitancji obiektu na widmową gęstość mocy analizowanych sygnałów, w celu wyznaczenia wartości niepewności rozszerzonej związanej z tymi sygnałami należałoby określić średnią wartość wariancji tych sygnałów dla analizowanego zakresu częstotliwości, określoną równaniem eq:mid_cont_var_rand. Tabela  przedstawia budżet niepewności wielkości wyjściowej analizowanego wzmacniacza pomiarowego z uwzględnieniem podziału na sygnały błędów własnych i propagowanych, sporządzony na podstawie przedstawionych rozważań.



tab:sym_partb_params_unc_listBudżet niepewności wielkości wyjściowej analizowanego w eksperymencie symulacyjnym wzmacniacza pomiarowego, gdzie () oznacza przetwornik pomiarowy oraz () oznacza wzmacniacz pomiarowy
[c] c  c  S[table-format = 2.2]  S[table-format = 3.2]  c  c  Lp. & Symbol & , mV & , V & Rozkład & Źródło błędu 
 1  &        & 11.52 &  36.75  & trójkątny                    & dryft temperatury ()                    
 2  &        & 8.15  &  18.38  & trójkątny                    & dryft temperatury ()                    
 3  &      & 9.93  &  36.26  & jednostajny                  & nieliniowość obiektu ()                 
 4  &      & 16.70 &  72.64  & normalny                     & szum wielkości wejściowej                  
 5  &      & 6.21  &  19.14  & 6*dwumodalny  & 3*transmitancja ()       
 1-4
6  &      & 15.53 &  119.62 &                              &                                            
 1-4
7  &      & 15.52 &  119.44 &                              &                                            
 1-4 6-6
8  &      & 3.06  &  4.64   &                              & 3*transmitancja ()       
 1-4
9  &      & 7.65  &  29.00  &                              &                                            
 1-4
10 &      & 7.65  &  28.99  &                              &                                            
 
Dla źródeł błędów wymienionych w budżecie niepewności, zestawionym w tabeli , konieczne jest określenie wzajemnych korelacji pomiędzy sygnałami błędów. Należy zauważyć, że składowe związane z dryftem temperaturowym przetwornika pomiarowego oraz dryftem temperaturowym wzmacniacza zależą od tej samej wielkości fizycznej - temperatury otoczenia. Jako, że wymienione sygnały błędów nie zależą od żadnej innej wielkości, a dodatkowo równania eq:sym_parta_stat_err oraz eq:sym_partb_temp_err cechują się dodatnią czułością względem tej wielkości, można założyć pełną dodatnią korelacje analizowanych sygnałów błędów, zatem . W przypadku kolejnych harmonicznych sygnałów błędów dynamicznych wartość współczynnika korelacji tych składowych może być obliczona zgodnie z równaniem eq:dyn_corr. Można zauważyć, że wartość tego współczynnika dla par składowych o różnej pulsacji każdorazowo wyniesie zero. W przypadku par harmonicznych sygnałów błędów dynamicznych o identycznej pulsacji, na podstawie danych zawartych w tabelach  oraz , zauważyć można, że współczynnik korelacji zbliżony będzie od jedności, ze względu na zbliżoną do zera różnicę w fazach tych sygnałów. W przypadku pozostałych par sygnałów wartości współczynników korelacji będą zerowe.

Biorąc pod uwagę przedstawione informacje na temat istniejących korelacji pomiędzy analizowanymi sygnałami błędów należy zauważyć, że zastosowanie opisanej równaniem eq:unc_matrix metody wyznaczania wypadkowej wartości niepewności rozszerzonej nie będzie możliwe dla wartości współczynników koherencji wyznaczanych zgodnie z równaniem eq:unc_coher. Ograniczenie to wynika z faktu, że opisane w równaniach eq:unc_cohercorra oraz eq:unc_cohercorrb korekty, a także wartości współczynników kształtu, wyznaczane zgodnie z równaniem eq:unc_shapertwo, nie są odpowiednie dla sytuacji, gdzie pomiędzy analizowanymi sygnałami występuje korelacja. Proponuje się zatem, w celu umożliwienia zastosowania przedstawionej metody analizy, wyznaczenie wypadkowych parametrów wariancji i niepewności rozszerzonych dla skorelowanych grup sygnałów. Jako, że zaproponowana operacja prowadzi do redukcji liczby analizowanych sygnałów błędów poprzez wprowadzenie wypadkowych sygnałów dla analizowanych grup, proponuje się równolegle określić budżet niepewności dla rozważanego fragmentu toru pomiarowego, który zorientowany będzie pod kątem charakteru realizacji wymienionych w nim sygnałów.

Na podstawie zależności od eq:sym_partb_err_sw do eq:sym_partb_dyn_prop_sum, zgodnie z równaniem eq:out_cont_err_sum_all, opisać można wprowadzony w równaniu eq:sym_partb_out_real wypadkowy sygnał błędu  wielkości wyjściowej analizowanego wzmacniacza pomiarowego następującym równaniem:

w którym kolejne składniki przedstawionego sygnału zdefiniowane są w postaci:

gdzie  jest wypadkowym sygnałem błędu statycznego,  dynamicznego oraz  losowego. Wypadkowy sygnał błędu dynamicznego opisać można w postaci:

przy czym  jest wypadkową amplitudą, natomiast  wypadkową fazą harmonicznej tego sygnału o wskazanej pulsacji. Wyznaczenie wypadkowych wartości amplitudy oraz fazy dla kolejnych harmonicznych sygnału błędu dynamicznego  przebiega zgodnie z metodą zaproponowaną w równaniach od eq:dyn_vect do eq:dyn_vect_phi, przy czym kolejne składniki tych harmonicznych wymienione zostały w równaniach eq:sym_partb_dyn_self_err oraz eq:sym_partb_dyn_prop_err. Przedstawiony proces odbywać się może również z wykorzystaniem parametrów opisanych w tabelach  oraz , przy czym niezależnie od stosowanej metody uzyskuje się identyczne wyniki obliczeń. Wartości omawianych parametrów, wyznaczone zgodnie z przedstawionymi zależnościami, zestawiono w tabeli .



tab:sym_partb_params_dyn_summaryParametry wypadkowe kolejnych harmonicznych sygnału błędu dynamicznego analizowanego w eksperymencie symulacyjnym wzmacniacza pomiarowego
[c] c  c  S[table-format = 2.2]  S[table-format = +1.2]   & Pulsacja , rad/s & Amplituda , mV & Faza , rad 
 1 &   &   9.23  & -1.57  
 2 &   &  23.08  &  1.96  
 3 &   &  23.07  & -1.07  
 
Parametry wypadkowego sygnału błędu statycznego , zdefiniowanego zależnością eq:sym_partb_error_stat, opisują równania eq:var_matrix oraz eq:unc_matrix, przy czym:

gdzie współczynniki koherencji  w przypadku pełnej dodatniej korelacji, jaka ma miejsce w omawianym przypadku. W przypadku sygnałów błędów losowych propagowanych korelacja nie występuje, a zatem wariancja wypadkowego sygnału błędu losowego  jest wyznaczana zgodnie z zależnością eq:var_sum, zatem:

Wypadkową niepewność rozszerzoną w analizowanym przypadku wyznaczyć można zgodnie z równaniem eq:unc_matrix, a zatem jej wartość wynosi:

Dla kolejnych harmonicznych wypadkowego sygnału błędu dynamicznego, zestawionych w tabeli , wartość wariancji wyznaczana jest zgodnie z równaniem eq:dyn_var, natomiast wartość niepewności rozszerzonej wyznacza się na podstawie wzoru eq:unc_sum dla .

Stosując zależności przedstawione w równaniach od eq:sym_partb_stat_var do eq:sym_partb_rand_uncert oraz dane zawarte w tabeli  sporządzono budżet niepewności uwzględniający podział na zaproponowane w pracy kategorie sygnałów błędów, który zestawiono w tabeli . Ze względu na konieczność przeprowadzania dalszej analizy w dziedzinie pulsacji, nie wyznaczano wypadkowych parametrów błędu dynamicznego  oraz parametrów wypadkowego sygnału błędu  wielkości wyjściowej .



tab:sym_partb_params_unc_sumBudżet niepewności wielkości wyjściowej analizowanego w eksperymencie symulacyjnym wzmacniacza pomiarowego uwzględniający wypadkowe parametry sygnałów błędów
[c] c  c  S[table-format = 2.2]  S[table-format = 3.2]  c  c  Lp. & Symbol & , mV & , V & Rozkład & Źródło błędu 
 1 &         & 19.67 &  107.12 & trójkątny                    & wypadkowy dryft temperatury                
 2 &         & 20.43 &  108.90 & normalny                     & szum i nieliniowość obiektu                
 3 &       & 9.20  &  42.60  & 3*dwumodalny  & 3*wypadkowa transmitancja   
 1-4
4 &       & 23.01 &  266.34 &                              &                                            
 1-4
5 &       & 23.00 &  266.11 &                              &                                            
 
W celu weryfikacji poprawności założeń zastosowanego modelu błędów oraz przeprowadzonych obliczeń wykonano eksperyment metodą Monte-Carlo, polegający na wyznaczeniu 100000 razy wartości realizacji wielkości wyjściowej  analizowanego obiektu. Podczas eksperymentu fazę sygnału wejściowego  losowano z przedziału  o jednakowym prawdopodobieństwie wystąpienia każdej z wartości. Uzyskiwaną wartość realizacji wielkości wyjściowej porównywano z wartością otrzymaną dla fragmentu toru pomiarowego w przypadku idealnym (tj. z taką, dla której nie występowały żadne źródła błędów), a następnie na podstawie równania eq:sym_partb_out_real wyznaczano realizację błędu wielkości wyjściowej . Na podstawie uzyskanych wartości realizacji sygnału błędu, zgodnie z równaniem eq:unc_summation, określono wartość niepewności rozszerzonej związanej z tym sygnałem. Eksperyment wykonano uwzględniając wszystkie źródła błędów oraz uwzględniając tylko źródła związane z sygnałami błędu statycznego , dynamicznego  oraz losowego . Uzyskane na drodze eksperymentu histogramy przedstawiono na rysunku .



fig:symul_partb_histHistogramy realizacji sygnałów błędów a) statycznego, b) dynamicznego, c) losowego, d) wypadkowego wielkości wyjściowej analizowanego w eksperymencie symulacyjnym wzmacniacza pomiarowego uzyskane metodą Monte-Carlo

Analizując wyniki eksperymentu zauważyć można, że uzyskane wartości dla sygnałów błędów losowego oraz statycznego są zbliżone do tych przedstawionych w tabeli . Pozwala to zakładać, że podobnie jak w przypadku analizy właściwości przetwornika pomiarowego, przyjęty model błędów oraz stosowane zależności poprawnie określają związki pomiędzy wskazanymi sygnałami błędów i umożliwiają poprawne oszacowanie ich parametrów. Na dotychczasowym etapie przeprowadzonej analizy nie wyznaczano wypadkowych parametrów sygnału błędu dynamicznego  oraz sygnału błędu wypadkowego  - dane te, jak pokazano na obecnym przykładzie, nie są niezbędne podczas analizy kolejnych fragmentów toru pomiarowego, przy czym zostały one wyznaczone w ramach analizy poprzedniej części tego toru w celu weryfikacji zaproponowanej metody obliczeń.

Analiza przetwornika analogowo-cyfrowego

Kolejnym elementem wchodzącym w skład analizowanego toru pomiarowego jest przetwornik analogowo-cyfrowy. W eksperymencie zakłada się, że element ten jest realizowany przy użyciu 8 przetwornika wagowego, którego dopuszczalna wartość napięcia wejściowego zawiera się w przedziale . Wobec powyższych liczba dostępnych wartości realizacji wielkości wyjściowej  tego przetwornika wynosi , natomiast wartość kwantu jest równa .

Zakładając, że wielkością wyjściową  analizowanego przetwornika będzie dyskretna reprezentacja wielkości wejściowej  wyrażona w jednostce tej wielkości, na podstawie równania eq:adc_qerror oraz równań od eq:adc_out_ideal do eq:adc_out_error zapisać można:

gdzie  jest okresem próbkowania. Na podstawie zależności danych równaniami od eq:adc_function do eq:adc_qerrrange zapisać można nierówność określającą przedział, w jakim znajdować się mogą wartości realizacji sygnału błędu kwantowania  jako:

Analizując równanie eq:sym_partc_out_real zauważyć można, że rzeczywiste wartości realizacji błędu kwantowania  zależne są od wartości realizacji wielkości wejściowej . Jednakże, jak wykazano w pracach , zależność tą można pominąć. Przy założeniu, że uzyskanie na wejściu przetwornika dowolnej wartości z zakresu wartości wielkości wejściowej jest jednakowo prawdopodobne oraz że podczas pomiaru wielkość ta będzie się zmieniać, błąd kwantowania oznaczony jako  rozpatrywać można w kategoriach probabilistycznych, jako losową realizację wielkości z zakresu opisanego nierównością eq:sym_partc_error_quant o rozkładzie jednostajnym . Podejście to umożliwia zastosowanie zaproponowanego w pracy modelu błędów, gdzie analiza zakładająca funkcję przetwarzania daną w postaci równania eq:adc_output byłaby niemożliwa. Wariancja  oraz niepewność rozszerzona , związane z sygnałem , wynoszą:

gdzie zgodnie z założeniami opisanymi w  przyjmuje się model błędu kwantowania zbliżony do modelu addytywnego szumu o stałej widmowej gęstości mocy i jednakowym prawdopodobieństwie uzyskania każdej z możliwych realizacji tego błędu.

Aby zweryfikować poprawność przedstawionych zależności przeprowadzono eksperyment stosując metodę Monte-Carlo. W ramach eksperymentu 100000 razy wyznaczono wartość realizacji wielkości wyjściowej analizowanego obiektu, a następnie porównano ją z wartością idealną, uzyskaną dla fragmentu toru pomiarowego w którym nie występowały żadne źródła błędów. Działanie analizowanego przetwornika opisane było równaniem zgodnym z zależnością eq:adc_output. Na podstawie uzyskanych zgodnie z równaniem eq:sym_partc_out_real wartości realizacji sygnału błędu wyznaczono wariancję tego sygnału oraz niepewność rozszerzoną na podstawie równania eq:unc_summation. Identyczny eksperyment przeprowadzono ponownie z tą różnicą, że jako jedyne źródło błędów uwzględniono w nim obecność procesu kwantowania w celu oszacowania parametrów sygnału błędu kwantowania. Rysunek  przedstawia uzyskane na drodze eksperymentu histogramy.



fig:symul_partc_histHistogramy realizacji sygnałów błędów a) kwantowania, b) wypadkowego wielkości wyjściowej analizowanego w eksperymencie symulacyjnym przetwornika analogowo-cyfrowego uzyskane metodą Monte-Carlo

Przedstawione na rysunkach  oraz  histogramy pozwalają stwierdzić, że przyjęte dla modelu błędu kwantowania założenia są poprawne. W poprzednim eksperymencie wartość wariancji  wypadkowego sygnału błędu wielkości wejściowej przetwornika analogowo-cyfrowego wyniosła 788.18V. W bieżącym eksperymencie wartość wariancji  wypadkowego sygnału błędu wielkości wyjściowej tego przetwornika wyniosła 835.18V. Oszacowana wartość wariancji  sygnału błędu kwantowania dla założenia  wyniosła 46.88V, a związana z nią niepewność rozszerzona wyniosła 11.16mV. Uzyskane wartości pokrywają się z tymi wyznaczonymi na podstawie równań eq:sym_partc_var_quant oraz eq:sym_partc_uncert_quant dla modelu błędu kwantowania . Korelację pomiędzy wypadkowym sygnałem błędu  wielkości wejściowej analizowanego przetwornika oraz rzeczywistym sygnałem błędu kwantowania  określić można na podstawie równania eq:var_corr, przy czym jej wartość wynosi:

Jako, że omawiana korelacja jest pomijalnie mała, zasadne jest przyjęcie założenia braku korelacji sygnałów  oraz , wobec którego . Zgodnie z założeniami eq:adc_varout oraz eq:adc_errout przedstawić można zatem następujące relacje:

opisujące sygnały błędów na wyjściu analizowanego obiektu i związane z nimi wariancje. Na podstawie przedstawionych dotychczas zależności oraz danych zawartych w tabeli  sporządzono budżet niepewności wielkości wyjściowej  analizowanego przetwornika analogowo-cyfrowego, który zestawiono w tabeli .



tab:sym_partc_params_unc_listBudżet niepewności wielkości wyjściowej analizowanego w eksperymencie symulacyjnym przetwornika analogowo-cyfrowego, gdzie () oznacza przetwornik pomiarowy, () oznacza wzmacniacz pomiarowy oraz () oznacza przetwornik analogowo-cyfrowy
[c] c  c  S[table-format = 2.2]  S[table-format = 3.2]  c  c  Lp. & Symbol & , mV & , V & Rozkład & Źródło błędu 
 1  &      & 11.16 &  45.78  & jednostajny                  & proces kwantowania ()                   
 2  &      & 11.52 &  36.75  & trójkątny                    & dryft temperatury ()                    
 3  &      & 8.15  &  18.38  & trójkątny                    & dryft temperatury ()                    
 4  &      & 9.93  &  36.26  & jednostajny                  & nieliniowość obiektu ()                 
 5  &      & 16.70 &  72.64  & normalny                     & szum wielkości wejściowej                  
 6  &    & 6.21  &  19.14  & 6*dwumodalny  & 3*transmitancja ()       
 1-4
7  &    & 15.53 &  119.62 &                              &                                            
 1-4
8  &    & 15.52 &  119.44 &                              &                                            
 1-4 6-6
9  &    & 3.06  &  4.64   &                              & 3*transmitancja ()       
 1-4
10 &    & 7.65  &  29.00  &                              &                                            
 1-4
11 &    & 7.65  &  28.99  &                              &                                            
 
Przedstawiony w tabeli  budżet niepewności dobrze obrazuje źródła sygnałów błędów występujące w analizowanym torze pomiarowym oraz jednoznacznie wskazuje ich parametry. Na dalszym etapie analizy stosowanie przedstawionego zestawienia jest jednak kłopotliwe, ponieważ wiąże się z koniecznością analizy każdego ze wskazanych sygnałów błędów z osobna. Ze względu na fakt, że proponowany w pracy model błędów dotyczący kolejnego fragmentu toru pomiarowego, jakim jest algorytm transformacji falkowej, wymaga jedynie określenia parametrów wypadkowych sygnałów błędów statycznego i losowego oraz wypadkowych parametrów kolejnych harmonicznych sygnału błędu dynamicznego, proponuje się sporządzenie budżetu niepewności uwzględniającego opisywany podział, podobnie jak to miało miejsce w przypadku poprzedniego elementu analizowanego toru pomiarowego.

Parametry opisujące wypadkowy sygnał błędu losowego wyznaczyć można zgodnie z równaniami eq:var_sum oraz eq:unc_matrix, które w obecnym przypadku przyjmują postać:


Na podstawie wyznaczonej w równaniu eq:sym_partc_rand_factor wartości współczynnika rozszerzenia oraz ze względu na spełnienie w analizowanym przypadku warunków centralnego twierdzenia granicznego, zakładać można normalny rozkład wypadkowego sygnału błędu losowego. Biorąc pod uwagę przedstawione dotychczas założenia, wyniki zawarte w tabelach  oraz , jak również wyniki obliczeń przedstawionych w równaniach eq:sym_partc_rand_var oraz eq:sym_partc_rand_uncert, sporządzono budżet niepewności z uwzględnieniem omawianego wcześniej podziału, który zestawiono w tabeli .



tab:sym_partc_params_unc_sumBudżet niepewności wielkości wyjściowej analizowanego w eksperymencie symulacyjnym przetwornika analogowo-cyfrowego z uwzględnieniem podziału na wypadkowe sygnały błędów statycznych, dynamicznych oraz losowych
[c] c  c  S[table-format = 2.2]  S[table-format = 3.2]  c  c  Lp. & Symbol & , mV & , V & Rozkład & Źródło błędu 
 1 &         & 19.67 &  107.12 & trójkątny                    & wypadkowy dryft temperatury                
 2 &         & 24.53 &  154.68 & normalny                     & szum, nieliniowość, konwersja              
 3 &       & 9.20  &  42.60  & 3*dwumodalny  & 3*wypadkowa transmitancja   
 1-4
4 &       & 23.01 &  266.34 &                              &                                            
 1-4
5 &       & 23.00 &  266.11 &                              &                                            
 
Analiza algorytmu transformacji falkowej

Ostatnim, przy czym najistotniejszym z punktu widzenia pracy, fragmentem analizowanego toru pomiarowego jest algorytm dyskretnej transformacji falkowej. Zakłada się, że dla każdej -tej realizacji pomiaru na wejście algorytmu podawany jest wektor wielkości wejściowych  złożony z  występujących po sobie próbek wielkości wyjściowej  przetwornika analogowo-cyfrowego. Wyjście analizowanego algorytmu stanowi wektor  składający się z  wielkości, które stanowią ostateczne wielkości wyjściowe analizowanego toru pomiarowego. Omawiany algorytm wykorzystuje falkę db2, przy czym na jego realizację składają się dwie iteracje procesu dekompozycji sygnału. Macierz transformacji  omawianego algorytmu przedstawia równanie eq:db2_2_8_matrix. Zakłada się, że implementacja stosowanego algorytmu wykorzystuje liczby zmiennoprzecinkowe połowicznej precyzji, o długości słowa 16 .

Wobec powyższych założeń oraz modelu zaproponowanego w równaniach od eq:alg_out_mat do eq:alg_out_single wektor wielkości wejściowych analizowanego algorytmu opisać można w postaci:

zatem wektor sygnałów błędów wielkości wyjściowych może być zdefiniowany jako:

Dodatkowo zdefiniować można kolejne wektory sygnałów błędów, rozpatrując zaproponowany podział na błędy statyczne, losowe oraz dynamiczne, gdzie:

przy czym w analogiczny sposób rozpatrywać można wektory sygnałów błędów cząstkowych, których parametry zestawiono w tabeli . Wobec powyższego, zgodnie z równaniem eq:alg_out_mul, wektor wielkości wyjściowych opisać można jako:

gdzie  jest wektorem sygnałów błędów własnych zaokrągleń, natomiast kolejne wektory sygnałów błędów wielkości wyjściowej są opisane w postaci:


Należy zauważyć, że tak jak w przypadku wektora wielkości wejściowych, tak i w przypadku wektora wielkości wyjściowych, wyróżnić można również osobne wektory realizacji sygnałów błędów dla każdego z opisanych w tabeli  sygnałów. Zgodnie z oznaczeniami przyjętymi w równaniach eq:db2_invect oraz eq:db2_outvect, wektory wielkości wejściowych  i wyjściowych  pojedynczej realizacji algorytmu dla -tego okna pomiarowego są w dalszej części rozdziału oznaczane symbolami:

natomiast wektor sygnałów błędów wielkości wyjściowej  dla wybranej -tej iteracji realizacji algorytmu jest oznaczany w postaci:

gdzie w miejsce symbolu  umieszczany jest symbol analizowanego sygnału błędu.

W poprzednich podrozdziałach przedstawiono różne sposoby wyznaczania budżetu niepewności, uwzględniające każde źródło błędu z osobna oraz wskazujące wypadkowe parametry danego rodzaju błędu. Zabiegi te miały na celu wskazanie optymalnej drogi analizy właściwości metrologicznych z punktu widzenia projektanta toru pomiarowego, tak aby nie wykonywał on czynności nieistotnych z punktu widzenia przeprowadzanej analizy. Opisywany zabieg został również przeprowadzony w celu weryfikacji postawionej w pracy tezy, jako przy wykorzystaniu zaproponowanej metody analizy istnieje możliwość wyznaczenia jedynie zastępczych parametrów sygnałów błędów wielkości wejściowej algorytmu dyskretnej transformacji falkowej w celu oszacowania wartości niepewności na wyjściu tego algorytmu. W dalszej części rozdziału opisane zostały dwa sposoby wyznaczenia niepewności wielkości wyjściowych algorytmu. Podejście pierwsze uwzględniać będzie budżet niepewności podzielony na kategorie błędów, opisany w tabeli , natomiast podejście drugie przedstawi analizę z wykorzystaniem budżetu sporządzonego dla każdego sygnału błędu z osobna, który przedstawiono w tabeli .

Istotnym faktem podczas analizy właściwości metrologicznych stosowanego algorytmu jest to, że jego wielkości wejściowe każdorazowo pochodzą z tego samego źródła. Powtarzając proces wyznaczania wartości wektora wielkości wyjściowych algorytmu wielokrotnie, wszystkie wielkości wejściowe algorytmu cechują te same parametry wariancji i niepewności rozszerzonej. Zjawisko to zostało omówione w poprzedniej części pracy. Ze względu na fakt, że w przypadku błędów o charakterze statycznym, wartości realizacji tych błędów nie zmieniają się w obrębie pojedynczego okna pomiarowego, do oceny wariancji wyjściowego sygnału związanego z tym rodzajem błędu stosowano równanie eq:alg_outvar_stat. Do określenia parametrów sygnałów błędów o charakterze dynamicznym wykorzystano transmitancję odpowiednią dla pojedynczej wielkości wyjściowej algorytmu, daną równaniem eq:alg_trans_single. W przypadku sygnałów błędów o charakterze losowym wykorzystano zależność eq:alg_outvar_rand, ze względu na stałą widmową gęstość mocy tych sygnałów w zakresie częstotliwości . Przedstawione w dalszej części obliczenia dotyczą dwóch przykładowych wielkości wyjściowych algorytmu -  oraz . Wybór wskazanych wielkości jest uzasadniony faktem, że pierwsza z nich stanowi aproksymacje sygnału (jest związana z filtrem dolno-przepustowym, utworzonym na bazie funkcji skalującej), natomiast druga stanowi detale sygnału (jest związana z filtrem pasmowo-przepustowym, utworzonym na bazie falki-matki). Parametry pozostałych wielkości wyjściowych analizowano identycznie, natomiast dla zachowania czytelności pracy nie przedstawiono przykładów obliczeń.

Błędy statyczne przenoszone są przez analizowany algorytm z wejścia na wyjście zgodnie z równaniem eq:alg_outerr_stat, a zatem zgodnie z zależnością eq:alg_outvar_stat może zostać wyznaczona ich wariancja, przy czym na etapie analizy dla każdej wielkości wyjściowej wyznaczana jest wartość współczynnika , zgodnie z równaniem eq:alg_trans_stat. W przypadku błędów losowych, przenoszonych zgodnie z zależnością eq:alg_outerr, ich wariancja jest wyznaczana zgodnie z równaniem eq:alg_outvar_rand, przy czym do jej wyznaczenia stosowane są współczynniki  wyznaczone zgodnie z zależnością eq:alg_trans_rand. Wartości omawianych wielkości wynoszą w rozważanym przypadku:

Należy zauważyć, że zgodnie z oczekiwaniami wielkość wyjściowa  nie będzie obarczona błędem statycznym w związku z faktem, że jest ona związana z filtrem pasmowo-przepustowym. Dodatkowo zauważyć można, że dla wszystkich wielkości wyjściowych współczynnik  każdorazowo będzie równy jedności, co wynika z założenia rodziny Daubechies odnośnie normalizacji energii .

Zgodnie z równaniem eq:alg_trans_single oraz postacią macierzy  daną równaniem eq:db2_2_8_matrix, transmitancje algorytmu związane z omawianymi wielkościami wyjściowymi w dziedzinie  przedstawiają następujące równania:

Podstawiając do powyższych równań założenie gdzie  otrzymuje się zależności opisujące transmitancje wybranych wierszy w funkcji pulsacji znormalizowanej :

przy czym pulsacja znormalizowana  dla okresu próbkowania . Wobec powyższych, zgodnie z zależnościami eq:mid_disc_amp oraz eq:mid_disc_phi, wyznaczyć można wzmocnienie oraz przesunięcie fazowe dla analizowanych wielkości wyjściowych w funkcji pulsacji oraz wskazać można rzeczywistą i urojoną część transmitancji analizowanych wielkości:


Przedstawione zależności pozwalają zgodnie z równaniem eq:mid_disc_err_dyn_prop określić, w jaki sposób algorytm przenosi z wejścia na wyjście obecne w przetwarzanym sygnale harmoniczne sygnału błędu dynamicznego. Zgodnie z wcześniejszymi założeniami przyjmuje się, że transmitancja algorytmu jest idealna, a zatem obiekt ten nie wprowadza do wielkości wyjściowych żadnych sygnałów błędów o charakterze deterministycznym. Jako, że analizowany algorytm jest ostatnim elementem rozważanego toru pomiarowego, z punktu widzenia właściwości metrologicznych istotna jest jedynie amplituda kolejnych harmonicznych sygnału błędu dynamicznego, która pozwoli oszacować wariancję związaną z analizowaną częstotliwością sygnału błędu. Znajomość fazy przetwarzanej harmonicznej błędu dynamicznego będzie istotna tylko wtedy, gdy zaistnieje konieczność wyznaczania wypadkowych parametrów kilku harmonicznych o tej samej pulsacji. Parametry wypadkowe harmonicznych sygnału błędu dynamicznego są wyznaczane zgodnie z zależnościami od eq:dyn_vect do eq:dyn_vect_phi, natomiast do wyznaczenia ich wariancji stosowane jest równanie eq:dyn_var.

Na podstawie danych zawartych w tabeli  oraz równania eq:sym_partd_output_as_S_2_0 parametry wariancji sygnałów błędów statycznych propagowanych dla wielkości wyjściowej  wyznaczyć można zgodnie z zależnością eq:alg_outvar_trans_stat, gdzie dla omawianej wielkości:

natomiast na podstawie równania eq:sym_partd_output_ar_S_2_0 wartość wariancji propagowanego sygnału błędu losowego może być wyznaczona zgodnie z zależnością eq:alg_outvar_trans_rand, przy czym:

W przypadku sygnałów błędów dynamicznych wariancje kolejnych harmonicznych tych sygnałów wyznaczyć można na podstawie zależności eq:dyn_var oraz eq:alg_outvar_dyn:

Ze względu na brak korelacji przedstawionych sygnałów błędów, wariancję sygnału błędu wypadkowego wyznaczyć można zgodnie z równaniem eq:var_sum, jako sumę wariancji kolejnych sygnałów błędów cząstkowych, wobec czego zachodzi zależność:

gdzie  jest wariancją sygnału błędu własnego zaokrągleń i zgodnie z tabelą  wynosi w rozpatrywanym przypadku 0.974V, natomiast współczynnik rozszerzenia  jest równy 2.16. Zgodnie z zależnościami zachodzącymi w równaniach od eq:sym_partd_output_var_stat_S_2_0 do eq:sym_partd_output_var_dyn_3_S_2_0, kolejne wartości niepewności rozszerzonych sygnałów błędów cząstkowych wielkości wyjściowej  wynoszą odpowiednio:

Przedstawione zależności stanowią dane niezbędne do wyznaczenia wypadkowej wartości niepewności rozszerzonej związanej z analizowaną wielkością wyjściową algorytmu.

Wyznaczenie wypadkowej wartości niepewności rozszerzonej odbywa się zgodnie z zależnością eq:unc_matrix. Wymagane jest zatem wyznaczenie wzajemnych relacji pomiędzy składanymi niepewnościami cząstkowymi w postaci macierzy koherencji, której wartości są wyznaczane zgodnie z równaniem eq:unc_coher. Można zatem zapisać, że:

gdzie symbolem  oznaczono wektor cząstkowych niepewności rozszerzonych:

natomiast macierz koherencji oznaczona symbolem  jest dana w postaci:

Podstawiając do powyższych zależności wyprowadzone w równaniach od eq:sym_partd_output_unc_roun_S_2_0 do eq:sym_partd_output_unc_dyn_3_S_2_0 wielkości oraz wyznaczając zgodnie z równaniem eq:unc_coher kolejne wartości współczynników koherencji dla analizowanych danych oraz wartości współczynników kształtu zestawionych w tabelach  oraz  otrzymuje się:

Jako, że w analizowanej sytuacji spełnione zostały warunki centralnego twierdzenia granicznego, wyznaczenie wypadkowej wartości niepewności rozszerzonej jest możliwe przyjmując założenie zbliżonego do normalnego kształtu rozkładu wypadkowego sygnału błędu. Wobec przedstawionego założenia wartość wypadkowej niepewności rozszerzonej może zostać oszacowana zgodnie z równaniem eq:unc_sum dla , zatem:

Porównując wartości otrzymane stosując zależność eq:sym_partd_output_unc_total_b_S_2_0 z wynikami uzyskanymi w równaniu eq:sym_partd_output_unc_total_a_S_2_0 zauważyć można, że obydwie metody zapewniają podobne wyniki, przy czym metoda pierwsza jest znacznie bardziej skomplikowana i wymaga oszacowania wzajemnych relacji pomiędzy składanymi niepewnościami cząstkowymi. W dalszej cześć podrozdziału wyznaczone wartości zostały porównane z wynikami eksperymentu przeprowadzonego metodą Monte-Carlo w celu weryfikacji ich poprawności.

Analogicznie, jak w przypadku przedstawionych powyżej rozważań, parametry wariancji sygnałów błędów propagowanych dla wielkości wyjściowej  wyznaczyć można w przypadku przetwarzanych przez algorytm błędów statycznych i losowych jako:

natomiast w przypadku kolejnych harmonicznych sygnału błędu dynamicznego w postaci:

Zgodnie z tabelą  wartość wariancji  sygnału błędu własnego zaokrągleń wynosi w tym przypadku 0.699V. Wobec powyższych, zgodnie z równaniem eq:var_sum, wariancję sygnału błędu wypadkowego wielkości wyjściowej  opisuje zależność:

natomiast niepewności rozszerzone analizowanych sygnałów błędów składowych wynoszą:

Oznaczając symbolem  wektor niepewności cząstkowych oraz symbolem   macierz koherencji związane z analizowaną wielkością , wartość wypadkowej niepewności rozszerzonej tej wielkości wyznaczyć można zgodnie z równaniem eq:unc_matrix:

Na podstawie wartości wyznaczonych zgodnie z zależnościami od eq:sym_partd_output_unc_roun_T_1_0 do eq:sym_partd_output_unc_dyn_3_T_1_0 wyznaczono zgodnie z równaniem eq:unc_coher kolejne wartości współczynników koherencji dla macierzy opisanej w równaniu eq:sym_partd_output_unc_sumcoher_T_1_0_a, przy czym w obliczeniach stosowano wartości współczynników kształtu zestawione w tabelach  oraz . Ostatecznie, po podstawieniu do równania eq:sym_partd_output_unc_summul_T_1_0 uzyskanych wartości cząstkowych niepewności rozszerzonych oraz wartości współczynników koherencji otrzymuje się:

Zakładając zbliżony do normalnego kształt rozkładu sygnału błędu wypadkowego wielkości wyjściowej , wartość niepewności rozszerzonej tej wielkości oszacować można zgodnie z równaniem eq:unc_sum jako:

Na podstawie równań od eq:sym_partd_output_unc_roun_T_1_0 do eq:sym_partd_output_unc_dyn_3_T_1_0 zauważyć można, że przyjęte założenie może nie być właściwe. W analizowanej sytuacji występują cztery źródła błędów, a dodatkowo wyróżnić można dominujące źródła błędów w postaci sygnałów błędu dynamicznego o częstotliwości 15kHz oraz sygnału błędu losowego.
Porównując otrzymane wyniki zauważyć można, że oszacowana w równaniu eq:sym_partd_output_unc_total_b_T_1_0 wartość niepewności rozszerzonej jest mniejsza, niż ta oszacowana stosując metodę opisaną równaniem eq:sym_partd_output_unc_total_a_T_1_0.

Na podstawie powyższych rozważań w tabelach  oraz  zestawiono budżety niepewności analizowanych w przedstawionych przykładach wielkości wyjściowych, uwzględniające sygnały błędów z podziałem na ich kategorie. Parametry wypadkowe sygnału błędu dynamicznego wyznaczono analogicznie, jak w przykładzie eq:sym_parta_uncert_dyn. Symbolem  przy typie rozkładu oznaczono sytuacje, gdy kształt rozkładu przypomina ten określony w opisie, natomiast jego parametry odbiegają nieznacznie od standardowych parametrów tego rozkładu.



tab:sym_partd_params_unc_sum_S_2_0Budżet niepewności wielkości wyjściowej  analizowanego w eksperymencie symulacyjnym toru pomiarowego uwzględniający podział na błędy statyczne, dynamiczne i losowe
[c] c  c  S[table-format = 2.2]  S[table-format = 4.2]  c  c  Lp. & Symbol & , mV & , V & Rozkład & Źródło błędu 
 1 &                       & 2.13  &  0.99    & zaokrągleń   & operacje zmiennoprzecinkowe    
 2 &                       & 39.31 &  428.04  & trójkątny    & wypadkowy dryft temperatury    
 3 &                       & 24.38 &  154.68  & normalny     & szum, nieliniowość, konwersja  
 4 &                       & 49.89 &  880.66  & nieokreślony & wypadkowa transmitancja        
 2c & 74.00 &  1464.80 & normalny*    & błąd wypadkowy                 
 


tab:sym_partd_params_unc_sum_T_1_0Budżet niepewności wielkości wyjściowej  analizowanego w eksperymencie symulacyjnym toru pomiarowego uwzględniający podział na błędy statyczne, dynamiczne i losowe
[c] c  c  S[table-format = 2.2]  S[table-format = 3.2]  c  c  Lp. & Symbol & , mV & , V & Rozkład & Źródło błędu 
 1 &                       & 1.81  &  0.70    & zaokrągleń   & operacje zmiennoprzecinkowe    
 2 &                       & 0.00  &  0.00    & nieokreślony & wypadkowy dryft temperatury    
 3 &                       & 24.38 &  154.68  & normalny     & szum, nieliniowość, konwersja  
 4 &                       & 30.84 &  427.37  & nieokreślony & wypadkowa transmitancja        
 2c & 43.61 &  582.68  & nieokreślony & błąd wypadkowy                 
 
Parametry pozostałych wielkości wyjściowych wyznaczono analogicznie, jak miało to miejsce w przedstawionych wcześniej przykładach. Dodatkowo, w celu weryfikacji zaproponowanych w pracy zależności i przedstawionego modelu błędów, wykonano eksperyment metodą Monte-Carlo, w którym 100000 razy powtórzono proces wyznaczania wartości wielkości wyjściowych analizowanego toru pomiarowego. Każdorazowo z przedziału  losowano fazę początkową przetwarzanego sygnału , przy czym uzyskanie każdej z możliwych wartości realizacji fazy początkowej było jednakowo prawdopodobne. Wartości uzyskanych realizacji wielkości wyjściowych porównywano z wartościami dla toru pomiarowego, w którym nie występowały żadne źródła błędów, a następnie zgodnie z równaniem eq:sym_partd_errvect określano aktualną realizację wektora błędów wielkości wyjściowych. Na podstawie uzyskanych wartości realizacji sygnałów błędów wyznaczano ich wariancję, niepewność rozszerzoną oraz współczynnik rozszerzenia, zgodnie z równaniami eq:unc_summation oraz eq:unc_sum.

W tabeli  zestawiono wyniki przeprowadzonego eksperymentu oraz wyniki uzyskane stosując zaproponowaną w pracy metodę analizy. Symbolem  oznaczono wypadkową wartość wariancji sygnału błędu uzyskaną obliczeniowo, analogicznie do przykładów przedstawionych w równaniach eq:sym_partd_output_var_sum_S_2_0 oraz eq:sym_partd_output_var_sum_T_1_0, natomiast symbolem  oznaczono wartość wariancji uzyskaną na drodze eksperymentu. Symbolem  oznaczono wartość niepewności rozszerzonej wyznaczoną przy założeniu zbliżonego do normalnego kształtu rozkładu błędu wypadkowego analizowanej wielkości wyjściowej, która w przykładzie wyznaczana była w równaniach eq:sym_partd_output_unc_total_b_S_2_0 oraz eq:sym_partd_output_unc_total_a_T_1_0. Symbolem  oznaczono wartość niepewności rozszerzonej uzyskaną przy użyciu metody redukcyjnej arytmetyki interwałowej, stosowanej w równaniach eq:sym_partd_output_unc_total_a_S_2_0 oraz eq:sym_partd_output_unc_total_b_T_1_0. Symbolem  oznaczono wartość niepewności rozszerzonej uzyskaną na drodze eksperymentu. Symbole  oraz  oznaczają kolejno współczynnik rozszerzenia wyznaczony na podstawie równania eq:unc_sum dla wielkości  oraz ten uzyskany symulacyjnie dla wielkości . Symbole  oraz  oznaczają błąd względny oszacowania wartości niepewności rozszerzonej w odniesieniu do wartości uzyskanej w eksperymencie, wyrażony w procentach i wyznaczany zgodnie z zależnością eq:unc_error. Dodatkowo na rysunkach  oraz  przedstawiono histogramy dla realizacji sygnałów błędów analizowanych w przykładzie wielkości wyjściowych, wraz z podziałem na kategorie błędów składowych. Błędy własne zaokrągleń zostały uwzględnione na rysunkach jako składowe błędów losowych. Rysunek  przedstawia wyniki symulacji dla wielkości wyjściowej  i nawiązuje do wartości zestawionych w tabeli , natomiast rysunek  dotyczy wielkości wyjściowej  i stanowi weryfikacje danych zawartych w tabeli .



tab:sym_partd_params_unc_sum_aZestawienie wyników eksperymentu mającego na celu weryfikacje poprawności zaproponowanej w pracy tezy w przypadku stosowania budżetu niepewności uwzględniającego wypadkowe parametry sygnałów błędów należących do wskazanych kategorii
[c] c *2S[table-format = 4.2] *3S[table-format = 2.2] *2S[table-format = 1.2] *2S[table-format = +1.2]  2*Wielkość & 2cWariancja, V & 3cNiepewność, mV & 2cKształt & 2cBłąd, % 
 2-10
&  &  &  &  &  &  &  &  &  
  & 1464.80 & 1470.92 & 75.01 & 74.00 & 72.87 & 1.93 & 1.90 & +2.94 & +1.55 
  & 1210.56 & 1212.75 & 68.19 & 68.44 & 67.09 & 1.97 & 1.93 & +1.64 & +2.01 
  & 854.39  & 854.70  & 57.29 & 56.26 & 53.89 & 1.92 & 1.84 & +6.31 & +4.40 
  & 901.72  & 901.29  & 58.86 & 55.59 & 54.92 & 1.85 & 1.83 & +7.17 & +1.22 
  & 582.68  & 584.52  & 47.31 & 43.61 & 43.76 & 1.81 & 1.81 & +8.11 & -0.34 
  & 582.56  & 583.23  & 47.31 & 43.60 & 43.74 & 1.81 & 1.81 & +8.16 & -0.32 
  & 582.56  & 582.96  & 47.31 & 43.60 & 43.76 & 1.81 & 1.81 & +8.11 & -0.37 
  & 522.10  & 522.10  & 44.79 & 43.64 & 43.17 & 1.91 & 1.89 & +3.75 & +1.09 
 
Analizując wartości zestawione w tabeli  zauważyć można, że wyniki uzyskane zgodnie z metodą opisaną równaniem eq:unc_matrix w bardzo niewielkim stopniu odbiegają od wyników symulacji wykonanej metodą Monte-Carlo. Maksymalna wartość względnego błędu oszacowania wartości niepewności rozszerzonej nie przekracza 5, co pokrywa się z przyjętymi założeniami. W przypadku metody przyjmującej założenie o zbliżonym do normalnego kształcie rozkładu wypadkowego sygnału błędu, oszacowane wartości niepewności rozszerzonej znacznie różnią się od tych uzyskanych symulacyjnie. Uproszczenie to można przyjąć tylko wtedy, gdy spełnione są warunki wynikające z centralnego twierdzenia granicznego , co nie zawsze miało miejsce w przedstawionych przykładach. Na przykładzie wielkości wyjściowej  można było zauważyć, że warunki te nie były spełnione, natomiast w przypadku wielkości wyjściowej  przyjęte założenia okazały się właściwe. Stosowanie przedstawionej dla wielkości  metody znacznie ułatwia obliczenia, a dodatkowo można zauważyć mniejsze rozbieżności dla przypadków, w których omawiane warunki stosowania tej metody były właściwe. Niestety, w przypadku przyjęcia błędnych założeń, uzyskiwane wartości obarczone są błędem przewyższającym 5 wartości prawdziwej, a co za tym idzie nie można ich uznać za prawidłowe dla przyjętych w pracy założeń.



fig:symul_partd_hist_S_2_0Histogramy realizacji sygnału błędu a) statycznego, b) dynamicznego, c) losowego, d) wypadkowego wielkości wyjściowej  analizowanego w eksperymencie symulacyjnym toru pomiarowego uzyskane metodą Monte-Carlo

Na podstawie histogramów przedstawionych na rysunkach  oraz  zauważyć można, że oszacowane w równaniach od eq:sym_partd_output_unc_roun_S_2_0 do eq:sym_partd_output_unc_dyn_3_S_2_0 oraz od eq:sym_partd_output_unc_roun_T_1_0 do eq:sym_partd_output_unc_dyn_3_T_1_0 parametry sygnałów błędów pokrywają się z tymi uzyskanymi symulacyjnie. Współczynnik  określony w równaniu eq:sym_partd_output_as_T_1_0 wskazujący relacje pomiędzy wejściową i wyjściową wariancją błędów statycznych w przypadku wielkości wyjściowej  jest w przybliżeniu równy zero. W rzeczywistości natomiast, ze względu na niewymierność kolejnych współczynników wiersza macierzy transformacji powiązanych z analizowaną wielkością wyjściową, współczynnik ten jest niezerowy. Fakt ten zauważyć można na podstawie rysunku , gdzie teoretycznie wszystkie realizacje błędu statycznego powinny być zerowe. Omawiana rozbieżność jest jednak bardzo niewielka i nie wpływa zupełnie na uzyskane wyniki obliczeń.



fig:symul_partc_hist_T_1_0Histogramy realizacji sygnału błędu a) statycznego, b) dynamicznego, c) losowego, d) wypadkowego wielkości wyjściowej  analizowanego w eksperymencie symulacyjnym toru pomiarowego uzyskane metodą Monte-Carlo

Ostatecznie wnioskować można, że przeprowadzony eksperyment potwierdził poprawność zaproponowanej metody analizy oraz stworzonego na potrzeby pracy modelu błędów. Oszacowana wartość wariancji dla analizowanych sygnałów błędów była każdorazowo zbieżna z wartością uzyskaną metodą symulacyjną. Uzyskane wartości niepewności rozszerzonych, wyznaczane z użyciem redukcyjnej arytmetyki interwałowej, cechowały się rozbieżnością na poziomie mniejszym, niż wymagany w założeniach pracy. Eksperyment wykazał możliwość stosowania uproszczenia obliczeń, które wynika bezpośrednio z warunków centralnego twierdzenia granicznego. Stosowanie omawianego uproszczenia dopuszczalne jest tylko i wyłącznie w określonych warunkach, natomiast w nieuzasadnionych przypadkach skutkować będzie przekraczającym 5 błędem oszacowania wartości niepewności rozszerzonej.

Identyczną analizę wykonano wykorzystując budżet niepewności zestawiony w tabeli . Parametry kolejnych składowych sygnałów błędów wyznaczono analogicznie, jak miało to miejsce w przykładach opisanych zależnościami od eq:sym_partd_output_var_stat_S_2_0 do eq:sym_partd_output_var_dyn_3_S_2_0 oraz od eq:sym_partd_output_unc_stat_S_2_0 do eq:sym_partd_output_unc_dyn_3_S_2_0. W tabelach  oraz  zestawiono budżety niepewności dla analizowanych wielkości wyjściowych  oraz .



tab:sym_partd_params_unc_list_S_2_0Budżet niepewności wielkości wyjściowej  analizowanego w eksperymencie symulacyjnym toru pomiarowego obejmujący wszystkie źródła błędów
[c] c  c  S[table-format = 2.2]  S[table-format = 3.2]  c  c  Lp. & Symbol & , mV & , V & Rozkład & Źródło błędu 
 1  &      & 2.13  &   0.97  & zaokrągleń                   & operacje zmiennoprzecinkowe                
 2  &      & 13.26 &  45.78  & normalny                     & proces kwantowania ()                   
 3  &      & 11.80 &  36.26  & normalny                     & nieliniowość obiektu ()                 
 4  &      & 16.70 &  72.64  & normalny                     & szum wielkości wejściowej                  
 5  &      & 23.04 &  147.00 & trójkątny                    & dryft temperatury ()                    
 6  &      & 16.29 &  73.52  & trójkątny                    & dryft temperatury ()                    
 7  &    & 12.32 &  76.40  & 6*dwumodalny  & 3*transmitancja ()       
 1-4
8  &    & 25.08 &  316.38 &                              &                                            
 1-4
9  &    & 2.35  &  2.77   &                              &                                            
 1-4 6-6
10 &    & 6.07  &  18.52  &                              & 3*transmitancja ()       
 1-4
11 &    & 12.35 &  76.70  &                              &                                            
 1-4
12 &    & 1.16  &  0.67   &                              &                                            
 


tab:sym_partd_params_unc_list_T_1_0Budżet niepewności wielkości wyjściowej  analizowanego w eksperymencie symulacyjnym toru pomiarowego obejmujący wszystkie źródła błędów
[c] c  c  S[table-format = 2.2]  S[table-format = 3.2]  c  c  Lp. & Symbol & , mV & , V & Rozkład & Źródło błędu 
 1  &      & 1.81  &  0.70   & zaokrągleń                   & operacje zmiennoprzecinkowe                
 2  &      & 13.26 &  45.78  & normalny                     & proces kwantowania ()                   
 3  &      & 11.80 &  36.26  & normalny                     & nieliniowość obiektu ()                 
 4  &      & 16.71 &  72.64  & normalny                     & szum wielkości wejściowej                  
 5  &      & 0.00  &  0.00   & trójkątny                    & dryft temperatury ()                    
 6  &      & 0.00  &  0.00   & trójkątny                    & dryft temperatury ()                    
 7  &    & 0.06  &  0.00   & 6*dwumodalny  & 3*transmitancja ()       
 1-4
8  &    & 3.77  &  7.13   &                              &                                            
 1-4
9  &    & 19.16 &  184.65 &                              &                                            
 1-4 6-6
10 &    & 0.03  &  0.00   &                              & 3*transmitancja ()       
 1-4
11 &    & 1.85  &  1.73   &                              &                                            
 1-4
12 &    & 9.44  &  44.82  &                              &                                            
 
Ze względu na korelacje wybranych sygnałów błędów wielkości wejściowych rozważanego algorytmu, wyznaczenie wypadkowych wartości wariancji sygnałów błędów dla kolejnych wielkości wyjściowych przeprowadzane jest zgodnie z zależnością eq:var_matrix. W dalszej części rozważań przyjęto, że symbol  oznacza wektor złożony z odchyleń standardowych sygnałów błędów składowych wielkości wyjściowej algorytmu, przy czym  oznacza symbol analizowanej wielkości wyjściowej. Macierz korelacji oznaczona symbolem  jest jednakowa dla wszystkich wielkości wyjściowych tego algorytmu i składa się z dwunastu wierszy i kolumn, co wynika z liczby analizowanych sygnałów błędów. Przyjmuje się, że kolejne wielkości zawarte w wektorze  oraz kolejne elementy macierzy  są związane z sygnałami błędów zestawionymi w tabelach  oraz , a dodatkowo kolejność wyrazów omawianych wielkości jest zgodna z tą daną w tabelach. Wobec powyższych, równanie eq:var_matrix przyjmuje postać:


Uwzględniając pełną dodatnią korelacje pary sygnałów błędów statycznych wzmacniacza i przetwornika pomiarowego przyjmuje się, że . Dodatkowo na podstawie danych zawartych w tabelach  oraz , współczynniki korelacji kolejnych harmonicznych sygnału błędu dynamicznego o jednakowej częstotliwości są zbliżone do jedności, co wynika z równania eq:dyn_corr, a zatem  dla . Wobec powyższych, kolejne elementy macierzy korelacji  przyjmują wartości:


Zgodnie z zależnościami eq:sym_partd_output_varmat_list oraz eq:sym_partd_output_coher_list, po podstawieniu danych z tabel  oraz , otrzymuje się wartości wariancji wypadkowych sygnałów błędów wielkości wyjściowych  oraz , przy czym kolejno:

Można zauważyć, że wyznaczone w ten sposób wartości są identyczne, jak te wyznaczone wcześniej w równaniach eq:sym_partd_output_var_sum_S_2_0 oraz eq:sym_partd_output_var_sum_T_1_0.

Występowanie korelacji pomiędzy analizowanymi sygnałami błędów powoduje, że bezpośrednie zastosowanie metody opisanej równaniem eq:unc_matrix dla współczynników koherencji wyznaczanych zgodnie z równaniem eq:unc_coher nie jest możliwe. Aby umożliwić zastosowanie omawianej metody, proponuje się wyprowadzenie zależności opisujących wypadkowe parametry niepewności rozszerzonej dla grup skorelowanych sygnałów.

Dla sygnałów błędów statycznych wzmacniacza i przetwornika pomiarowego zapisać można następującą zależność, która określa wypadkową wartość niepewności rozszerzonej analizowanej pary sygnałów:

przy czym w przypadku pełnej dodatniej korelacji tych sygnałów, tj. dla , zachodzi . Podobną zależność opisać można dla kolejnych par skorelowanych sygnałów błędów dynamicznych o jednakowej pulsacji:

gdzie ze względu na pełną dodatnią korelację zachodzi . W analizowanych przypadkach, opisanych równaniami eq:sym_partd_output_static_corrunc oraz eq:sym_partd_output_dynamic_corrunc, zauważyć można, że wypadkowe sygnały błędów cechować się będą identycznymi kształtami rozkładów, jak ich składowe.

Wobec powyższych, wektor niepewności rozszerzonych kolejnych sygnałów błędów dla wielkości wyjściowych analizowanego toru pomiarowego przedstawić można jako:

natomiast macierz koherencji, której wartości wyznaczane są zgodnie z równaniem eq:unc_coher, opisać można dla kolejnych wielkości wyjściowych w postaci:

przy czym kolejność elementów przedstawionej macierzy odpowiada kolejności elementów w wektorze niepewności rozszerzonych opisanym równaniem eq:sym_partd_output_unc_sumuvect, gdzie przykładowo . Ostatecznie, wartość wypadkowej niepewności rozszerzonej może być oszacowana zgodnie z równaniem eq:unc_matrix:


Podstawiając do równania eq:sym_partd_output_static_corrunc wartości z tabel  oraz  otrzymuje się wypadkowe wartości niepewności rozszerzonych dla sygnałów wypadkowych skorelowanych błędów statycznych wielkości  oraz , które wynoszą odpowiednio:

natomiast w przypadku równania eq:sym_partd_output_dynamic_corrunc dla pierwszej harmonicznej sygnałów błędów dynamicznych omawianych wielkości zachodzi:

Parametry pozostałych harmonicznych sygnałów błędów dynamicznych wyznaczono w analogiczny sposób, zatem obliczenia z nimi związane nie zostały przedstawione. Po podstawieniu uzyskanych wyników do równania eq:sym_partd_output_unc_sumuvect otrzymuje się wektory składowych niepewności rozszerzonych dla analizowanych wielkości wyjściowych:

przy czym kolejne wyrazy macierzy koherencji dla analizowanych wielkości wyjściowych wyznaczane są zgodnie z równaniem eq:unc_coher, a zatem przyjmują wartości:

Po podstawieniu powyższych wartości do równania eq:sym_partd_output_unc_totalmat otrzymuje się wartości wypadkowych niepewności rozszerzonych analizowanych wielkości wyjściowych toru pomiarowego, gdzie kolejno wynoszą one:


Przedstawione w równaniach eq:sym_partd_output_unc_totalmat_S_2_0 oraz eq:sym_partd_output_unc_totalmat_T_1_0 obliczenia wykonano ponownie, dla macierzy koherencji których wartości wyznaczone zostały bez uwzględnienia korekty zaproponowanej w równaniu eq:unc_cohercorra, tj. kiedy w równaniu eq:unc_coher przyjmuje się  dla dowolnej pary  oraz . Otrzymane wartości wyniosły kolejno  oraz . Podobne obliczenia wykonano dla pozostałych wielkości wyjściowych.

W tabeli  zestawiono wyniki obliczeń dla pozostałych wielkości wyjściowych oraz te uzyskane w poprzednim eksperymencie, w celu umożliwienia ich porównania. Symbolem  oznaczono wartości uzyskane przy założeniu normalnego rozkładu sygnału błędu wypadkowego, natomiast symbolem  oznaczono wartości uzyskane z wykorzystaniem budżetu niepewności opisanego w tabeli . Wartości oznaczone symbolem  dotyczą analizy z wykorzystaniem budżetu niepewności opisanego w tabeli , przy czym wielkości oznaczone symbolem  wyznaczono identycznie, jak , z tą różnicą, że nie stosowano korekty opisanej równaniem eq:unc_cohercorra w procesie wyznaczania wartości współczynników koherencji. Podobnie, jak w zestawieniu zawartym w tabeli , wielkości oznaczone symbolem  dotyczą przeprowadzonego eksperymentu metodą Monte-Carlo, natomiast symbolem  oznaczono wyrażony w procentach błąd względny oszacowania wartości niepewności rozszerzonej  w odniesieniu do wartości , wyznaczany zgodnie z zależnością eq:unc_error.



tab:sym_partd_params_unc_sum_bPorównanie uzyskanych przedstawionymi w pracy metodami wartości wypadkowych niepewności rozszerzonych kolejnych wielkości wyjściowych analizowanego w eksperymencie symulacyjnym toru pomiarowego
[c] c *5S[table-format = 2.2] *4S[table-format = +1.2]  2*Wielkość & 5cNiepewność, mV & 4cBłąd, % 
 2-10
&  &  &  &  &  &  &  &  &  
  & 75.01 & 74.00 & 74.10 & 77.32 & 72.87 & +2.94 & +1.55 & +1.69 & +6.11 
  & 68.19 & 68.44 & 68.43 & 71.52 & 67.09 & +1.64 & +2.01 & +2.00 & +6.60 
  & 57.29 & 56.26 & 55.91 & 57.58 & 53.89 & +6.31 & +4.40 & +3.75 & +6.85 
  & 58.86 & 55.59 & 55.60 & 59.47 & 54.92 & +7.17 & +1.22 & +1.24 & +8.28 
  & 47.31 & 43.61 & 43.37 & 46.09 & 43.76 & +8.11 & -0.34 & -0.89 & +5.32 
  & 47.31 & 43.60 & 43.37 & 46.08 & 43.74 & +8.16 & -0.32 & -0.85 & +5.35 
  & 47.31 & 43.60 & 43.37 & 46.08 & 43.76 & +8.11 & -0.37 & -0.89 & +5.30 
  & 44.79 & 43.64 & 43.39 & 45.43 & 43.17 & +3.75 & +1.09 & +0.51 & +5.24 
 
Analizując wyniki przedstawione w tabeli  zauważyć można, że zaproponowana w pracy metoda szacowania wypadkowej wartości niepewności rozszerzonej wraz z zastosowaniem proponowanego modelu błędów zapewniają wyniki zbieżne z tymi uzyskanymi symulacyjnie. Korekta wartości współczynników koherencji opisana równaniem eq:unc_cohercorra pozwala na znaczne zmniejszenie rozbieżności pomiędzy szacowaną zgodnie z równaniem eq:unc_matrix wartością, a wartością uzyskiwaną symulacyjnie, w stosunku do wartości uzyskanych bez stosowania opisanej korekty. Wartości uzyskane przy zastosowaniu budżetu niepewności zawierającego jedynie wypadkowe parametry sygnałów błędów z uwzględnieniem na wprowadzone kategorie błędów są zbieżne z wartościami uzyskanymi dla budżetu obejmującego charakterystykę każdego z sygnałów błędów. Rozbieżności pomiędzy wartościami oznaczonymi symbolami  oraz  wynikają z innego oszacowania wartości współczynników koherencji.

Podsumowanie rozdziału

Przedstawione w bieżącym rozdziale rozważania i przeprowadzone eksperymenty potwierdzają poprawność proponowanego w pracy modelu błędów oraz skuteczność stosowanej metody redukcyjnej arytmetyki interwałowej. Oszacowane zgodnie z równaniem eq:unc_matrix wartości wypadkowej niepewności rozszerzonej dla współczynników koherencji szacowanych zgodnie z zależnością eq:unc_coher każdorazowo okazywały się zbieżne z wynikami uzyskiwanymi dla przeprowadzonych metodą Monte-Carlo eksperymentów. Wartości niepewności rozszerzonych oszacowane stosując zaproponowaną w pracy korektę wartości współczynników koherencji, daną równaniem eq:unc_cohercorra, były bliższe uzyskanym eksperymentalnie. W praktyce pomiarowej zaproponowana korekta wartości współczynników koherencji nie jest wymagana, jeżeli dopuszcza się przekraczający 5 względny błąd oszacowania wartości wypadkowej niepewności rozszerzonej. Należy również brać pod uwagę, że oszacowane w proponowany sposób wartości niepewności rozszerzonej mogą być w pewnych przypadkach nieco niższe, niż wartości prawdziwe. Różnice te nie przekraczają jednak -3 wartości prawdziwej, co wykazano w eksperymencie, którego wyniki przedstawiono wcześniej na rysunku  oraz w przedstawionych dotychczas przykładach obliczeń.

W przypadku, gdy analizowane sygnały błędów składowych cechować się będą nietypowym rozkładem realizacji tych sygnałów, stosowanie omawianej w pracy metody wymagać będzie wyznaczenia wartości współczynników kształtu dla wszystkich analizowanych typów rozkładów. Jest to jedyna czynność, której przeprowadzenie nie będzie mogło zwykle odbywać się w czasie pracy systemu pomiarowego i będzie musiała ona zostać przeprowadzona na etapie identyfikacji jego właściwości . Podobny problem napotkać można w przypadku wystąpienia korelacji pomiędzy analizowanymi sygnałami błędów składowych - należy wtedy postąpić identycznie, jak pokazano w przykładzie lub zastosować inną metodę wyznaczania wartości elementów macierzy koherencji, jak chociażby pokazano w pracy .

Przedstawiona w równaniach od eq:sym_partd_output_static_corrunc do eq:sym_partd_output_unc_totalmat analiza umożliwiła wykorzystanie zaproponowanej metody szacowania wartości współczynników koherencji, opisanej równaniem eq:unc_coher mimo, że metoda ta nie jest odpowiednia dla analizy skorelowanych sygnałów. Możliwość zastosowania opisanego algorytmu wynika z faktu, że wypadkowe sygnały dla skorelowanych grup sygnałów cechują się typowym kształtem rozkładu, dla którego wyznaczono wcześniej wartości współczynników kształtu. W innych okolicznościach należałoby wyznaczyć odpowiednie dla analizowanych parametrów sygnałów wartości współczynników koherencji.

Jako, że żaden z etapów szacowania wypadkowej wartości niepewności rozszerzonej zgodnie z zaproponowaną metodą nie wymaga przeprowadzania dodatkowych symulacji metodą Monte-Carlo, a wykonywane obliczenia sprowadzają się w większości przypadków do prostych operacji arytmetycznych, przedstawiona metoda może zostać zaimplementowana w torze pomiarowym w celu bieżącej oceny jego właściwości metrologicznych. W przypadku zmiany parametrów sygnałów błędów obecnych w analizowanym torze pomiarowym wymagane jest jedynie ponowne wyznaczenie wartości macierzy koherencji i wskazanie parametrów istniejących sygnałów błędów. Istotnymi parametrami analizowanych sygnałów błędów jest w tym przypadku wartość niepewności rozszerzonej dla wybranego, identycznego dla wszystkich wielkości poziomu ufności oraz rodzaj rozkładu realizacji analizowanego sygnału.

Stosowanie uproszczenia, gdzie zakłada się normalny rozkład realizacji sygnału błędu wypadkowego, pozwala znacznie uprościć proces wyznaczania wypadkowej wartości niepewności rozszerzonej i zastąpić konieczność stosowania zależności eq:unc_matrix oraz eq:unc_coher wyznaczeniem wariancji wypadkowego sygnału błędu. Stosowanie omawianego uproszczenia wymaga posiadania pewności odnoście spełnienia warunków centralnego twierdzenia granicznego. Jak wykazały przeprowadzone eksperymenty, nawet dla kilkunastu źródeł błędów, gdzie większość z nich nie jest wzajemnie skorelowana, założenie to może okazać się niespełnione, co skutkuje znaczną rozbieżnością pomiędzy oszacowaną, a prawdziwą wartością niepewności rozszerzonej na poziomie zbliżonym do 10.

Mimo, że wprowadzenie do proponowanego modelu błędów funkcji przetwarzania obiektu może być zastąpione wprowadzeniem statycznego wzmocnienia w równaniu transmitancji obiektu, obecność tej funkcji umożliwia bardziej spójną i logiczną analizę rzeczywistych obiektów. Nawet, jeśli rzeczywista postać funkcji przetwarzania nie jest znana, to wprowadzany przez nią sygnał błędu można opisać odpowiednią zależnością lub wskazać jego parametry, jak pokazano w omówionym przykładzie. Przeprowadzone badania wykazały, że w przypadku nieznanej rzeczywistej funkcji przetwarzania obiektu do oszacowania wpływu tej funkcji na postać sygnałów na wyjściu obiektu, wykorzystać można jej idealne równanie przetwarzania. Wskazana właściwość jest bardzo cenna w przypadku nieliniowości charakterystyki obiektu lub analizy przetwornika analogowo-cyfrowego.

Pomiarowa weryfikacja tezy

Ostatni etap pracy stanowi analiza właściwości metrologicznych zbudowanego na jej potrzeby toru pomiarowego, którego schemat blokowy przedstawiono na rysunku . Analizowany tor pomiarowy przetwarza zmienny w czasie sygnał napięciowy  o chwilowej wartości napięcia z przedziału . W celu dopasowania wartości napięcia sygnału  do zakresu napięcia wejściowego przetwornika analogowo-cyfrowego oraz zwiększenia impedancji wejściowej toru pomiarowego, sygnał  podawany jest na wejście wzmacniacza pomiarowego. Sygnał wyjściowy  wzmacniacza podawany jest następnie na wejście zintegrowanego z układem próbkująco-pamiętającym przetwornika analogowo-cyfrowego, gdzie przetwarzany jest na postać cyfrową, oznaczoną . Po wykonaniu odtwarzania statycznego, sygnał  podawany jest w postaci wielkości  na wejście jednostki DSP. Dla każdego -tego okna pomiarowego pobieranych jest  próbek sygnału , a następnie wyznaczanych jest  wartości wielkości wyjściowych wektora , stosując w tym celu algorytm dyskretnej transformacji falkowej.



fig:chain_realSchemat blokowy stworzonego na potrzeby pracy toru pomiarowego, będącego obiektem przeprowadzanego eksperymentu

Do realizacji układu wzmacniacza pomiarowego zastosowany został wzmacniacz operacyjny MCP6002  w konfiguracji nieodwracającej, o docelowym wzmocnieniu wynoszącym 3.3V V. Napięcie zasilania wzmacniacza wynosi 3.3V i pochodzi ze stabilizatora LD1117  typu LDO (ang. Low Dropout). Zaproponowana konfiguracja zapewnia wysoką impedancję wejściową toru pomiarowego oraz bardzo niską impedancję wyjściową wzmacniacza. Zgodnie z zaleceniami zawartymi w , na wyjściu wzmacniacza zastosowano dodatkowy filtr RC, złożony z rezystancji 100 oraz pojemności 48nF. Przyjmuje się, że oznaczony na rysunku  sygnał  jest sygnałem na wyjściu omawianego filtru. Nominalne wartości rezystorów w dzielniku napięcia pętli sprzężenia zwrotnego wynoszą kolejno 220k  oraz 100k , natomiast zastosowane w celu realizacji prototypu układu rezystory zostały dobrane tak, aby osiągnąć wymagane wzmocnienie. Ze względu na niedostateczne informacje zawarte w dokumentacji układu , parametry statyczne oraz dynamiczne analizowanego obiektu wymagają pomiarowej identyfikacji.

Przetwarzanie analogowo-cyfrowe realizowane jest przez 12 przetwornik wagowy SAR (ang. Successive Approximation Register), który zintegrowany jest w mikrokontrolerze STM32F411 . Źródło napięcia odniesienia stanowi w jego przypadku stabilizator AP7343  typu LDO, o znamionowym napięciu wyjściowym równym 3.3V, przyłączony z użyciem dodatkowego filtru LC. Przetwornik analogowo-cyfrowy taktowany jest sygnałem zegarowym o częstotliwości 12MHz, przy czym próbkowanie inicjowane jest sygnałem z licznika, którego częstotliwość wyzwalania wynosi . Po wyzwoleniu sygnału z licznika następuje śledzenie napięcia wejściowego, trwające 144takty zegara, po którym wykonywana jest konwersja analogowo-cyfrowa, trwająca 15taktów zegara, co w analizowanym przypadku stanowi łączny czas 13.25s. Ze względu na typowe zastosowanie omawianego przetwornika, jego najistotniejsze parametry, konieczne do aplikacji zaproponowanego w pracy modelu błędów, mogą zostać pozyskane z dokumentacji producenta układu . Dodatkowy algorytm odtwarzania statycznego przekształca sygnał wyjściowy  przetwornika analogowo-cyfrowego na sygnał  tak, aby stanowił on dyskretną reprezentację sygnału  o czułości 1V V względem tego sygnału.

Pozyskane próbki wielkości , stanowiące dyskretną reprezentację sygnału wejściowego , zapisywane są w wektorze  o długości . Wektor wielkości wejściowych  podawany jest na wejście algorytmu dyskretnej transformacji falkowej, którego implementacja zrealizowana została z wykorzystaniem instrukcji DSP dostępnych dla zastosowanego mikrokontrolera . Analizowany algorytm wykorzystuje falkę spline4:4  dla pięciu iteracji procesu dekompozycji sygnału. Zgodnie z równaniem eq:alg_out_mat wyznaczanych jest  próbek wektora wielkości wyjściowych , które stanowią wyjście dla pojedynczej -tej serii pomiarowej analizowanego toru pomiarowego. Wartości elementów macierzy transformacji  zidentyfikowano zgodnie z metodą przedstawioną w równaniu eq:wt_ident, wykorzystując w tym celu implementację algorytmu transformacji falkowej dostępną w programie GNU Octave . Czas obliczeń wynosi w analizowanym przypadku około 1.5ms, przy czym łączny czas akwizycji pojedynczego wektora próbek wielkości wejściowych wynosi 2.67ms. Podczas obliczeń stosowane są liczby zmiennoprzecinkowe pojedynczej precyzji o długości słowa 32, implementowane sprzętowo przez jednostkę FPU, obecną w zastosowanym mikrokontrolerze .

Przedstawiony tor pomiarowy pracuje w trybie ciągłym, tj. w pojedynczym -tym oknie pomiarowym, w czasie pobierania wartości realizacji kolejnych wielkości wejściowych wektora , wyznaczana jest realizacja wektora wielkości wyjściowych  dla poprzedniej realizacji wektora wielkości wejściowych . Wykorzystywany jest w tym celu kontroler DMA, nadzorujący proces buforowania kolejnych realizacji sygnału , w czasie gdy program główny wykonuje obliczenia dane równaniem eq:alg_out_mat. Analiza wartości wielkości wyjściowych omawianego toru pomiarowego jest możliwa między innymi po podłączeniu go do komputera klasy PC za pośrednictwem portu USB, przy czym wykorzystywany jest w tym celu układ peryferyjny USB OTG Full-Speed, zintegrowany w zastosowanym mikrokontrolerze. Alternatywną możliwość wymiany informacji z urządzeniem stanowi interfejs UART, natomiast ze względu na ograniczenie szybkości transferu danych przez ten interfejs, nie umożliwia on ciągłego śledzenia wyników pomiarów.

W dalszej części rozdziału opisano najważniejsze źródła błędów analizowanego toru pomiarowego, a następnie wykorzystano zaproponowany w pracy model błędów do opisu właściwości wskazanych sygnałów błędów. Ze względu na fakt, że nie jest znany dokładny model analizowanego toru pomiarowego, przeprowadzono identyfikację jego właściwości, istotnych ze względu na zaproponowany model błędów. W ostatniej części rozdziału opisano przeprowadzony eksperyment pomiarowy, wykorzystujący metodę Monte-Carlo, mający na celu ocenę poprawności przedstawionych rozważań i weryfikacje możliwości praktycznej aplikacji zawartych w pracy propozycji. Poza analizą właściwości metrologicznych zbudowanego toru pomiarowego, przeprowadzona analiza obejmowała również wpływ sygnałów błędów zawartych w przetwarzanej wielkości  na budżet niepewności analizowanego urządzenia. Podczas eksperymentów wykorzystano generator przebiegów arbitralnych, którego rzeczywiste parametry sygnału wyjściowego w zależności od wariantu eksperymentu weryfikowano, lub pozostawiano nieznane. Celem omawianego zabiegu było przedstawienie przykładu, w jaki sposób stosując zaproponowany w pracy model błędów należy rozpatrywać omawiane rozbieżności w nastawie parametrów syntezowanego sygnału. Temperatura otoczenia podczas przeprowadzania eksperymentów była stała i wynosiła 21.

Model błędów wielkości wejściowej

Jako, że w analizowanym przypadku źródło napięciowego sygnału wejściowego  toru pomiarowego stanowi generator przebiegów arbitralnych RIGOL DG1011 , należy uwzględnić jego właściwości w budżecie niepewności. Zgodnie z dokumentacją, błąd graniczny nastawy wartości amplitudy  sygnału wyjściowego generatora wynosi:

natomiast błąd graniczny nastawy składowej stałej  sygnału wyjściowego wynosi:

dla wartości zadanej omawianych parametrów równej , wyrażonej w woltach. Na podstawie powyższych zależności należy oszacować przedział dla zadanego poziomu ufności, w jakim znajduje się  wartości realizacji błędu nastawy amplitudy oraz błędu nastawy składowej stałej. Zgodnie z wytycznymi zawartymi w , dla przyjętego w pracy poziomu ufności  zapisać można:

gdzie  jest wartością zadaną dla analizowanego parametru wyrażoną w woltach. Należy zauważyć, że w przypadku pojedynczego przyrządu, omawiane rozbieżności w nastawie przedstawionych parametrów stanowią systematyczne źródło błędów, a ich wpływ nożna skorygować przeprowadzając kalibrację przyrządu. Niezależnie od wykonania kalibracji przyrządu, dla syntezowanego sygnału sinusoidalnie zmiennego o wartości zadanej amplitudy  oraz składowej stałej o wartości zadanej , sygnał  na wyjściu przyrządu opisać można w dziedzinie czasu za pomocą równań:

gdzie symbolem  oznaczono błąd statyczny, symbolem  błąd dynamiczny, natomiast symbolem  oznaczono sygnał błędu losowego. Deterministyczna postać sygnałów błędów  oraz  nie jest znana, jeżeli dla konkretnego modelu urządzenia nie zostanie wykonana kalibracja. Jeżeli eksperyment nie zakłada wykonywania kalibracji stosowanego przyrządu, koniczne jest wskazanie opisu przedstawionych sygnałów w kategorii probabilistycznej, przy czym należy wskazać parametry tych sygnałów, których wartości umożliwią wskazanie związanych z nimi niepewności rozszerzonych o zadanym poziomie ufności . Po wykonaniu kalibracji oraz wykonaniu korekty błędów systematycznych można przyjąć, że  oraz . W przypadku, gdy błędy systematyczne nie zostaną skorygowane po wykonaniu kalibracji, należy opisać deterministycznie przebiegi sygnałów związanych z tymi błędami oraz wskazać wartości ich wariancji i niepewności rozszerzonej.

W przypadku sygnału błędu statycznego  przyjąć można, że błąd ten powodowany jest rozbieżnością nastawy wartości składowej stałej. Wartość realizacji tego sygnału jest stała dla zadanej wartości parametru , natomiast jego parametry określać może wariancja oraz niepewność rozszerzona, definiowane na podstawie równania eq:pom_gen_amperr_unc. Zatem, w przypadku braku kalibracji przyrządu zapisać można:

gdzie  jest rzeczywistą wartością składowej stałej dla wartości zadanej równej . Po przeprowadzeniu kalibracji istnieje możliwość deterministycznego opisu sygnału  w funkcji zadanej wartości , przy czym wartość tego sygnału jest stała w czasie. Po wykonaniu korekty założyć można, że sygnał ten nie występuje, zatem .

Sygnał błędu dynamicznego  wynikać będzie z rozbieżności nastawy amplitudy względem wartości zadanej . Sygnał ten opisać można w postaci:

gdzie  jest wartością amplitudy oraz  fazą sygnału błędu dynamicznego w funkcji zadanej wartości amplitudy , natomiast  jest rzeczywistą amplitudą sygnału . Jako, że błąd nastawy amplitudy sygnału może przyjmować zarówno dodatni, jak ujemny znak, należy rozważać sygnał z nim związany dla obydwóch przypadków. Sytuacje te odróżnić należy analizując inną fazę  tego sygnału, przy czym dla dodatniej wartości rozbieżności zachodzi , natomiast dla ujemnej . Kalibracja przyrządu prowadzi do zdeterminowania zależności  i umożliwia korektę opisanego sygnału błędu. Jeżeli po wykonaniu wzorcowania nie uwzględnia się korekty związanej z nastawą amplitudy, to wariancję sygnału błędu  wyznaczyć można zgodnie z zależnością eq:dyn_var, natomiast w przypadku braku kalibracji, proponuje się wyznaczenie maksymalnej wartości wariancji tego sygnału w postaci:

która odpowiada maksymalnej wartości realizacji błędu nastawy amplitudy dla 95 przypadków. Należy zauważyć, że wartość amplitudy  sygnału błędu dynamicznego  jest stała w czasie i zależy jedynie od wartości parametru . Z uwagi na fakt, że bez procedury kalibracji rzeczywista wartość  nie jest znana, należy przyjąć taką wartość wariancji  sygnału błędu dynamicznego , która z prawdopodobieństwem 95 obejmie wszystkie możliwe przypadki realizacji tego błędu, niezależnie od użytego egzemplarza urządzenia dla zadanej wartości .

W przypadku sygnałów poliharmonicznych należy analizować przebieg sygnału błędu dynamicznego analogicznie, jak pokazano w równaniu eq:pom_gen_err_dyn_mono, przy czym przykładowo dla sygnału trójkątnego zapisać można:

zatem sygnał błędu dynamicznego zdefiniować można w postaci sumy harmonicznych tego sygnału o amplitudzie zależnej od realizacji błędu nastawy amplitudy:

Należy zaznaczyć, że w zależności od znaku realizacji błędu nastawy amplitudy zmienia się faza sygnału tego błędu. Wartość wariancji tego sygnału pozostaje niezmienna, natomiast znak realizacji błędu nastawy amplitudy jest istotny z punktu widzenia rozpatrywania korelacji sygnału błędu dynamicznego  generatora oraz pozostałych sygnałów błędów dynamicznych. Jako, że bez zabiegu wzorcowania przyrządu nie ma możliwości determinacji znaku realizacji omawianego błędu, w rachunkach należy rozważyć przypadek większej wartości wariancji wypadkowego sygnału błędu.

Ostatnim analizowanym sygnałem jest sygnał błędu losowego . Parametry tego sygnału oszacować można na podstawie dokumentacji urządzenia , przy czym w przypadku sygnału sinusoidalnego producent wymienia jako najważniejsze źródła błędów zniekształcenia harmoniczne oraz błąd nieliniowości charakterystyki wyjściowej. Zgodnie z dokumentacją, wariancję błędu losowego oszacować można dla przebiegu sinusoidalnego na podstawie mocy podstawowej harmonicznej tego przebiegu:

gdzie  jest wariancją podstawowej harmonicznej sygnału danego równaniem eq:pom_gen_out_ideal wyznaczoną na podstawie równania eq:dyn_var. Dla sygnału trójkątnego producent układu wskazuje błąd nieliniowości jako dominujący, przy czym wskazany w dokumentacji błąd graniczny pozwala oszacować wariancję sygnału błędu losowego jako:

gdzie  jest maksymalną wartością napięcia wyjściowego dla syntezowanego przebiegu trójkątnego. Przyjmuje się, że w przypadku sygnału sinusoidalnego, ze względu na wiele źródeł błędów o podobnej mocy, składających się na wypadkowy sygnał błędu losowego, sygnał ten cechuje się rozkładem normalnym, zatem . W przypadku sygnału trójkątnego przyjmuje się, że realizacja każdej z możliwych wartości sygnału błędu losowego jest jednakowo prawdopodobna, zatem . Innym sposobem identyfikacji parametrów sygnału błędu losowego jest analiza widma sygnału wyjściowego dla zadanych parametrów tego sygnału, która wymaga odpowiedniego przyrządu pomiarowego i nie została wykonana.

Poza wymienionymi źródłami sygnałów błędów dokumentacja urządzenia opisuje również błąd graniczny nastawy wartości częstotliwości oraz błąd związany z szumem fazy dla sygnału sinusoidalnego . Zgodnie z dokumentacją urządzenia błąd graniczny nastawy częstotliwości po roku wynosi maksymalnie 20ppm, natomiast współczynnik temperaturowy tej nastawy w przedziale  nie przekracza 2ppm. Błąd ten można dodatkowo skorygować stosując wyjście sygnału synchronizującego. Wobec przedstawionych danych nie rozważa się wpływu błędu związanego z nastawą parametru pulsacji  na proces wyznaczania wartości wielkości wyjściowych analizowanego toru pomiarowego. W przypadku szumu fazy moc sygnału błędu nie przekracza wartości -115dBc Hz dla różnicy częstotliwości równej 10kHz, natomiast charakterystyka widmowej gęstości mocy omawianego sygnału nie jest wskazana przez producenta, zatem sygnał ten został pominięty w rozważaniach.

Identyfikacja właściwości toru pomiarowego

Aplikacja zaproponowanego w pracy modelu błędów wymaga identyfikacji parametrów tego modelu, właściwych dla analizowanego toru pomiarowego. Pierwszą grupą identyfikowanych właściwości analizowanego toru pomiarowego stanowią jego właściwości statyczne. Właściwości te nie zależą od częstotliwości przetwarzanego sygnału i wynikają z charakterystyk przetwarzania statycznego kolejnych fragmentów tego toru. Jako, że z punktu widzenia zaproponowanego w pracy modelu błędów i sposobu jego aplikacji, najistotniejsze informacje stanowią dane dotyczące parametrów sygnałów błędów na wejściu algorytmu dyskretnej transformacji falkowej, najbardziej korzystne z punktu widzenia projektanta toru pomiarowego jest wyznaczenie tych parametrów traktując całość toru pomiarowego znajdującego się przed tym algorytmem, jak jeden obiekt o wypadkowych parametrach wszystkich pozostałych fragmentów tego toru. Proponuje się zatem wyznaczenie charakterystyki statycznej  dla wielkości wyjściowej  przetwornika analogowo-cyfrowego stosując metodologię podobną do zaproponowanej w pracy . Należy w tym celu na wejście toru pomiarowego podawać, z wzorcowego źródła napięcia, napięcie stałe o zadanej wartości, po czym pobierać wielokrotnie wartości realizacji wielkości wyjściowej  przetwornika analogowo-cyfrowego, które następnie należy uśrednić dla przeprowadzonej serii pomiarów. Podczas eksperymentu na wejście toru pomiarowego podawano napięcie stałe z zakresu , z krokiem wynoszącym 10mV. Na pojedynczą -tą serię pomiarową składało się trzydzieści tysięcy realizacji wielkości wyjściowej  przetwornika analogowo-cyfrowego, pobieranych z częstotliwością 48kHz. Źródło sygnału  stanowił kalibrator FLUKE 5700A , stąd założyć można, że przetwarzany sygnał  nie zawierał żadnych sygnałów błędów, a zatem wszystkie sygnały błędów obecne w torze pomiarowym stanowiły błędy własne tego toru.

Po wykonaniu aproksymacji średnich wartości  uzyskanych dla kolejnych serii pomiarowych funkcją liniową w postaci , wartość średnią  dla -tej serii pomiarowej oszacować można w rozważanej sytuacji zgodnie z równaniem:

gdzie  jest zadaną wartością napięcia dla analizowanej serii pomiarów. Zakładając, że czułość wielkości  w stosunku do wielkości  wynosi 1V V, szacowaną wartość średnią  w funkcji wartości  można opisać jako:

Odchylenie standardowe różnic uzyskanych pomiarowo wartości realizacji wielkości  oraz wartości ich aproksymacji opisanej równaniem eq:pom_func_static wyniosło , co interpretować można jako niepewność standardową nieliniowości charakterystyki przetwarzania . Uwzględniając algorytm odtwarzania statycznego, zgodnie z równaniem eq:pom_funx_static, niepewność standardowa związana z nieliniowością charakterystyki odtwarzania wielkości  wynosi odpowiednio . Uzyskane wartości wielkości  w funkcji wartości wielkości  oraz ich aproksymację, daną równaniem eq:pom_func_static, przedstawiono na rysunku  po stronie lewej.

Poza nieliniowością charakterystyki odtwarzania, dla sygnału  w budżecie niepewności uwzględnić należy występowanie pozostałych czynników zakłócających proces pomiaru. Czynniki te stanowią między innymi zakłócenia wynikające z fluktuacji napięcia zasilania wzmacniacza pomiarowego oraz napięcia odniesienia przetwornika analogowo-cyfrowego, błędy kwantowania, niejednorodność wzorców w strukturze wewnętrznej przetwornika analogowo-cyfrowego, czy szumy występujące w części analogowej toru pomiarowego . Sygnały błędów związane z wymienionymi zjawiskami nie są możliwe do opisania w sposób deterministyczny w analizowanej sytuacji. Jako, że z punktu widzenia proponowanego w pracy modelu błędów istotne są jedynie parametry wypadkowego sygnału błędu losowego , który w rozważanej sytuacji opisać można równaniem:

to parametry te można oszacować na podstawie wyników uzyskanych w ramach przeprowadzonego eksperymentu. Definiując sygnał błędu losowego  wielkości  w postaci:

istnieje możliwość wyznaczenia na podstawie wykonanych pomiarów wariancji , a następnie zgodnie z równaniem eq:unc_summation wyznaczenia niepewności rozszerzonej  związanej z sygnałem błędu . Oszacowana wartość niepewności  związana z właściwościami statycznymi analizowanego fragmentu toru pomiarowego wyniosła . Biorąc pod uwagę zależność daną równaniem eq:pom_funx_static niepewność związana z sygnałem błędu  w analizowanym przypadku właściwości statycznych wynosi odpowiednio , co wynika z treści równania eq:out_disc_var_sense. Histogram uzyskanych realizacji sygnału błędu  przedstawiono na rysunku  po stronie prawej. Należy zaznaczyć, że sygnał błędu losowego  stanowi wypadkową wszystkich sygnałów błędów związanych z wymienionymi w bieżącym akapicie zjawiskami oraz nieliniowością charakterystyki przetwarzania analizowanego fragmentu toru pomiarowego. Sygnały błędów zdefiniowane w równaniach eq:pom_funx_error oraz eq:pom_func_error są odpowiednie jedynie dla warunków przeprowadzonego eksperymentu, tj. w przypadku niezmiennych w obrębie pojedynczej serii pomiarowej wartości wielkości wejściowej .



fig:pom_static_funZależność wartości wielkości wyjściowej przetwornika analogowo-cyfrowego w funkcji wartości napięcia wejściowego analizowanego toru pomiarowego oraz histogram uzyskanych realizacji błędu losowego wielkości wyjściowej przetwornika analogowo-cyfrowego

Przeprowadzony eksperyment pozwolił na identyfikację wypadkowego błędu przesunięcia zera wzmacniacza pomiarowego oraz przetwornika analogowo cyfrowego dla wielkości , który w analizowanym przypadku wyniósł 3.52LSB. Błąd ten korygowany jest na etapie odtwarzania wartości wielkości , w przypadku warunków otoczenia zbieżnych do panujących podczas przeprowadzania eksperymentu. Na podstawie dokumentacji zastosowanych komponentów w rozważaniach należy uwzględnić zależność realizacji omawianego sygnału błędu w funkcji temperatury otoczenia . W przypadku wzmacniacza pomiarowego czułość błędu zera w funkcji temperatury otoczenia wynosi typowo  dla wzmocnienia statycznego  . W przypadku przetwornika analogowo-cyfrowego wartość ta nie jest przedstawiona w dokumentacji, natomiast producent układu proponuje wykonanie procedury kalibracji, a następnie na jej podstawie wykonywanie korekcji błędu przesunięcia zera stosując wbudowany przetwornik temperatury . Omawiane zjawiska są również skorelowane z wpływem temperatury na wartość napięcia wyjściowego zastosowanych źródeł zasilających wymienione komponenty. W przypadku zmiany wartości temperatury otoczenia należy przeprowadzić odpowiedni eksperyment mający na celu identyfikację czułości sygnału błędu związanego z dryftem zera w funkcji temperatury otoczenia, a następnie korygować należy wyniki pomiaru lub uwzględniać udział omawianego sygnału błędu w budżecie niepewności .

Analizując dokumentacje  kolejnych komponentów toru pomiarowego zauważyć można, że najistotniejsze źródło błędów związanych z właściwościami statycznymi stanowi w analizowanym przypadku przetwornik analogowo-cyfrowy. Zgodnie z dokumentacją , typowa wartość błędu granicznego wielkości wyjściowej  dla zbliżonych do stosowanych w sporządzonej aplikacji parametrów pracy przetwornika analogowo-cyfrowego powinna mieścić się w przedziale . Najważniejsze źródła błędów, które zdefiniowane są przez producenta zastosowanego przetwornika analogowo-cyfrowego obejmują kolejno: błąd przesunięcia charakterystyki względem zera, różnicowy błąd nieliniowości, całkowy błąd nieliniowości oraz błąd wzmocnienia . Uzyskana na drodze eksperymentu wartość niepewności rozszerzonej dla wypadkowego sygnału błędu wynikającego z przedstawionych źródeł błędów jest mniejsza od wartości wynikającej z opisanego w dokumentacji błędu granicznego i wynosi . Zależność ta wynika z faktu, że skorygowany został błąd zera oraz błąd wzmocnienia dla warunków otoczenia, w jakich przeprowadzano eksperyment. Należy zauważyć, że ze względu na niewielką w stosunku do rozdzielczości przetwornika liczbę serii pomiarowych, podczas eksperymentu nie udało się uzyskać większości realizacji różnicowego błędu nieliniowości. Na podstawie wyników eksperymentu oraz informacji zawartych w dokumentach  można jednak przyjąć, że wartość niepewności  została oszacowana prawidłowo. Ze względu na niewielką liczbę realizacji różnicowego błędu nieliniowości można zakładać, że rzeczywisty rozkład błędu  będzie rozkładem normalnym, co wynika z centralnego twierdzenia granicznego .

Drugą grupę właściwości obiektu stanowią właściwości dynamiczne. Podobnie, jak w przypadku właściwości statycznych, istnieje możliwość ich identyfikacji pomiarowej, uzyskując kolejne realizacje wielkości wyjściowej . Przypadek właściwości dynamicznych jest jednak złożony i wymaga stosowania bardziej skomplikowanej procedury pomiarów - konieczna bowiem jest odpowiednia synchronizacja przebiegu napięcia wejściowego toru pomiarowego z przebiegiem sygnału wyjściowego przetwornika analogowo-cyfrowego, w celu oszacowania różnicy pomiędzy fazami analizowanych sygnałów. Opisywana procedura jest zatem kłopotliwa, a dodatkowo podczas jej realizacji wprowadzany byłby kolejny błąd, związany z opisywaną synchronizacją. Wobec powyższych okoliczności, proponuje się w pierwszej kolejności identyfikację właściwości dynamicznych zastosowanego wzmacniacza pomiarowego, a następnie ustalenie właściwości dynamicznych układu próbkująco-pamiętającego na podstawie jego dokumentacji , która dostatecznie opisuje model tego układu.

W przypadku wzmacniacza pomiarowego proponowana procedura identyfikacji jego właściwości dynamicznych polega na podawaniu na wejście analizowanego wzmacniacza napięcia sinusoidalnie zmiennego o zadanej pulsacji i stałej amplitudzie. Dla zadanych parametrów sygnału wejściowego  zmierzyć należy amplitudę sygnału wyjściowego  wzmacniacza, potrzebną do wyznaczenia jego wzmocnienia , oraz przesunięcie fazowe  pomiędzy sygnałem wejściowym i wyjściowym. Pomiędzy omawianymi wielkościami zachodzą następujące relacje:

gdzie w funkcji pulsacji  jest amplitudą sygnału wyjściowego,  amplitudą sygnału wejściowego,  przesunięciem fazowym sygnału wyjściowego,  przesunięciem fazowym sygnału wejściowego wzmacniacza, natomiast  opóźnieniem sygnału wyjściowego  względem sygnału wejściowego .

Omawiany eksperyment przeprowadzono wykorzystując generator przebiegów arbitralnych RIGOL DG1011 , jako źródło napięcia wejściowego  analizowanego wzmacniacza. W celu pomiaru wartości parametrów zawartych w równaniach eq:pom_dyn_amp oraz eq:pom_dyn_phi zastosowano oscyloskop RIGOL DS5062MA  w połączeniu z dwiema identycznymi sondami P6100 . Ze względu na zastosowanie dwóch identycznych sond, obecne w zmierzonym wzmocnieniu i przesunięciu fazowym błędy były identyczne dla obydwóch kanałów, a zatem w równaniach eq:pom_dyn_amp oraz eq:pom_dyn_phi wzajemnie się kompensowały. Ze względu na pomiar amplitudy sygnału zarówno dla napięcia wejściowego, jak i wyjściowego analizowanego wzmacniacza, ewentualna rozbieżność nastawy wartości amplitudy napięcia wyjściowego generatora była nieistotna. Ze względu na bardzo małą wartość błędu nastawy częstotliwości przyjmuje się, że rzeczywista wartość częstotliwości sygnału wyjściowego generatora jest równa wartości zadanej tej częstotliwości. Podczas pomiarów analizowano uśrednione wartości dla 256 realizacji obserwowanych sygnałów, przy czym pomiary wykonano dla częstotliwości sygnału  w przedziale .

Na podstawie pozyskanych danych oszacowano pasmo przenoszenia analizowanego wzmacniacza, któremu dla zastosowanej konfiguracji układu odpowiadała częstotliwość graniczna  oraz wzmocnienie statyczne . Dla uzyskanych charakterystyk sporządzono dwa modele aproksymacji, mające na celu przybliżenie właściwości analizowanego obiektu w zakresie częstotliwości . W modelu pierwszym () wykorzystano funkcję opisującą transmitancję wzmacniacza w postaci:

natomiast dla modelu drugiego () wykonano metodą najmniejszych kwadratów aproksymacje wielkości opisanych równaniami eq:pom_dyn_amp oraz eq:pom_dyn_phi przy użyciu funkcji:

Uzyskane dla sygnału o częstotliwościach z zakresu  wartości wzmocnienia i przesunięcia fazowego oraz odpowiadające im aproksymacje dla modeli opisanych w równaniach od eq:pom_dyn_trans do eq:pom_aprox_phi przedstawiono na rysunku . Należy zauważyć, że w analizowanym przypadku dla częstotliwości sygnału wyższych od częstotliwości Nyquista, właściwości dynamiczne wzmacniacza pomiarowego są nieistotne, a zatem przedstawione w równaniach od eq:pom_dyn_trans do eq:pom_aprox_phi aproksymacje powinny być dokładne jedynie dla częstotliwości . W przypadku zmiany częstotliwości próbkowania należy zaproponować nowy model aproksymacji omawianych parametrów, odpowiedni dla wybranej częstotliwości próbkowania.



fig:pom_dynamic_ampoutZależność wartości wzmocnienia oraz przesunięcia fazowego w funkcji częstotliwości dla zastosowanej konfiguracji wzmacniacza pomiarowego

Analizując przedstawione wykresy zauważyć można, że model zaproponowany w równaniach eq:pom_aprox_amp oraz eq:pom_aprox_phi stanowi akceptowalne przybliżenie charakterystyki analizowanego wzmacniacza pomiarowego, natomiast model dany równaniem eq:pom_dyn_trans odbiega od niej znacząco, przez co nie może być stosowany. Wobec powyższych przyjmuje się, że równania eq:pom_aprox_amp oraz eq:pom_aprox_phi opisują właściwości dynamiczne zastosowanego wzmacniacza, odpowiadające zależnościom eq:mid_cont_amp oraz eq:mid_cont_phi, a zatem zachodzi  oraz . Należy zauważyć, że na potrzeby zaproponowanego w pracy modelu błędów pozyskane w wyniku przeprowadzonego eksperymentu dane są wystarczające i nie jest konieczna znajomość dokładnej postaci funkcji opisującej transmitancję analizowanego obiektu. Jako, że zaproponowane modele stanowią jedynie przybliżenie wartości parametrów wynikających z rzeczywistych właściwości analizowanego wzmacniacza, a dodatkowo przeprowadzone pomiary były obarczone błędem wynikającym z przyjętej metodologii oraz właściwości przyrządu pomiarowego, rzeczywiste wartości parametrów amplitudy  oraz przesunięcia fazowego  będą najprawdopodobniej inne, niż oszacowane. Ze względu na właściwości zastosowanego oscyloskopu zakładać można niewielki błąd wyznaczania wartości fazy oraz znaczący błąd wyznaczania wartości wzmocnienia .

Ostatni etap identyfikacji właściwości dynamicznych obejmuje właściwości układu próbkująco-pamiętającego. Na podstawie dokumentacji  część analogową przetwornika analogowo-cyfrowego, stanowiącą układ próbkująco-pamiętający, zastąpić można modelem filtra dolno-przepustowego RC drugiego rzędu, co przedstawiono na rysunku . Wypadkowa pojemność  układu wynika w analizowanym przypadku z pojemności w obrębie wyprowadzenia mikrokontrolera oraz pojemności obecnego na wyjściu wzmacniacza filtru RC, natomiast pojemność  wynika pojemności wewnętrznej układu próbkująco-pamiętającego. Zgodnie z dokumentacją  wewnętrzna pojemność  wynosi typowo około 4pF, natomiast pojemność zastępcza  obwodu wejściowego przetwornika wynosi zwykle 5pF. Rezystancję  w zaproponowanym modelu stanowi szeregowe połączenie rezystancji doprowadzeń pomiędzy wzmacniaczem pomiarowym i mikrokontrolerem oraz rezystancji wyjściowej wzmacniacza. Rezystancja  odpowiada natomiast rezystancji klucza układu próbkująco-pamiętającego, gdzie zgodnie z dokumentacją  jej wartość nie przekracza 6k. Dodatkowe elementy, które można zauważyć na omawianym schemacie, to diody zabezpieczające wejście mikrokontrolera przed zbyt wysokim lub zbyt niskim napięciem wejściowym oraz źródło , które zastępuje upływność układu nieprzekraczającą 1A. Elementy te mogą być pominięte w omawianej analizie, ze względu na ich znikome znaczenie w budżecie błędów analizowanego toru pomiarowego.

Pierwszy filtr przedstawiony na rysunku  składa się zatem z rezystancji  oraz pojemności , co wynika z parametrów impedancji wyjściowej wzmacniacza dla parametrów małosygnałowych  oraz zastosowanego na jego wyjściu filtru RC. Jak zaznaczono, udział omawianego obiektu w przetwarzaniu sygnału  został już opisany podczas analizy właściwości dynamicznych wzmacniacza pomiarowego. Przedstawione rozważania zakładają pomijalnie małą impedancję wyjściową wzmacniacza dla parametrów małosygnałowych oraz pomijalny udział pojemności ścieżek w obrębie wejścia mikrokontrolera w porównaniu do parametrów zastosowanego filtru RC na wyjściu wzmacniacza.



fig:pom_schemat_adcSchemat zastępczy modelu przetwornika analogowo-cyfrowego zastosowanego w analizowanym torze pomiarowym, zgodny z dokumentacją producenta układu 

W najmniej korzystnym przypadku, filtr drugi stanowi połączenie rezystancji  z pojemnością  , a zatem rząd wielkości częstotliwości granicznej takiego filtru oszacować można na poziomie . Wobec powyższych, przyjąć można pomijalnie mały wpływ tego filtru na amplitudę przetwarzanego sygnału, natomiast uwzględnić należy wprowadzane przez niego przesunięcie fazowe. Proponuje się zatem oszacować przesunięcie fazowe sygnału  względem sygnału  w postaci:

oraz przyjąć stałe wzmocnienie dla analizowanego fragmentu przetwornika równe jedności:

Jako, że analizowany układ stanowi rozwiązanie typu SoC, rzeczywiste wartości parametrów  oraz  są niemożliwe do wyznaczenia. Na podstawie dokumentacji układu możliwe jest jedynie oszacowanie stałej czasowej omawianego filtru. Należy również zauważyć, że zintegrowany z przetwornikiem analogowo-cyfrowym układ próbkująco-pamiętający wprowadzać będzie do sygnału  dodatkowe opóźnienie względem sygnału  wynikające z czasu trwania stanu śledzenia, który w analizowanym przypadku wynosi . Jako, że docelowo tor pomiarowy pracuje w trybie ciągłym, wpływ omawianego zjawiska nie jest istotny i można go odpowiednio skompensować, co przedstawiono w dalszej części rozdziału, a zatem zjawisko to nie jest uwzględniane w równaniu eq:pom_adcin_phi.

Ostatnim fragmentem toru pomiarowego, który wprowadzać może do sygnału wyjściowego dodatkowe błędy, jest algorytm dyskretnej transformacji falkowej. Przeprowadzone wcześniej badania, których wyniki przedstawiono w tabeli , pozwalają przypuszczać, że wariancja błędu związanego z zaokrągleniami nie przekroczy w bieżącym przypadku rzędu piko woltów, a zatem niepewność rozszerzona z nią związana nie powinna przekroczyć rzędu mikro woltów. Oznacza to, że błędy własne zastosowanego algorytmu dyskretnej transformacji falkowej mogą być pominięte w budżecie niepewności, bez większego wpływu na oszacowaną wartość niepewności rozszerzonej wielkości wyjściowych analizowanego toru pomiarowego , a zatem ich udział nie został uwzględniony w przeprowadzonej analizie.

Należy zaznaczyć, że z punktu widzenia proponowanego modelu błędów dokładna znajomość postaci funkcji przetwarzania statycznego każdego elementu toru pomiarowego nie jest znana. Przykładowo, pomimo udziału funkcji przetwarzania  wzmacniacza pomiarowego w równaniach eq:pom_func_static oraz eq:pom_funx_static, znajomość tej funkcji nie jest konieczna podczas omawianej analizy. Dodatkowo na podstawie treści przedstawionych równań zauważyć można, że na etapie przetwarzania wielkości  wprowadzane jest przesunięcie charakterystyki statycznej, spowodowane błędem zera wzmacniacza pomiarowego i przetwornika analogowo-cyfrowego. Opisywana sytuacja powoduje, że funkcja przetwarzania nie spełnia właściwości addytywności, przez co nie jest możliwa analiza każdego sygnału błędu z osobna, jak proponowano w opisanym w pracy modelu błędów. Przeprowadzenie analizy z punktu widzenia wielkości wejściowej algorytmu dyskretnej transformacji falkowej umożliwia eliminację opisywanych niedogodności i wykorzystanie równań od eq:out_disc_err_stat_self do eq:out_disc_err_rand_prop, umożliwiających analizę z zastosowaniem metody superpozycji dla zdefiniowanych sygnałów błędów.

Zaproponowany algorytm identyfikacji właściwości metrologicznych analizowanego fragmentu toru pomiarowego jest wystarczający w celu aplikacji sporządzonego w ramach pracy modelu błędów. Jako, że parametry te zostały jedynie oszacowane, wyznaczone na ich podstawie wartości niepewności rozszerzonych wielkości wyjściowych toru pomiarowego mogą być obarczone pewnym błędem wynikającym z niedokładności wyznaczenia parametrów modelu błędów. Znacznie dokładniejszym sposobem na przeprowadzenie omawianej identyfikacji byłoby wykonanie symulacji z użyciem odpowiedniego oprogramowania, np. LTspice, czy NGSpice . Przedstawioną metodologię zaproponowano z uwagi na fakt, że jest ona uniwersalna i nie wymaga konieczności znajomości dokładnego modelu stosowanych układów.

Model błędów toru pomiarowego

Przyjmując założoną wcześniej czułość dla wielkości  w stosunku do przetwarzanego sygnału  równą , idealny oraz zakłócony sygnałem błędu przebieg wielkości  opisać można w postaci:

przy czym składowe sygnału błędu  opisano w dalszej części podrozdziału. Zgodnie z równaniami eq:mid_disc_sum_real oraz eq:out_disc_real_all, w przypadku sygnału  o charakterze deterministycznym, którego kolejne harmoniczne mogą być opisane postaci równania:

rzeczywisty przebieg wybranej harmonicznej sygnału  stanowiącego wejście algorytmu transformacji falkowej opisać można w postaci:

Wariancję sygnału  na wejściu algorytmu transformacji falkowej w funkcji pulsacji opisać można w przypadku przetwarzanego sygnału  na podstawie równań eq:mid_disc_var_omega oraz eq:out_disc_var_sense jako:

gdzie  jest wariancją sygnału . Zależność eq:pom_dwtin_var jest odpowiednia zarówno w przypadku sygnałów deterministycznych, jak i niedeterministycznych.

Wartość wzmocnienia  jest wypadkową wartością wzmocnienia uzyskaną dla kaskadowego połączenia wzmacniacza pomiarowego, którego wzmocnienie oznaczono symbolem , przetwornika analogowo-cyfrowego, którego wzmocnienie oznaczono jako  oraz algorytmu odtwarzania statycznego, którego nieomówione dotychczas wzmocnienie oznaczono symbolem . Wobec powyższych założeń zapisać można:

przy czym zgodnie z założeniami dotyczącymi postaci funkcji odtwarzania, opisanej równaniem eq:pom_funx_static oraz założeń danych równaniem eq:pom_dwtin_ideal odnośnie jednostkowej czułości sygnału  względem sygnału , dla których zachodzi , wartość wzmocnienia  jest wartością stałą i kompensuje ona wzmocnienie statyczne wzmacniacza oraz przetwornika analogowo-cyfrowego, a zatem może ona być opisana równaniem:

gdzie w analizowanym przypadku . Ostatecznie, zgodnie założeniem danym równaniem eq:pom_dwtin_ideal, treścią równań eq:pom_aprox_amp, eq:pom_adcin_amp, eq:pom_dwtin_amp_mul oraz eq:pom_dwtin_ampnorm, przyjąć można:


Przesunięcie fazowe  sygnału  względem sygnału , wynikające z przesunięcia  wprowadzanego przez wzmacniacz oraz wprowadzanego przez przetwornik analogowo-cyfrowy przesunięcia , opisać można jako:

co wynika z równań eq:pom_aprox_phi oraz eq:pom_adcin_phi. W rozważaniach nie uwzględniono przesunięcia fazowego wprowadzanego przez algorytm odtwarzania statycznego, ponieważ algorytm ten nie wprowadza żadnego przesunięcia w fazie dla przetwarzanego sygnału. Przyjmuje się, że w przypadku idealnym sygnał  powinien cechować się fazą identyczną, jak przetwarzany sygnał , zatem zapisać można:


Pierwszy składnik zawarty w sygnale błędu  stanowi sygnał  związany ze zidentyfikowanymi właściwościami statycznymi analizowanego fragmentu toru pomiarowego, stanowiącego źródło danych algorytmu transformacji falkowej, opisany dla warunków wykonanego eksperymentu równaniem eq:pom_funx_error. Jako, że deterministyczna postać omawianego sygnału błędu nie jest znana oraz wartości jego realizacji nie zależą od częstotliwości przetwarzanego sygnału, przyjmuje się, że sygnał ten zalicza się do zbioru błędów losowych własnych. Niepewność rozszerzona związana z omawianym sygnałem błędu wynosi, zgodnie z poprzednimi rozważaniami,  oraz przyjmuje się normalny rozkład realizacji tego sygnału, zatem współczynnik rozszerzenia  jest równy 1.96 .

Drugi składnik sygnału błędu  stanowi sygnał związany z właściwościami dynamicznymi wzmacniacza pomiarowego oraz przetwornika analogowo-cyfrowego, przy czym błąd ten ma charakter deterministyczny i można podzielić go na sygnał związany z błędem własnym  oraz propagowanym . Analizując założenie związane z równaniem eq:pom_dwtin_amp, gdzie przyjęto , zgodnie z równaniami eq:mid_disc_err_dyn_self, eq:mid_disc_err_dyn_prop, eq:pom_dwtin_ideal, eq:pom_dwtin_amp, eq:pom_dwtin_phi oraz założeniem opisanym równaniem eq:pom_dwtin_phiideal zachodzi:


Trzeci składnik sygnału błędu  wynika z wpływu analizowanego obiektu na obecny w przetwarzanym sygnale  sygnał błędu statycznego , przy czym przebieg tego sygnału na wyjściu obiektu opisać można zgodnie z równaniami eq:mid_disc_err_stat_prop oraz eq:out_disc_err_stat_prop, gdzie:

a zatem, zgodnie z zależnościami eq:mid_disc_var_omega oraz eq:out_disc_var_sense, wariancję tego sygnału opisuje równanie:


Czwartym składnikiem sygnału błędu  jest propagowany sygnał błędu losowego  związany z sygnałem . Zgodnie z zależnościami eq:mid_disc_var_omega oraz eq:out_disc_var_sense dla założenia danego równaniem eq:pom_dwtin_amp wariancję tego sygnału opisać można w postaci:

co przy założeniu eq:pom_dwtin_ideal odnośnie charakterystyki przetwarzania tego obiektu oznacza, że obiekt ten nie ma wpływu na postać przetwarzanych sygnałów losowych, a zatem przyjąć można uproszczenie:

Wobec powyższych założeń, dla sygnałów błędów losowych o stałej widmowej gęstości mocy, zapisać można:

gdzie podane równanie jest odpowiednie dla zakresu częstotliwości .

Jako, że przeprowadzone eksperymenty wykonano przy stałych parametrach otoczenia, nie obejmowały one identyfikacji źródeł i postaci sygnału błędu statycznego własnego. Przyjmuje się zatem, że  oraz . Na podstawie zależności od eq:pom_errx_dyn_self do eq:pom_errx_rand_prop wypadkowy sygnał błędu  opisać można jako sumę zdefiniowanych dotychczas sygnałów błędów cząstkowych w postaci:

przy czym wypadkowe sygnały błędów z uwzględnieniem podziału na zaproponowane kategorie można zdefiniować jako:

gdzie wypadkowe parametry amplitudy  oraz fazy  dla kolejnych harmonicznych sygnału wypadkowego błędu dynamicznego  zależne będą od widma przetwarzanego sygnału, natomiast ich wyznaczenie przebiegać będzie zgodnie z metodologią opisaną w równaniach od eq:dyn_vect do eq:dyn_vect_phi. Wariancję kolejnych harmonicznych sygnału  wyznaczyć można zgodnie z zależnością eq:dyn_var.

W przypadku sygnałów błędów statycznych dla -tej wielkości wyjściowej toru pomiarowego wariancję sygnału błędu statycznego tej wielkości opisać można, zgodnie z równaniem eq:alg_outvar_stat, jako:

Ze względu na stałą widmową gęstość mocy sygnału błędu losowego , wynikającą z przyjętych założeń odnośnie modelu sygnału szumu, błędu kwantowania oraz postaci wzmocnienia , wariancja sygnałów błędów losowych na wyjściu algorytmu może być opisana dla -tej wielkości wyjściowej jako:

Jeżeli niespełnione zostaną założenia dotyczące stałej widmowej gęstości mocy sygnałów błędów losowych, należy zastosować równanie eq:mid_disc_var_omega do wyznaczenia wariancji tych sygnałów na wyjściu algorytmu.
Dla sygnałów błędów dynamicznych wariancję tych sygnałów w funkcji pulsacji opisać można, zgodnie z zależnością eq:alg_outvar_dyn, jako:

gdzie  jest transmitancją związaną z -tą wielkością wyjściową algorytmu, opisaną równaniem eq:alg_trans_single. Wypadkowa wariancja sygnału błędu dynamicznego  może zatem zostać wyrażona w postaci sumy wypadkowych wariancji wszystkich harmonicznych tego sygnału, co opisuje równanie:

Należy zauważyć, że na etapie analizy kolejnych harmonicznych sygnału błędu dynamicznego  kolejne składowe tego sygnału o jednakowych pulsacjach mogą być ze sobą skorelowane. Proponowane w równaniu eq:pom_errx_dyn przedstawienie tego sygnału w postaci kolejnych harmonicznych o parametrach wypadkowych umożliwia rozpatrzenie tych korelacji przy jednoczesnej redukcji liczby składowych analizowanego sygnału.

Ze względu na fakt, że przeprowadzona identyfikacja właściwości metrologicznych dla fragmentu toru pomiarowego związanego z wielkościami wejściowymi analizowanego algorytmu nie wykazała innych korelacji pomiędzy zidentyfikowanymi sygnałami błędów, zgodnie z równaniem eq:var_matrix zapisać można:

Wartości wariancji sygnałów propagowanego błędu statycznego, propagowanego błędu losowego oraz wypadkowego błędu dynamicznego nie są znane na obecnym etapie analizy. Dla wymienionych sygnałów wartość wariancji zależeć będzie od widma sygnału  oraz zawartych w nim sygnałów błędów.

Wartości niepewności rozszerzonych związane z wymienionymi sygnałami błędów na wyjściu algorytmu mogą być w analizowanej sytuacji opisane jako:

Wartość współczynnika rozszerzenia  dla sygnału błędu statycznego wynika z założenia liniowości wszystkich fragmentów toru pomiarowego oraz występowania tylko jednego źródła sygnału błędu statycznego. Wartość współczynnika rozszerzenia  w przypadku sygnału błędu losowego na wyjściu obiektu wynika z założeń centralnego twierdzenia granicznego, gdzie analizowany algorytm przetwarza wiele nieskorelowanych ze sobą sygnałów błędów losowych o jednakowych parametrach, a zatem rozkład realizacji tego sygnału jest rozkładem normalnym . W przypadku kolejnych harmonicznych sygnału błędu dynamicznego współczynnik rozszerzenia wynika z kształtu rozkładu funkcji sinus. Należy zauważyć, że dla sygnału poliharmonicznego rozkład realizacji wypadkowego sygnału błędu dynamicznego będzie rozkładem o nietypowym kształcie, wynikającym ze złożenia określonej liczby harmonicznych sygnału błędu dynamicznego.

Wobec powyższych, wypadkowa wartość niepewności rozszerzonej na wyjściu algorytmu dla -tej wielkości wyjściowej może być opisana zgodnie z równaniem eq:unc_matrix, przy czym wektor niepewności rozszerzonych dla  harmonicznych sygnału błędu dynamicznego opisać można w postaci:

natomiast macierz koherencji przyjmuje w omawianym przypadku postać:

gdzie kolejne wartości wymienionych współczynników koherencji są wyznaczane zgodnie z równaniem eq:unc_coher. Wobec przedstawionych założeń, wartość wypadkowej niepewności rozszerzonej dla analizowanego przypadku wynosi:


Zgodnie z założeniami odnośnie bardzo niskiej w stosunku do pozostałych sygnałów błędów wariancji błędu własnego zaokrągleń , udział tego sygnału pominięto w rozważaniach. Jako, że dla każdego żądania konwersji przetwornik analogowo-cyfrowy wprowadza do sygnału wyjściowego  stałe opóźnienie  wynikające z czasu trwania procesu śledzenia, zdefiniować można dodatkowy składnik sygnału błędu dynamicznego. Z uwagi na fakt, że opóźnienie to cechuje się stałą wartością, jego udział skorygować można przyjmując założenie, gdzie . Sygnał ten nie jest zatem wliczany do budżetu niepewności wielkości wyjściowych.

Przypadek sygnału monoharmonicznego

Pierwszym rozważanym eksperymentem jest weryfikacja poprawności przedstawionej aplikacji modelu błędów dla przypadku, kiedy analizowany tor pomiarowy przetwarza opisany równaniem eq:pom_gen_out_ideal sinusoidalnie zmienny sygnał napięciowy. Eksperyment obejmuje dwa przypadki - dla przypadku pierwszego nieznane są rzeczywiste wartości napięcia amplitudy  oraz składowej stałej  przetwarzanego sygnału , natomiast przypadek drugi zakłada znajomość tych parametrów, pozyskaną przy użyciu multimetru Agilent 3458A . W dalszej części przyjmuje się, że opisany równaniem eq:pom_gen_out_ideal przebieg  w przypadku idealnym cechuje amplituda  oraz składowa stała , natomiast wartość pulsacji  zależna jest od iteracji przeprowadzonego eksperymentu.
Należy zaznaczyć, że w przypadku znajomości rzeczywistych parametrów przetwarzanego sygnału, wyznaczone analitycznie wartości wariancji oraz wypadkowej niepewności rozszerzonej dla kolejnych wielkości wyjściowych toru pomiarowego powinny być zbieżne z uzyskanymi na drodze eksperymentu. W przypadku analizy obejmującej nieznane rzeczywiste wartości parametrów sygnału  uzyskane analityczne wyniki powinny dotyczyć 95 egzemplarzy stosowanego generatora przebiegów arbitralnych, a zatem ich wartości powinny być co najmniej takie, jakie uzyskano w eksperymencie.

Zgodnie z założeniami danymi równaniami eq:pom_gen_var_rand_sin oraz eq:pom_varx_rand_prop wartość wariancji sygnału błędu losowego , dla założenia stałej widmowej gęstości mocy sygnału , wynosi w analizowanym przypadku:

przy czym w przypadku niespełnienia założenia odnośnie stałej widmowej gęstości mocy stosować należy równanie eq:pom_varx_rand_prop_omega. W dalszej części rozdziału zakłada się, że rozkład realizacji sygnału błędu  jest rozkładem normalnym o stałej widmowej gęstości mocy. Założenie to może być niewłaściwe dla analizowanego generatora, natomiast bez przeprowadzenia procedury identyfikacji parametrów sygnału błędu  nie jest możliwa weryfikacja jego poprawności.

Maksymalną wartość amplitudy sygnału błędu dynamicznego  dla analizowanych warunków eksperymentu, obejmującą 95 przypadków, można oszacować na podstawie równań eq:pom_gen_amperr_unc oraz eq:pom_gen_err_dyn_mono, gdzie wynosi ona:

Na podstawie treści równania eq:pom_errx_dyn_prop określić można amplitudę oraz fazę analizowanego sygnału błędu na wejściu algorytmu dyskretnej transformacji falkowej:

przy czym faza  jest odpowiednia dla dodatnich realizacji błędu nastawy amplitudy sygnału, natomiast faza  odpowiada wartościom ujemnym.

W przypadku sygnału błędu statycznego , wynikającego z błędu nastawy wartości składowej stałej , niepewność związaną z tym sygnałem określa zależność:

wynikająca z treści równań od eq:pom_gen_err_stat do eq:pom_gen_unc_stat, eq:pom_errx_stat_prop oraz eq:pom_varx_stat_prop. Wariancja omawianego sygnału błędu, zgodnie z wymienionymi zależnościami, wynosi odpowiednio:


Należy zaznaczyć, że równania od eq:pom_mono_dyn_amp_in do eq:pom_mono_stat_unc_mid dotyczą przypadku, gdy rzeczywiste wartości parametrów  oraz  nie są znane. Dla znanych wartości tych parametrów przyjmuje się założenie gdzie  oraz , a zatem  oraz , wobec czego dla rozważanej sytuacji zachodzi .

Na podstawie równania eq:pom_errx_dyn_self wyróżnić można dwie składowe harmonicznej sygnału błędu dynamicznego własnego na wejściu algorytmu transformacji falkowej. Amplitudy oraz fazy tych harmonicznych w analizowanym przypadku opisać można jako:

gdzie na podstawie założeń danych równaniem eq:pom_gen_out_ideal  oraz zgodnie z założeniem eq:pom_dwtin_ideal . Zgodnie z definicją sygnału błędu dynamicznego  daną równaniem eq:pom_errx_dyn, która wynika z definicji eq:pom_errx_dyn_self oraz eq:pom_errx_dyn_prop, w analizowanym przypadku wypadkowy sygnał błędu dynamicznego definiuje równanie:

gdzie rozpatrzyć należy obydwa przypadki amplitudy  oraz fazy  sygnału propagowanego błędu dynamicznego  dla wariantów parametru , którego wartości w zależności od zaistniałych okoliczności opisano w równaniach eq:pom_mono_dyn_prop_phi_mid_a oraz eq:pom_mono_dyn_prop_phi_mid_b. Zgodnie z metodologią opisaną w równaniach od eq:dyn_vect do eq:dyn_vect_phi wartości parametrów amplitudy  oraz fazy  sygnału błędu dynamicznego  na wejściu algorytmu dyskretnej transformacji falkowej mogą być wyznaczone jako:

przy czym parametry przedstawionych równań wyznaczane są zgodnie z zależnościami:

Należy podkreślić, że rzeczywisty przebieg sygnału błędu dynamicznego własnego  również skorelowany jest z rzeczywistą wartością amplitudy . Korelacja ta jest jednak pominięta w przeprowadzonej analizie ze względu na niewielkie wartości błędu nastawy tego parametru i w efekcie znikomy wpływ omawianego zjawiska na wartość szacowanej niepewności rozszerzonej. Dla znanej wartości amplitudy sygnału istnieje możliwość wykorzystania w równaniu eq:pom_mono_dyn_self_amp_mid wartości  zamiast wartości  w celu uzyskania dokładniejszych wyników, natomiast dla nieznanej wartości  jedynym rozwiązaniem jest zastosowanie w obliczeniach zadanej wartości .

Poniżej przedstawiono obliczenia dotyczące 24 wielkości wyjściowej toru pomiarowego przy założeniu, że tor ten przetwarza sygnał wejściowy  dany równaniem eq:pom_gen_out_real, gdzie . Ze względu na dużą  liczbę wielkości wejściowych, wartości współczynników macierzy transformacji oraz równania opisujące transmitancję analizowanego algorytmu nie zostały przedstawione. Dla zastosowanych parametrów algorytmu transformacji falkowej zachodzi  oraz . Przedstawione w dalszej części podrozdziału obliczenia zostały wykonane dla trzech wariantów. Przypadek  obejmuje dodatni, natomiast przypadek  obejmuje ujemny błąd nastawy amplitudy sygnału  dla nieznanych rzeczywistych parametrów sygnału . Przypadek  obejmuje znane wartości parametrów sygnału .

Na podstawie założeń danych w równaniach eq:pom_varx_rand_prop, eq:pom_varout_rand, eq:pom_uncout_rand oraz eq:pom_mono_rand_var_in, dotyczących sygnału błędu losowego  na wyjściu analizowanego toru pomiarowego, niepewność związaną z tym sygnałem opisać można jako:

a zatem, w przypadku znanej wartości amplitudy przetwarzanego sygnału , istnieje możliwość wykorzystania tej wartości w równaniu eq:pom_mono_rand_var_in, gdzie otrzymuje się:

W przypadku sygnału błędu statycznego , na podstawie równania eq:pom_uncout_stat zachodzi:

a zatem zauważyć można, że dla analizowanej wielkości wyjściowej toru pomiarowego, ze względu na wartość współczynnika , sygnał błędu związany z błędem nastawy wartości składowej stałej nie występuje niezależnie od rozważanych okoliczności.

Dla nieznanej rzeczywistej wartości parametrów amplitudy oraz składowej stałej równania od eq:pom_mono_dyn_sum_param_amp_mid do eq:pom_mono_dyn_sum_param_b_mid przyjmują w analizowanym przypadku postać:

dla przypadku opisanego w równaniu eq:pom_mono_dyn_prop_phi_mid_a, natomiast dla przypadku opisanego w równaniu eq:pom_mono_dyn_prop_phi_mid_b zachodzi:

przy czym zgodnie z równaniem eq:pom_dwtin_phi  dla . W warunku przeprowadzonego eksperymentu tj. dla rzeczywistych wartości parametrów sygnału  równych  oraz  zachodzi natomiast:

Można zauważyć, że dla analizowanej częstotliwości dominującą składową sygnału błędu dynamicznego  jest składowa związana z błędem własnym , wynikającym z wprowadzanego przez wzmacniacz pomiarowy przesunięcia fazowego . Dla rozważanych przypadków sygnału , zgodnie z równaniem eq:pom_uncout_dyn, zapisać można:


Na podstawie równania eq:pom_uncout_sum oraz wyznaczonych dla rozważanych przypadków wartości niepewności rozszerzonych wyróżnionych sygnałów błędów wyznaczyć można wypadkowe wartości niepewności rozszerzonych. Zachowując dotychczasowe oznaczenia zapisać można następujące równanie:

gdzie wartości współczynników macierzy koherencji wyznaczane są zgodnie z równaniem eq:unc_coher. W przypadku nieznanej wartości parametrów sygnału , tj. dla omówionych wariantów  oraz  zachodzi:

a zatem proponuje się w analizowanej sytuacji przyjąć wartość wyznaczoną dla  jako ostateczną wartość niepewności rozszerzonej. Dla przypadku znanej wartości parametrów sygnału  zachodzi natomiast:


W celu weryfikacji przedstawionych rozważań wykonano eksperyment metodą Monte-Carlo, w którym wyznaczano 30000 razy wektor wielkości wyjściowych . Podczas eksperymentu losowano początkową fazę sygnału , przy czym  oraz . Dyskretny zbiór wartości realizacji wielkości  wynika z wykorzystania sygnału synchronizującego generatora w celu określenia fazy przetwarzanego sygnału . W rzeczywistości początek próbkowania wyzwalany był sygnałem synchronizującym generatora, po czym pomijano  pierwszych próbek. W ten sposób istniała możliwość dokładnego wyznaczenia fazy przetwarzanego sygnału  w sposób deterministyczny:

gdzie  jest czasem trwania stanu śledzenia napięcia wejściowego . Dla uzyskanych realizacji wektora wielkości wyjściowych, zgodnie z równaniem eq:alg_out_err, wyznaczano następnie wartości realizacji wektora sygnału błędu, zakładając idealny przebieg sygnału  opisany równaniem eq:pom_gen_out_ideal. Uzyskane dla kolejnych wielkości wyjściowych toru pomiarowego wartości realizacji wypadkowego sygnału błędu wykorzystano w celu określenia ich wariancji oraz niepewności rozszerzonej, którą wyznaczano zgodnie z równaniem eq:unc_summation. Uzyskane dla częstotliwości sygnału z zakresu  wyniki dotyczące 24 wielkości wyjściowej przedstawiono w tabeli , przy czym wyniki uzyskane eksperymentalnie oznaczono indeksem , natomiast indeksem  oznaczono wartość maksymalną dla przypadków  oraz . Oznaczony symbolem  błąd względny oszacowania wartości wypadkowej niepewności rozszerzonej wyznaczono zgodnie z równaniem eq:unc_error.

W celu dodatkowej weryfikacji poprawności określenia parametrów zaproponowanego modelu błędów, na podstawie pozyskanych w trakcie eksperymentu pomiarowego wartości realizacji wielkości wejściowych  algorytmu dyskretnej transformacji falkowej wyznaczono parametry związane z sygnałem błędu , który definiują równania eq:pom_dwtin_real oraz eq:pom_errx_sum. W tabeli  zestawiono wyniki dotyczące oszacowanej wartości wypadkowej wariancji oraz niepewności rozszerzonej związane z sygnałem błędu , przy czym oznaczenia wskazanych wielkości są identyczne, jak to miało miejsce w przypadku tabeli .

Szacowane wartości wypadkowe wariancji dla analizowanego sygnału błędu  wyznaczano na podstawie równania eq:pom_varout_sum, przy czym w omawianym przypadku:

co wynika z treści założeń eq:pom_varx_stat_prop, eq:pom_varx_rand_prop, eq:pom_varout_rand, eq:pom_mono_dyn_sum_param_amp_mid oraz założenia o braku korelacji wymienionych sygnałów błędów, przy czym korelacje pomiędzy składowymi sygnału błędu dynamicznego zostały rozpatrzone na etapie wyznaczania wartości wielkości . Szacowane wartości niepewności rozszerzonej wyznaczano na podstawie równania eq:unc_matrix, które w rozważanym przypadku przyjmuje postać:

przy czym uproszczenie przyjęte w równaniu eq:pom_mono_unc_rand_in wynika z faktu, że sumowane sygnały błędu cechują się normalnym rozkładem ich realizacji. Wartość niepewności rozszerzonej oznaczoną indeksem  obliczano na podstawie równania eq:unc_summation, natomiast względny błąd oszacowania wartości niepewności rozszerzonej wyznaczano zgodnie z równaniem eq:unc_error.



tab:pom_mono_meas_24Zestawienie wyników eksperymentu pomiarowego mającego na celu weryfikacje poprawności zastosowanych parametrów modelu błędów oraz skuteczności zaproponowanej metody wyznaczania wypadkowej niepewności rozszerzonej dla 24 wielkości wyjściowej algorytmu dyskretnej transformacji falkowej w przypadku sygnału monoharmonicznego
[c] c *3S[table-format = 4.2] *3S[table-format = 3.2] *2S[table-format = +2.2]  2*, Hz & 3cWariancja, V & 3cNiepewność, mV & 2cBłąd, % 
 2-9
&  &  &  &  &  &  &  &  
 100     &       0.50    &       0.51    &       0.42    &       1.39    &       1.39    &       1.26    &       +10.24  &       +10.75  
 200     &       0.50    &       0.51    &       0.39    &       1.39    &       1.39    &       1.21    &       +14.39  &       +14.92  
 300     &       0.50    &       0.51    &       0.48    &       1.39    &       1.39    &       1.37    &       +1.55   &       +2.02   
 400     &       0.50    &       0.51    &       0.44    &       1.39    &       1.39    &       1.31    &       +6.08   &       +6.57   
 500     &       0.50    &       0.51    &       0.44    &       1.39    &       1.39    &       1.30    &       +6.57   &       +7.05   
 600     &       0.50    &       0.51    &       0.48    &       1.39    &       1.39    &       1.37    &       +1.45   &       +1.90   
 700     &       0.50    &       0.51    &       0.49    &       1.39    &       1.39    &       1.37    &       +1.47   &       +1.89   
 800     &       0.50    &       0.51    &       0.56    &       1.39    &       1.39    &       1.47    &       -5.65   &       -5.32   
 900     &       0.50    &       0.51    &       0.50    &       1.39    &       1.39    &       1.38    &       +0.62   &       +0.85   
 1000    &       0.50    &       0.51    &       0.55    &       1.39    &       1.39    &       1.46    &       -4.69   &       -4.68   
 2000    &       1.42    &       0.77    &       1.20    &       2.21    &       1.70    &       2.13    &       +3.68   &       -19.97  
 3000    &       31.20   &       15.20   &       13.95   &       8.10    &       5.78    &       6.10    &       +32.87  &       -5.19   
 4000    &       359.53  &       224.98  &       186.66  &       26.85   &       21.28   &       19.68   &       +36.42  &       +8.12   
 5000    &       1866.33 &       1357.82 &       1323.26 &       60.98   &       52.03   &       51.61   &       +18.17  &       +0.83   
 6000    &       4218.48 &       3365.47 &       3100.70 &       91.64   &       81.86   &       78.51   &       +16.72  &       +4.26   
 7000    &       3710.67 &       3142.01 &       2688.53 &       85.95   &       79.10   &       73.05   &       +17.65  &       +8.27   
 8000    &       1043.58 &       920.05  &       932.81  &       45.63   &       42.85   &       43.28   &       +5.44   &       -0.97   
 9000    &       64.97   &       58.97   &       59.47   &       11.55   &       11.02   &       12.07   &       -4.34   &       -8.73   
 10000   &       0.88    &       0.85    &       1.92    &       1.80    &       1.78    &       2.80    &       -35.83  &       -36.51  
 11000   &       0.50    &       0.51    &       1.55    &       1.39    &       1.39    &       2.47    &       -43.79  &       -43.53  
 12000   &       0.50    &       0.51    &       0.44    &       1.39    &       1.39    &       1.29    &       +7.82   &       +8.32   
 13000   &       0.50    &       0.51    &       1.76    &       1.39    &       1.39    &       2.80    &       -50.54  &       -50.32  
 14000   &       1.08    &       1.07    &       1.88    &       1.97    &       1.96    &       2.73    &       -27.93  &       -28.29  
 15000   &       116.53  &       113.41  &       113.84  &       15.38   &       15.17   &       17.20   &       -10.58  &       -11.76  
 16000   &       1960.97 &       1917.22 &       2056.54 &       62.51   &       61.81   &       64.59   &       -3.23   &       -4.31   
 17000   &       6293.83 &       6177.84 &       5885.39 &       111.91  &       110.88  &       108.91  &       +2.75   &       +1.80   
 18000   &       5276.50 &       5196.44 &       4832.73 &       102.47  &       101.70  &       97.14   &       +5.49   &       +4.69   
 19000   &       1305.52 &       1289.31 &       1412.50 &       51.02   &       50.71   &       53.73   &       -5.03   &       -5.62   
 20000   &       95.60   &       94.65   &       88.34   &       13.95   &       13.88   &       14.28   &       -2.31   &       -2.79   
 21000   &       2.20    &       2.19    &       32.09   &       2.57    &       2.57    &       8.75    &       -70.58  &       -70.59  
 7cŚrednia wartości bezwzględnych wielkości                              &       15.13   &       12.69   
 


tab:pom_mono_meas_inZestawienie wyników eksperymentu pomiarowego mającego na celu weryfikacje poprawności zastosowanych parametrów modelu błędów oraz skuteczności zaproponowanej metody wyznaczania wartości wypadkowej niepewności rozszerzonej dla wielkości wejściowych algorytmu dyskretnej transformacji falkowej w przypadku sygnału monoharmonicznego
[c] c *3S[table-format = 3.2] *3S[table-format = 2.2]  S[table-format = +4.2]  S[table-format = +2.2]  2*, Hz & 3cWariancja, V & 3cNiepewność, mV & 2cBłąd, % 
 2-9
&  &  &  &  &  &  &  &  
 100     &       21.83   &       0.08    &       0.12    &       8.42    &       0.56    &       0.68    &      +1134.76 &       -17.28  
 200     &       21.88   &       0.13    &       0.10    &       8.43    &       0.68    &       0.62    &      +1251.32 &       +8.74   
 300     &       21.95   &       0.20    &       0.22    &       8.44    &       0.82    &       0.88    &       +857.74 &       -6.70   
 400     &       22.05   &       0.30    &       0.23    &       8.45    &       0.95    &       0.89    &       +850.94 &       +6.94   
 500     &       22.18   &       0.43    &       0.30    &       8.47    &       1.09    &       0.99    &       +758.97 &       +10.49  
 600     &       22.34   &       0.59    &       0.44    &       8.49    &       1.24    &       1.16    &       +633.42 &       +6.74   
 700     &       22.53   &       0.79    &       0.57    &       8.52    &       1.39    &       1.29    &       +558.89 &       +7.34   
 800     &       22.75   &       1.01    &       0.74    &       8.55    &       1.54    &       1.46    &       +484.06 &       +5.46   
 900     &       23.00   &       1.26    &       0.86    &       8.58    &       1.70    &       1.53    &       +460.66 &       +11.21  
 1000    &       23.28   &       1.54    &       1.20    &       8.62    &       1.86    &       1.76    &       +390.52 &       +6.04   
 2000    &       27.75   &       6.05    &       5.37    &       9.20    &       3.54    &       3.46    &       +165.88 &       +2.40   
 3000    &       35.35   &       13.73   &       11.88   &       10.09   &       5.28    &       5.03    &       +100.57 &       +5.03   
 4000    &       46.23   &       24.71   &       20.51   &       11.21   &       7.06    &       6.57    &       +70.70  &       +7.48   
 5000    &       60.52   &       39.14   &       38.22   &       12.51   &       8.86    &       8.87    &       +41.02  &       -0.05   
 6000    &       78.36   &       57.14   &       52.77   &       13.94   &       10.70   &       10.34   &       +34.79  &       +3.46   
 7000    &       99.89   &       78.87   &       67.63   &       15.47   &       12.56   &       11.68   &       +32.48  &       +7.55   
 8000    &       125.25  &       104.47  &       105.94  &       17.09   &       14.44   &       14.61   &       +16.95  &       -1.14   
 9000    &       154.58  &       134.08  &       131.56  &       18.77   &       16.36   &       16.24   &       +15.60  &       +0.73   
 10000   &       188.03  &       167.85  &       156.40  &       20.52   &       18.30   &       17.67   &       +16.14  &       +3.56   
 11000   &       225.76  &       205.93  &       211.24  &       22.32   &       20.26   &       20.48   &       +8.97   &       -1.08   
 12000   &       267.90  &       248.47  &       260.50  &       24.16   &       22.25   &       22.82   &       +5.88   &       -2.50   
 13000   &       314.60  &       295.62  &       275.31  &       26.05   &       24.27   &       23.37   &       +11.47  &       +3.84   
 14000   &       366.03  &       347.53  &       337.12  &       27.98   &       26.31   &       25.84   &       +8.27   &       +1.81   
 15000   &       422.34  &       404.37  &       393.42  &       29.94   &       28.38   &       27.91   &       +7.28   &       +1.66   
 16000   &       483.68  &       466.29  &       500.38  &       31.94   &       30.47   &       31.55   &       +1.26   &       -3.41   
 17000   &       550.21  &       533.45  &       508.62  &       33.98   &       32.59   &       31.76   &       +6.97   &       +2.60   
 18000   &       622.10  &       606.01  &       563.16  &       36.04   &       34.73   &       33.36   &       +8.03   &       +4.09   
 19000   &       699.50  &       684.14  &       747.62  &       38.14   &       36.90   &       38.46   &       -0.83   &       -4.06   
 20000   &       782.57  &       768.00  &       668.92  &       40.27   &       39.09   &       36.38   &       +10.69  &       +7.46   
 21000   &       871.49  &       857.76  &       775.38  &       42.43   &       41.31   &       39.16   &       +8.33   &       +5.49   
 7cŚrednia wartości bezwzględnych wielkości                              &       265.11  &       5.21    
 
Analizując wyniki zestawione w tabelach  oraz  zauważyć można, że część uzyskanych wartości znacząco odbiega od tych uzyskanych na drodze eksperymentu. Jak założono we wstępie pracy, skuteczność zaproponowanej metody szacowania wartości niepewności rozszerzonej wielkości wyjściowych analizowanego toru pomiarowego jest uzależniona od dokładności wyznaczenia parametrów modelu błędów. W rozważanym przykładzie część parametrów pozyskana została eksperymentalnie, przy czym dodatkowo stosowano aproksymacje ich przebiegu w funkcji częstotliwości sygnału, natomiast pozostałe parametry oszacowano stosując informacje zawarte w dokumentacji producentów stosowanych eksperymencie przyrządów i układów. Można zatem wnioskować, że parametry te nie zostały wyznaczone z odpowiednią dokładnością.

Pierwsze źródło niedokładności dla uzyskanych wyników stanowi niedokładne oszacowane parametrów sygnału błędu losowego . Parametry te pozyskano na podstawie dokumentacji układu, przy czym ze względu na niedostateczne informacje odnośnie charakteru związanych z omawianym sygnałem zjawisk przyjęte założenia mogły okazać się niepoprawne. Omawiane zjawiska widoczne są w szczególności dla przypadku, gdzie dominujące źródło błędów stanowią sygnały błędów losowych, natomiast sygnał błędu dynamicznego cechuje się niską wariancją. W analizowanym przypadku dokładność uzyskiwanych wyników zwiększyć można przeprowadzając identyfikację parametrów wskazanego sygnału błędu za pomocą analizatora widma.

Drugim istotnym powodem niedokładności uzyskanych wyników jest niewłaściwa aproksymacja charakterystyki wartości przesunięcia fazowego , w szczególności dla niewielkich wartości pulsacji. W omawianych przypadkach względny błąd oszacowania wartości przesunięcia fazowego jest istotny, co przekłada się na znaczący błąd oszacowania wypadkowej wartości niepewności rozszerzonej. Na podstawie wyników eksperymentu zauważyć można, że dla niskich wartości częstotliwości sygnału oszacowana zgodnie z równaniem eq:pom_dwtin_phi wartość przesunięcia fazowego  jest większa od rzeczywistej. Dokładność uzyskiwanych wyników może zostać zwiększona stosując bardziej dokładną aproksymację charakterystyki wielkości  w funkcji pulsacji np. wykorzystując w tym celu wielomian wyższego rzędu lub przeprowadzając odpowiednią symulację w dziedzinie częstotliwości dla zastosowanej konfiguracji części analogowo-cyfrowej toru pomiarowego.

Trzecie możliwe źródło sygnałów błędów, które pominięte zostało w przedstawionych rozważaniach, stanowią krótkotrwałe odchylenia w realizacjach okresu syntezowanego sygnału oraz sygnału zegarowego taktującego przetwornik analogowo-cyfrowy - tzw. Jitter . Jak założono we wstępie pracy, tematyka obejmująca analizę sygnałów błędów związanych z opóźnieniami nie stanowi jej obszaru, natomiast przedstawiony model błędów może zostać o nią uzupełniony. W przypadku źródła sygnału zegarowego przetwornika analogowo-cyfrowego oraz licznika związanego z generowaniem sygnału wyzwalającego proces przetwarzania analogowo-cyfrowego, odchylenie standardowe okresu tego sygnału wynosi typowo 15ps, przy czym należy zauważyć, że omawiany sygnał zegarowy jest podawany na wejście odpowiednio skonfigurowanych dzielników częstotliwości, zatem udział sygnału błędu związany z tym zjawiskiem jest pomijalnie mały. Z uwagi na zależność wartości wzmocnienia  w funkcji częstotliwości dla algorytmu transformacji falkowej, sygnał związany z szumem fazy stanowi istotne źródło błędu, przy czym sygnał ten pominięto w rozważaniach z uwagi na niedostateczne dane odnośnie jego parametrów.

Dla przypadków, gdzie dominujące źródło błędów stanowi wprowadzane przez część analogowo-cyfrową przesunięcie fazowe , oszacowane wartości niepewności rozszerzonej są zbieżne z tymi uzyskanymi pomiarowo. Należy zauważyć, że omawiana sytuacja ma miejsce dla sygnałów o częstotliwości powyżej 1kHz, które jednocześnie nie są tłumione przez bank filtrów związany z analizowaną wielkością wyjściową. Zależność względnego błędu oszacowania wartości niepewności rozszerzonej  dla analizowanej w przykładzie 24 wielkości wyjściowej toru pomiarowego w funkcji częstotliwości sygnału, wraz z informacją odnośnie wartości wzmocnienia  przedstawiono na rysunku . W przypadku sygnałów o częstotliwości powyżej 1kHz, które dla analizowanej wielkości wyjściowej tłumione są przez algorytm dyskretnej transformacji falkowej, dominujące źródło błędów stanowią wzmocnione sygnały niedeterministyczne.



fig:mono_freqcompZależność względnego błędu oszacowania wartości niepewności 24 wielkości wyjściowej toru pomiarowego w funkcji częstotliwości sygnału (oś prawa) oraz zależność wartości wzmocnienia wynikającego z transmitancji analizowanej wielkości wyjściowej algorytmu w funkcji częstotliwości (oś lewa) dla przypadku o znanej wartości amplitudy sygnału ()

Na podstawie uzyskanych wyników eksperymentu zauważyć można, że najistotniejsze właściwości analizowanego toru pomiarowego zostały zidentyfikowane poprawnie w przypadku, gdy tor ten przetwarza sygnały o częstotliwości powyżej 1kHz. Dla sygnałów o niższej częstotliwości dominują źródła błędów, których parametry na etapie identyfikacji właściwości zastosowanego w eksperymencie źródła sygnału  wyznaczono niedokładnie, z uwagi na niedostateczne dane zawarte w dokumentacji tego urządzenia oraz brak pomiarowej weryfikacji tych właściwości. Dla pozostałych wielkości wyjściowych toru pomiarowego sformułować można wnioski zbieżne, jak te dotyczące analizowanej w przykładzie wielkości wyjściowej, przy czym wartości względnego błędu oszacowania wartości niepewności rozszerzonej dla kolejnych grup wielkości wyjściowych analizowanego toru pomiarowego zestawiono w tabeli . Wyznaczone wartości średnie przedstawionych w tabeli  wielkości dotyczą średniej wyznaczonej dla wartości bezwzględnych przedstawionych wielkości dotyczących wybranej kolumny tabeli. Wyniki przeprowadzonego eksperymentu, wraz z wynikami uzyskanymi dla eksperymentu symulacyjnego, przeprowadzonego w poprzednim rozdziale, stanowią potwierdzenie zawartej we wstępie pracy tezy.



tab:pom_mono_meas_outZestawienie uzyskanych na drodze eksperymentu pomiarowego wartości względnego błędu oszacowania wartości niepewności rozszerzonej dla kolejnych grup wielkości wyjściowych algorytmu dyskretnej transformacji falkowej wraz z zestawieniem średniej dla wartości bezwzględnych tej wielkości w przypadku sygnału monoharmonicznego
[c] c *6S[table-format = +4.2]  2*, Hz & 6cZakres wielkości wyjściowych  algorytmu 
 2-7
&  &  &  &  &  &  
 100     &       -11.40  &       +5.19   &       -1.85   &       +10.75  &       -35.19  &       -16.81  
 200     &       +30.14  &       +6.93   &       -4.68   &       +14.92  &       -35.74  &       +9.16   
 300     &       +0.14   &       -7.79   &       -20.90  &       +2.02   &       -26.73  &       -24.13  
 400     &       +16.79  &       +9.74   &       -21.24  &       +6.57   &       -24.34  &       -8.11   
 500     &       +22.46  &       +3.56   &       -22.06  &       +7.05   &       -24.45  &       +2.60   
 600     &       +17.97  &       +5.67   &       -20.26  &       +1.90   &       -26.91  &       +2.63   
 700     &       +20.07  &       +5.41   &       -13.28  &       +1.89   &       -30.57  &       -2.79   
 800     &       +19.56  &       +6.06   &       -21.46  &       -5.32   &       -29.22  &       -23.74  
 900     &       +19.95  &       +13.35  &       -24.22  &       +0.85   &       -27.27  &       -1.63   
 1000    &       +10.44  &       +9.88   &       -25.54  &       -4.68   &       -25.40  &       +0.02   
 2000    &       +5.46   &       +4.80   &       +3.19   &       -19.97  &       -16.85  &       -7.01   
 3000    &       -3.79   &       -30.68  &       +7.12   &       -5.19   &       -13.70  &       -12.97  
 4000    &       +9.24   &       +9.06   &       +8.39   &       +8.12   &       -12.53  &       -12.49  
 5000    &       -1.95   &       -7.74   &       -34.60  &       +0.83   &       -14.85  &       -18.18  
 6000    &       -41.12  &       -44.26  &       -24.90  &       +4.26   &       -5.93   &       -10.29  
 7000    &       +5.30   &       +5.27   &       -41.88  &       +8.27   &       +6.25   &       -14.00  
 8000    &       -1.23   &       -0.96   &       -0.89   &       -0.97   &       -0.98   &       -11.70  
 9000    &       -11.64  &       -9.71   &       +1.76   &       -8.73   &       +0.95   &       -9.48   
 10000   &       +2.43   &       +4.64   &       +2.29   &       -36.51  &       +3.70   &       -4.50   
 11000   &       -3.37   &       -15.80  &       -51.17  &       -43.53  &       -1.07   &       -6.87   
 12000   &       -14.44  &       +12.91  &       -1.79   &       +8.32   &       -2.18   &       -7.56   
 13000   &       -0.13   &       -12.74  &       -30.61  &       -50.32  &       +3.58   &       +0.19   
 14000   &       +0.13   &       -1.57   &       -1.50   &       -28.29  &       +1.59   &       +1.82   
 15000   &       +2.91   &       +9.11   &       +0.94   &       -11.76  &       +1.39   &       +2.39   
 16000   &       -2.57   &       -3.42   &       -3.67   &       -4.31   &       -3.98   &       -3.53   
 17000   &       +1.54   &       -3.06   &       -53.60  &       +1.80   &       -3.59   &       +2.12   
 18000   &       -37.89  &       -40.72  &       -29.07  &       +4.69   &       -19.05  &       +4.04   
 19000   &       -2.97   &       -19.51  &       -48.33  &       -5.62   &       -45.52  &       -3.88   
 20000   &       +0.01   &       -6.20   &       -2.85   &       -2.79   &       -66.28  &       +7.32   
 21000   &       +3.68   &       +4.97   &       +0.94   &       -70.59  &       -69.57  &       +5.33   
 Średnia &       10.69   &       10.69   &       17.50   &       12.69   &       19.31   &       7.91    
 
W przypadku, gdzie zakładano nieznane rzeczywiste wartości parametrów sygnału  ze względu na istniejące korelacje pomiędzy zdefiniowanymi składowymi sygnału błędu dynamicznego należało rozważyć dwie opcje, które dotyczyły kolejno dodatniej i ujemnej wartości błędu nastawy amplitudy. W takim przypadku oszacowana wartość niepewności związana z sygnałem błędu dynamicznego była również obarczona błędem wynikającym z niedokładnego oszacowania jednej ze składowych tego sygnału. Należy jednak zauważyć, że stosowanie wartości wielkości dla przypadku idealnego, podczas szacowania wartości parametru związanego z tą wielkością, nie wprowadza do obliczeń istotnych błędów. Wniosek ten znajduje swoje potwierdzenie między innymi w wynikach uzyskanych dla równań eq:pom_mono_unc_rand_ab oraz eq:pom_mono_unc_rand_c, a zatem założenia przyjęte w tej kwestii dla proponowanego w pracy modelu błędów są zasadne. Niemniej jednak, jeżeli znane są rzeczywiste wartości danego parametru, to należy wykorzystać je podczas obliczeń. Ze względu na fakt, że zastosowany w celu określania rzeczywistych wartości amplitudy oraz składowej stałej sygnału  multimetr Agilent 3458A cechuje bardzo duża dokładnością, w rozważaniach pominięto niepewność pomiaru tych wielkości.

Porównując wyniki zestawione w tabelach  oraz  zauważyć można, że mimo oszacowania wartości niepewności rozszerzonej wielkości wejściowej  algorytmu transformacji falkowej z błędem względnym na poziomie około 5, oszacowane wartości niepewności rozszerzonej na wyjściu algorytmu obarczone są znacznie większym błędem. Zjawisko to wynika z faktu, że analizowany algorytm wzmacnia sygnały błędów losowych, a zatem zwiększa się również składnik błędu związany z niedokładnością wyznaczenia parametrów tych sygnałów. W przypadku, gdy parametry dominującego źródła błędu zostały wyznaczone nieprawidłowo, oszacowana wartość niepewności rozszerzonej cechuje się dużą wartością względnego błędu oszacowania tej wielkości. Można zatem zauważyć, że dla przedstawionego toru pomiarowego najistotniejszym powodem rozbieżności pomiędzy oszacowanymi, a uzyskanymi pomiarowo wartościami niepewności rozszerzonych wielkości wyjściowych tego toru jest niedokładne oszacowanie parametrów sygnałów błędów losowych. Analogicznie, dla sytuacji w których parametry sygnałów błędów losowych byłyby wyznaczone poprawnie, natomiast parametry sygnałów błędów dynamicznych wyznaczone byłyby niedokładnie, spodziewać się można, że wartości względnego błędu oszacowania wartości niepewności rozszerzonej wielkości wyjściowych toru pomiarowego będą proporcjonalne do wartości wzmocnienia  związanej z częstotliwością przetwarzanego sygnału .

Przypadek sygnału poliharmonicznego

Ostatni eksperyment weryfikujący poprawność założeń proponowanego w pracy modelu błędów oraz metody szacowania wypadkowej wartości niepewności rozszerzonych wielkości wyjściowych toru pomiarowego wykorzystującego algorytm dyskretnej transformacji falkowej dotyczy przypadku, gdy opisany w bieżącym rozdziale tor pomiarowy przetwarza sygnał trójkątny opisany w równaniach eq:pom_gen_triangle_ideal oraz eq:pom_gen_triangle_real. Podczas eksperymentu źródło napięcia wejściowego  stanowił generator przebiegów arbitralnych RIGOL DG1011 , natomiast zadane parametry sygnału wejściowego wynosiły  oraz . Jako, że w poprzednim eksperymencie rozważono przypadek dotyczący nieznanych wartości rzeczywistych wartości parametrów amplitudy oraz składowej stałej, omawiany eksperyment zakłada znajomość tych parametrów. Na podstawie wyników pomiarów przeprowadzonych za pomocą multimetru Agilent 3458A przyjmuje się  oraz .

Zgodnie z założeniem eq:pom_gen_var_rand_saw oraz równaniem eq:pom_varx_rand_prop w analizowanym przypadku wariancję sygnału błędu losowego , związanego z nieliniowością stosowanego źródła sygnału , opisać można równaniem:

przy czym zakłada się jednakowe prawdopodobieństwo realizacji każdej z wartości omawianego sygnału błędu, stąd przy założeniu liniowości analizowanego obiektu zachodzi . Należy zaznaczyć, że pomimo zmiany rodzaju rozkładu analizowanego sygnału błędu w stosunku do przypadku opisanego w poprzednim podrozdziale, treść równania eq:pom_mono_unc_rand_all pozostaje niezmienna dla analizowanego przypadku, co wynika z treści równania eq:alg_outerr oraz założeń centralnego twierdzenia granicznego.

Jako, że rzeczywista wartość parametru składowej stałej jest znana, a dodatkowo eksperyment przeprowadzany był w tych samych warunkach otoczenia, w jakich identyfikowano parametry przedstawionego toru pomiarowego, zakłada się, że sygnały   oraz . Wobec przyjętych założeń zachodzi zatem . Podobne założenie przyjmuje się odnośnie sygnału błędu dynamicznego , wynikającego z błędu nastawy amplitudy sygnału, a zatem zachodzi .

Najistotniejszą różnicę, w stosunku do poprzedniego eksperymentu, stanowi przebieg wypadkowego sygnału błędu dynamicznego  na wejściu algorytmu dyskretnej transformacji falkowej. W eksperymencie poprzednim sygnał ten składał się z jednej harmonicznej o pulsacji równej pulsacji sygnału , natomiast w bieżącym eksperymencie sygnał ten składa się z wielu harmonicznych. W dalszej części podrozdziału przyjmuje się, że analizowane będą wszystkie harmoniczne których pulsacja . Zgodnie z definicją daną równaniem eq:pom_errx_dyn_self każda harmoniczna sygnału błędu dynamicznego  złożona jest z dwóch składników. Wartość wariancji związanej z wybraną harmoniczną wyznaczana jest identycznie, jak przedstawiono w przykładzie opisanym równaniami eq:pom_mono_dyn_sum_param_amp_mid_val_c oraz eq:pom_mono_dyn_unc_c. Na podstawie wariancji kolejnych harmonicznych sygnału błędu dynamicznego wyznaczane są związane z nimi wartości niepewności rozszerzonej, zgodnie z równaiem eq:pom_uncout_dyn.

Omawiany eksperyment pomiarowy przeprowadzono stosując metodologię identyczną, jak w przypadku poprzedniego eksperymentu. Wypadkową wartość niepewności rozszerzonej szacowano zgodnie z równaniem eq:pom_uncout_sum, którego składniki wyznaczano zgodnie z równaniami od eq:pom_uncout_stat do eq:pom_uncout_dyn, natomiast wartość wypadkową wariancji szacowano zgodnie z zależnością eq:pom_varout_sum. W przypadku uzyskanych realizacji sygnału błędu , zdefiniowanego w równaniu eq:alg_out_err, wartość niepewności rozszerzonej wyznaczano zgodnie z równaniem eq:unc_summation. Ze względu na fakt, że obliczenia wykonywane były w sposób identyczny, jak przedstawiano w pracy wielokrotnie dla omawianych wcześniej przykładów, w bieżącym rozdziale nie zostały one przedstawione, co wynika z liczby analizowanych harmonicznych sygnału błędu dynamicznego.

W tabeli  zestawiono wyniki przeprowadzonego eksperymentu dla wybranych wartości częstotliwości podstawowej harmonicznej sygnału , dotyczące 24 wielkości wyjściowej toru pomiarowego. Indeksem  oznaczono wartości oszacowane na podstawie przyjętych założeń oraz proponowanej metody wyznaczania wypadkowej wartości niepewności rozszerzonej, natomiast indeksem  oznaczono wartości uzyskane pomiarowo. Oznaczony symbolem  błąd względny oszacowania wartości wypadkowej niepewności rozszerzonej wyznaczono zgodnie z równaniem eq:unc_error.



tab:pom_multi_meas_24Zestawienie wyników eksperymentu pomiarowego mającego na celu weryfikacje poprawności zastosowanych parametrów modelu błędów oraz skuteczności zaproponowanej metody wyznaczania wypadkowej niepewności rozszerzonej dla 24 wielkości wyjściowej algorytmu dyskretnej transformacji falkowej w przypadku sygnału poliharmonicznego
[c] c *4S[table-format = 5.2] *2S[table-format = 2.2]  S[table-format = +3.2]  2* & 2cWariancja, V & 2cNiepewność, mV & 2cKształt & Błąd, % 
 2-8
&  &  &  &  &  &  &  
 100     &       2.70    &       0.34    &       3.22    &       1.15    &       1.96    &       1.97    &       +181.14 
 200     &       2.72    &       0.38    &       3.24    &       1.20    &       1.97    &       1.96    &       +169.96 
 300     &       2.77    &       0.36    &       3.30    &       1.18    &       1.98    &       1.97    &       +180.50 
 400     &       2.86    &       0.41    &       3.37    &       1.26    &       2.00    &       1.96    &       +168.26 
 500     &       3.01    &       0.49    &       3.47    &       1.38    &       2.00    &       1.97    &       +151.29 
 600     &       3.24    &       0.59    &       3.61    &       1.51    &       2.01    &       1.98    &       +138.76 
 700     &       3.55    &       0.76    &       3.78    &       1.73    &       2.01    &       1.98    &       +119.23 
 800     &       3.97    &       1.01    &       3.98    &       2.00    &       2.00    &       1.99    &       +99.29  
 900     &       4.51    &       1.35    &       4.22    &       2.32    &       1.99    &       1.99    &       +82.33  
 1000    &       5.17    &       2.23    &       4.49    &       2.83    &       1.98    &       1.90    &       +58.65  
 2000    &       30.65   &       26.18   &       8.96    &       7.43    &       1.62    &       1.45    &       +20.51  
 3000    &       12.94   &       10.29   &       6.38    &       5.06    &       1.77    &       1.58    &       +26.02  
 4000    &       150.05  &       151.70  &       17.87   &       18.01   &       1.46    &       1.46    &       -0.78   
 5000    &       894.05  &       946.18  &       42.65   &       42.74   &       1.43    &       1.39    &       -0.21   
 7cŚrednia wartości bezwzględnych wielkości                              &       99.78   
 
Na podstawie danych zestawionych w tabeli  zauważyć można, że oszacowane wartości niepewności rozszerzonej dla analizowanej wielkości wyjściowej toru pomiarowego są znacznie większe, niż wartości uzyskane pomiarowo. Zważywszy na fakt, że wartość względnego błędu oszacowania wartości niepewności rozszerzonej maleje wraz ze wzrostem częstotliwości przetwarzanego sygnału, wnioskować można, że parametry związane z sygnałem błędu losowego , wynikającego z nieliniowości źródła sygnału , zostały oszacowane niepoprawnie. Omawiane parametry oszacowano na podstawie dokumentacji zastosowanego generatora, przy czym jedyną informację dotyczącą źródeł błędów dla sygnału trójkątnego stanowiła wartość błędu granicznego związanego z nieliniowością syntezowanego przebiegu. Można zatem przypuszczać, że rzeczywista wartość niepewności rozszerzonej, związanej z omawianym zjawiskiem, jest znacznie mniejsza, niż oszacowano.

Aby zweryfikować zasadność przedstawionej hipotezy obliczenia wykonano ponownie, dla założeń gdzie , a zatem . Podobnie, jak w przypadku synalu monoharmonicznego, obliczenia wykonano dla wszystkich grup wielkości wyjściowych toru pomiarowego. W tabeli  zestawiono wyznaczone wartości względnego błędu oszacowania wartości niepewności rozszerzonej dla kolejnych grup wielkości wyjściowych analizowanego toru pomiarowego oraz uśrednione wartości bezwzględne tych wielkości. Dane zawarte w tabeli  potwierdzają hipotezę postawioną w poprzednim akapicie. Zauważyć jednak można, że w wielu przypadkach oszacowana wartość wypadkowej niepewności rozszerzonej jest mniejsza, niż uzyskana pomiarowo. Oznacza to, że występują zjawiska zakłócające, których nie uwzględniono w analizie, przy czym ich rola jest istotna w procesie pomiaru.



tab:pom_multi_meas_outZestawienie uzyskanych na drodze eksperymentu pomiarowego wartości względnego błędu oszacowania wartości niepewności rozszerzonej dla kolejnych grup wielkości wyjściowych algorytmu dyskretnej transformacji falkowej wraz z zestawieniem średniej dla wartości bezwzględnych tej wielkości w przypadku sygnału poliharmonicznego i założenia gdzie 
[c] c *6S[table-format = +4.2]  2*, Hz & 6cZakres wielkości wyjściowych  algorytmu 
 2-7
&  &  &  &  &  &  
 100     &       -31.16  &       -18.18  &       -25.28  &       -9.30   &       -40.48  &       -34.87  
 200     &       -4.90   &       +2.83   &       -22.41  &       -10.17  &       -51.03  &       -23.34  
 300     &       +23.42  &       +22.18  &       -0.41   &       +1.50   &       -49.61  &       -18.57  
 400     &       +68.89  &       +31.19  &       -2.43   &       +6.25   &       -38.96  &       -22.96  
 500     &       +16.93  &       +42.74  &       +16.75  &       +10.79  &       -39.77  &       -16.91  
 600     &       +26.67  &       +40.17  &       +18.06  &       +18.74  &       -34.57  &       -18.12  
 700     &       +64.99  &       +30.42  &       +17.38  &       +22.18  &       -25.47  &       -16.08  
 800     &       +30.86  &       +15.25  &       +23.14  &       +21.25  &       -23.85  &       -10.94  
 900     &       +19.00  &       +22.54  &       +21.96  &       +20.22  &       -18.57  &       -9.25   
 1000    &       +11.60  &       +12.11  &       +24.78  &       +11.15  &       -15.17  &       -11.48  
 2000    &       +0.14   &       -1.05   &       -1.04   &       +7.60   &       -6.06   &       -29.94  
 3000    &       -41.35  &       -18.66  &       +36.39  &       +1.42   &       +4.42   &       -26.90  
 4000    &       -4.68   &       -2.28   &       -3.70   &       -4.09   &       +6.69   &       -29.26  
 5000    &       -17.04  &       -22.38  &       -14.16  &       -0.97   &       -12.72  &       -50.30  
 Średnia &       25.83   &       20.14   &       16.28   &       10.40   &       26.24   &       22.78   
 
Podobnie, jak w przypadku eksperymentu dotyczącego monoharmonicznego sygnału wejściowego, oszacowane wartości niepewności rozszerzonych są zbieżne z tymi uzyskanymi pomiarowo dla sytuacji, gdzie dominującym źródłem błędu jest sygnał błędu dynamicznego. Dla przypadków, gdzie dominujące źródło błędów stanowi sygnał błędu losowego, oszacowane wartości niepewności rozszerzonych są mniejsze od uzyskanych eksperymentalnie. Wobec powyższych zauważyć można, że w przetwarzanym sygnale  występuje sygnał błędu , który pominięto w analizie. Niepewność rozszerzona związana z sygnałem błędu  jest jednak znacznie mniejsza, niż wynika z równania eq:pom_multi_rand_var_in, natomiast bez przeprowadzenia odpowiedniej procedury pomiarowej ustalenie jej wartości jest niemożliwe.

Podsumowanie rozdziału

Jak założono we wstępie do pracy, skuteczność przedstawionej metody analizy właściwości metrologicznych toru pomiarowego stosującego algorytm dyskretnej transformacji falkowej jest uwarunkowana dokładnością wyznaczenia parametrów modelu błędów tego toru. W rozdziale przedstawiono przykładowy tor pomiarowy oraz zaproponowano procedurę identyfikacji parametrów zaproponowanego w pracy modelu błędów tego toru, a dodatkowo wskazano w jaki sposób modelować można właściwości związane z przetwarzanym przez tor pomiarowy sygnałem wejściowym. Zaproponowany algorytm identyfikacji właściwości toru pomiarowego miał na celu określenie najważniejszych źródeł błędów oraz ich parametrów, przy czym zakładał on pozyskanie jak największej liczby informacji na podstawie dokumentacji stosowanych komponentów tego toru. W przypadku, gdy dokumentacja urządzenia nie zapewniała dostatecznych informacji na temat charakteru analizowanego źródła błędu, stosowano pomiarową metodę identyfikacji właściwości tego obiektu.

Do wyznaczenia właściwości statycznych przedstawionego toru pomiarowego zastosowano kalibrator FLUKE 5700A , a zatem zakładać można, że właściwości te zostały określone dokładnie. W przypadku właściwości dynamicznych, parametry modelu błędów oszacowano stosując opisaną procedurę pomiarową, której wyniki obarczone były wieloma źródłami błędów. Dodatkowo na podstawie uzyskanych wyników pomiarów przeprowadzono aproksymacje charakterystyki obiektu, a zatem wyznaczone parametry modelu błędów były niedokładne. Oszacowana wartość przesunięcia fazowego, wynikającego z niedoskonałych właściwości dynamicznych analizowanego toru pomiarowego, jest zawyżona dla harmonicznych przetwarzanego sygnału o niskich częstotliwościach (poniżej około 1kHz).

Zastosowanie oscyloskopu w celu oszacowania wartości wzmocnienia statycznego wprowadza bardzo duży błąd oraz rozrzut uzyskiwanych wyników. Można jednak zauważyć, że w opisywanym przypadku toru pomiarowego wielkość ta została oszacowana poprawnie, a przyjęte uproszczenia nie miały znaczącego wpływu na uzyskiwane wartości niepewności rozszerzonych. Należy jednak zaznaczyć, że w przypadkach, gdzie znajomość dokładnej wartości wzmocnienia w funkcji częstotliwości jest istotna, należy zastosować przyrząd pomiarowy umożliwiający jej wyznaczenie w sposób odpowiednio dokładny.

Mimo, że przyjęte odnośnie zastosowanego modelu błędów parametry pozwoliły na wyznaczenie niepewności wielkości wejściowych algorytmu dyskretnej transformacji falkowej z dokładnością około 5, co przedstawiono w tabeli , względny błąd oszacowania wartości niepewności wielkości wyjściowych tego algorytmu jest znacznie większy. Sytuacja ta spowodowana jest faktem, że transmitancję związaną z pojedynczą wielkością wyjściową algorytmu dyskretnej transformacji falkowej traktować można jak aktywny filtr. Z uwagi na omawianą właściwość, dla analizowanej wielkości przenoszone są jedynie wybrane sygnały błędów ze względu na ich widmową gęstość mocy, co wynika z transmitancji analizowanej wielkości wyjściowej. Jako, że sygnały o wybranych częstotliwościach są wzmacniane, wzmacniany jest też błąd związany z oszacowaniem parametrów tych sygnałów.

Na podstawie przeprowadzonych eksperymentów zauważyć można, że główne źródło niedokładności oszacowania wartości niepewności rozszerzonych wielkości wyjściowych analizowanego toru pomiarowego stanowiło niedokładne wyznaczanie parametrów sygnałów błędów zawartych w przetwarzanym przez niego sygnale . Poza stosowaniem dodatkowego multimetru w celu określenia wartości amplitudy oraz składowej stałej sygnału  nie przeprowadzono żadnej procedury identyfikacji sygnałów błędów związanych ze stosowanym generatorem. Wszelkie informacje dotyczące możliwych zjawisk zakłócających proces syntezy napięcia wyjściowego czerpano z dokumentacji urządzenia, przy czym dane te były bardzo ogólne i odnosiły się do serii stosowanego modelu urządzenia. Należy zatem indywidualnie dla każdego urządzenia identyfikować jego właściwości, jeżeli istotne jest określenie dokładnych parametrów modelu błędów tego urządzenia.

Należy zauważyć, że celem przeprowadzonego eksperymentu było jedynie potwierdzenie zawartej w pracy tezy odnośnie wpływu dokładności wyznaczania parametrów modelu błędów na dokładność szacowania wartości wypadkowej niepewności rozszerzonej dla analizowanego toru pomiarowego. Analiza właściwości kolejnych fragmentów tego toru została przeprowadzona na potrzeby określenia omawianych parametrów i nie stanowiła bezpośrednio tematu pracy. Zasadność zaproponowanej metody szacowania wypadkowej wartości niepewności rozszerzonej oraz przedstawionego w pracy modelu błędu zostały potwierdzone w poprzednim rozdziale pracy.

Podsumowanie pracy

Zaproponowany w pracy model błędów umożliwia opis właściwości metrologicznych torów pomiarowych złożonych zarówno z części przetwarzania analogowego, jak i cyfrowego. Model ten obejmuje dwa rodzaje właściwości obiektu: dynamiczne - związane z widmem przetwarzanego sygnału, oraz statyczne - niezależne od widma przetwarzanego sygnału. Stosowanie zaproponowanego modelu błędów jest możliwe bez znajomości dokładnej struktury wewnętrznej analizowanego układu, a zatem model ten znajduje swoje zastosowanie do opisu między innymi urządzeń typu SoC. Parametry modelu błędów mogą być pozyskiwane na drodze eksperymentu pomiarowego, jak i szacowane na podstawie dokumentacji analizowanego urządzenia.

Opis właściwości metrologicznych analizowanego obiektu, wykorzystujący miarę wariancji sygnału błędu na wyjściu tego obiektu, jest znacznie bardziej przystępny z punktu widzenia skomplikowania obliczeń, niż opis wykorzystujący miarę niepewności rozszerzonej (w szczególności, gdy kolejne sygnały błędów nie są ze sobą w żaden sposób skorelowane). Opis ten nie dostarcza jednak informacji o prawdopodobieństwie uzyskania danej wartości realizacji sygnału błędu, a zatem jest mniej użyteczny, niż ten wykorzystujący miarę niepewności rozszerzonej.

Zastosowana w pracy metoda szacowania wypadkowej wartości niepewności rozszerzonej, wykorzystująca metodę redukcyjnej arytmetyki interwałowej, wraz z zaproponowaną modyfikacją zapewnia wyniki zbieżne z uzyskiwanymi metodą Monte-Carlo. Ze względu na niską złożoność obliczeniową omawianej metody, jej stosowanie jest możliwe w czasie rzeczywistym, również w przypadku zmiany parametrów modelu błędów lub widma przetwarzanego sygnału. Ograniczeniem przedstawionej metody jest konieczność wstępnego wyznaczenia wartości dla współczynników kształtu, przy czym procedura ta nie może odbywać się w czasie rzeczywistym, natomiast jest ona jednorazowa. W przypadku wystąpienia korelacji pomiędzy analizowanymi sygnałami błędów należy wyznaczyć wypadkowe wartości niepewności rozszerzonej dla skorelowanych grup sygnałów lub zastosować inną, niż zaproponowano w pracy, metodę wyznaczania wartości współczynników koherencji. Niezależnie, czy obliczenia prowadzone są z wykorzystaniem budżetu niepewności obejmującego wszystkie źródła błędów, czy stosowane są wypadkowe parametry dla wyróżnionych w pracy grup sygnałów błędów, omawiana metoda zapewnia bardzo zbliżone wyniki. Należy jednak zaznaczyć, że wyznaczanie wypadkowych wartości niepewności rozszerzonej w przypadku nietypowego kształtu rozkładu wypadkowego sygnału błędu uniemożliwia wykorzystanie wyznaczonej wartości niepewności rozszerzonej w dalszych obliczeniach. Właściwość ta spowodowana jest koniecznością znajomości wartości współczynników kształtu analizowanych par sygnałów. Jako, że wartości współczynników kształtu muszą zostać wyznaczone dla wcześniej zdefiniowanych parametrów rozkładu sygnałów, wyznaczenie wartości współczynników koherencji zgodnie z proponowaną w pracy metodą jest w omawianym przypadku niemożliwe. Należy zauważyć, że w praktyce wada ta jest nieistotna, jeżeli podczas analizy stosowane są odpowiednio wyprowadzone zależności, wynikające z wzajemnych relacji zachodzących pomiędzy kolejnymi fragmentami toru pomiarowego.

Przedstawienie algorytmu transformacji falkowej w postaci macierzowej umożliwia analizę właściwości metrologicznych tego algorytmu w sposób zbieżny z opisywaną w pracy metodą analizy cyfrowej cześć toru pomiarowego. Omawiany algorytm przedstawić można jako zbiór cyfrowych fragmentów toru pomiarowego, których model właściwości metrologicznych opisano w pracy. Wyznaczenie wartości współczynników macierzy transformacji dla analizowanego algorytmu odbywać się może analitycznie, na podstawie założeń dotyczących stosowanej rodziny falek, lub może zostać przeprowadzone na podstawie istniejącej implementacji tego algorytmu. Dla omawianej rodziny algorytmów istnieje również możliwość wyznaczenia wartości współczynników macierzy transformacji na podstawie transmitancji kolejnych wielkości wyjściowych algorytmu, a także przeprowadzenie operacji odwrotnej do opisanej. Jako, że w klasycznym przypadku wielkości wyjściowe algorytmu można podzielić na grupy, w obrębie których transmitancja algorytmu jest identyczna, analiza może zostać uproszczona. Każda z omawianych grup wielkości wyjściowych związana jest z kolejną iteracją procesu dekompozycji sygnału.

Jak wykazały przeprowadzone eksperymenty, dokładność oszacowania wypadkowej wartości niepewności rozszerzonej wielkości wyjściowych analizowanego toru pomiarowego uwarunkowana jest głównie dokładnością wyznaczenia parametrów dla stosowanego modelu błędów. Z uwagi na fakt, że algorytmy transformacji falkowej stanowią zbiór filtrów, istotne jest prawidłowe oszacowanie parametrów najistotniejszych źródeł błędów dla każdej grupy sygnałów błędów: statycznych, dynamicznych oraz losowych. Nawet, jeżeli wielkości wejściowe algorytmu obarczone będą pewnym sygnałem błędu dominującego, to błąd ten może cechować się widmową gęstością mocy skoncentrowaną w okolicy częstotliwości, która dla wybranej wielkości wyjściowej jest tłumiona. W takim przypadku dla analizowanej wielkości wyjściowej przenoszone będą jedynie pozostałe sygnały błędów, przy czym sygnały te mogą być dodatkowo wzmacniane. Należy zatem zauważyć, że mimo niewielkiej rozbieżności w oszacowaniu wypadkowej wartości niepewności rozszerzonej wielkości wejściowych dla opisywanych algorytmów, wypadkowa wartość niepewności rozszerzonej na wyjściu tych algorytmów może być oszacowana niewłaściwie.

Przedstawione dotychczas wnioski podsumowujące zawarte w pracy rozważania potwierdzają założenia przedstawione we wstępie do pracy oraz sformułowaną w pracy tezę. Dalsze rozważania dotyczyć mogą uzupełniania przedstawionego modelu błędów o opis kolejnych zjawisk zakłócających proces pomiaru (np. wpływu opóźnień występujących w systemach pomiarowo-sterujących na wartości niepewności rozszerzonych wielkości analizowanych w tych systemach). Kolejne istotne zagadnie wymagające dalszych badań stanowi rozszerzenie opisanej w pracy metody wyznaczania wartości współczynników koherencji, obejmujące przypadki sygnałów skorelowanych, umożliwiające jednolite stosowanie omawianej metody w dowolnym przypadku.

Najważniejszy walor pracy stanowi przedstawienie jednolitego, spójnego modelu błędów umożliwiającego opis parametrów sygnałów błędów obecnych w torze pomiarowym. Zaproponowany model obejmuje etapy przetwarzania analogowego, cyfrowego oraz wskazuje wzajemne relacje pomiędzy omawianymi fragmentami. Sporządzone na potrzeby pracy podsumowanie najistotniejszych informacji dotyczących metrologicznych właściwości algorytmów transformacji falkowej umożliwia zastosowanie przedstawionego modelu błędu do opisu wpływu tych algorytmów na obecne w torze pomiarowym sygnały błędów. Istotną wartość pracy stanowi również zaproponowana metoda szacowania wypadkowej wartości niepewności rozszerzonej, przy czym metoda ta zapewnia wyniki zbliżone do tych uzyskiwanych metodą Monte-Carlo, oferując jednocześnie stosunkowo niewielką, w porównaniu do pozostałych obliczeń wykonywanych przez tor pomiarowy, złożoność obliczeniową również w przypadku zmiany wartości parametrów modelu błędów. Niniejsza praca stanowi zatem propozycję, w jaki sposób opisać można właściwości metrologiczne toru pomiarowego stosującego w swojej strukturze algorytm transformacji falkowej oraz w jaki sposób ilościowo określić niedokładność wyznaczania wartości wielkości wyjściowych tego toru. Oryginalność pracy podkreśla fakt, że dotychczas nie poruszano w literaturze problemu jednolitej analizy właściwości metrologicznych algorytmów dyskretnej transformacji falkowej.

